(function(a){function q(){}function p(){}function m(){}function e(){}function k(){}function d(a,f,h){function b(){}function v(){}b.prototype=f.constructor.prototype;v.prototype=new b;a&&(v.displayName="SingletonClass_alloc("+a+")");a=new v;c(a,v,f,h.prototype);a.$$alloc=h;return a.$$proto.$$class=a}function c(a,h,b,v){a.$$id=z.uid();a.$$proto=v;a.constructor=h;b===f?(a.$$is_module=!0,a.$$class=f):(a.$$is_class=!0,a.$$class=w);a.$$super=b;a.$$parent=b;a.$$inc=[]}function b(){function a(){}var h=function(){};
h.prototype=e.prototype;a.prototype=new h;h=new a;c(h,a,f,{});return h}function B(a){var f=a.$$class,h="#<Class:#<"+f.$$name+":"+f.$$id+">>",b=z.boot_class(f,function(){});b.$$name=h;b.$$proto=a;b.$$class=f.$$class;b.$$scope=f.$$scope;b.$$parent=f;b.$$is_singleton=!0;b.$$singleton_of=a;return a.$$meta=b}function y(a,f,h,b){var g,l,L,d;g=a.$$bridge.$ancestors();l=0;for(d=g.length;l<d;l++){L=g[l];if(v.call(L.$$proto,h)&&L.$$proto[h]&&!L.$$proto[h].$$donated&&!L.$$proto[h].$$stub&&L!==f)break;if(L===
f){a.prototype[h]=b;break}}}function x(a,f){var h,b,v,g;if("function"===typeof a){h=f.$__id__();b=f.$instance_methods();for(g=b.length-1;0<=g;g--)v="$"+b[g],y(a,f,v,f.$$proto[v]);D[h]||(D[h]=[]);D[h].push(a)}else if(h=D[a.$__id__()]){for(g=h.length-1;0<=g;g--)x(h[g],f);D[f.$__id__()]=h.slice()}}function t(a,f,h){if(h){var b=function(){};b.prototype=h.$$proto||h.prototype;f.prototype=new b}a&&(f.displayName=a+"_alloc");return f.prototype.constructor=f}function n(a,f,h){var b=function(){};b.prototype=
h.prototype;var v=function(){};v.prototype=new b;v.displayName="#<Class:"+a+">";b=new v;c(b,v,h,f.prototype);b.$$alloc=f;b.$$name=a;b.displayName=a;f.prototype.$$class=b;z[a]=b;z.constants.push(a);return b}function r(a,f){for(var h=a.$$scope.constants,b=f.$$scope,v=b.constants,g=0,l=h.length;g<l;g++)v.push(h[g]),b[h[g]]=a.$$scope[h[g]]}function l(a,f){var h=a.$$dep,b=a.$$proto[f],v,g,L,d,J,w,r,C,u,c;if(h)for(v=0,g=h.length;v<g;v++){L=h[v];d=L.$$proto;J=d[f];if(!d.hasOwnProperty(f)||J.$$donated||J.$$stub)if(d.hasOwnProperty(f)&&
!J.$$stub){w=L.$$inc;r=0;for(C=w.length;r<C;r++)w[r]===J.$$donated&&(u=r),w[r]===a&&(c=r);u<=c&&(d[f]=b,d[f].$$donated=a)}else d[f]=b,d[f].$$donated=a;L.$$dep&&l(L,f)}}function g(a){function f(){this.$method_missing.$$p=f.$$p;f.$$p=null;return this.$method_missing.apply(this,[a.slice(1)].concat(L.call(arguments)))}f.$$stub=!0;return f}function u(a){var f,h=[];"."!==z.current_dir&&(a=z.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var b=0,v=a.length;b<v;b++)f=
a[b],""!==f&&(".."===f?h.pop():h.push(f));return h.join("/")}if("undefined"!==typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var A,C,h,f,w,z=this.Opal={},D={},N=function(){};N.prototype=z;z.constructor=N;z.constants=[];z.global=this;var v=z.hasOwnProperty,L=z.slice=Array.prototype.slice,J=4;z.uid=function(){return J+=2};z.cvars={};z.gvars={};z.exit=function(a){z.gvars.DEBUG&&console.log("Exited with status "+a)};z.exceptions=
[];z.get=function(a){var f=this[a];return null==f?this.base.$const_get(a):f};z.create_scope=function(a,f,h){var b=function(){},v=b.prototype=new a.constructor;f.$$scope=v;f.$$base_module=a.base;v.base=f;v.constructor=b;v.constants=[];h&&(z.cdecl(a,h,f),b.displayName=h+"_scope_alloc")};z.klass=function(a,f,b,v){var g,l;a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof f&&(l=f,f=h);if((g=a.$$scope[b])&&g.$$orig_scope===a.$$scope){if(!g.$$is_class)throw z.TypeError.$new(b+" is not a class");
if(f&&g.$$super!==f)throw z.TypeError.$new("superclass mismatch for class "+b);return g}null==f&&(f=h);v=l||t(b,v,f);g=d(b,f,v);g.$$name=b;g.displayName=b;g.$$is_class=!0;z.create_scope(a.$$scope,g,b);a[b]=a.$$scope[b]=g;l?z.bridge(g,v):(f!==h&&f!==C&&r(f,g),f.$inherited&&f.$inherited(g));return g};z.boot_class=function(a,f){var h=t(null,f,a);return d(null,a,h)};z.module=function(a,f){var g;a.$$is_class||a.$$is_module||(a=a.$$class);if(v.call(a.$$scope,f)){if(g=a.$$scope[f],!g.$$is_module&&g!==h)throw z.TypeError.$new(f+
" is not a module");}else g=b(),g.$$name=f,g.$$is_module=!0,g.$$dep=[],z.create_scope(a.$$scope,g,f),a[f]=a.$$scope[f]=g;return g};z.boot_module_object=b;z.get_singleton_class=function(a){if(a.$$meta)return a.$$meta;if(a.$$is_class||a.$$is_module){var f=new z.Class.$$alloc;f.$$class=z.Class;f.$$proto=a.constructor.prototype;f.$$is_singleton=!0;f.$$singleton_of=a;f.$$inc=[];f.$$scope=a.$$scope;return a.$$meta=f}return B(a)};z.append_features=function(a,f){var h,b,v,g,l;for(l=f.$$inc.length-1;0<=l;l--)if(f.$$inc[l]===
a)return;f.$$inc.push(a);a.$$dep.push(f);x(f,a);f.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:f.$$parent,$$module:a,$$iclass:!0};h=a.$$proto;b=f.$$proto;v=a.$instance_methods();for(l=v.length-1;0<=l;l--)if(g="$"+v[l],!b.hasOwnProperty(g)||b[g].$$donated||b[g].$$stub)b[g]=h[g],b[g].$$donated=a;r(a,f)};z.bridge=function(a,f){if(f.$$bridge)throw z.ArgumentError.$new("already bridged");z.stub_subscribers.push(f.prototype);f.prototype.$$class=a;f.$$bridge=a;for(var h=a.$ancestors(),b=h.length-
1;0<=b;b--)x(f,h[b]);for(var v in q.prototype){var g=q.prototype[g];!g||!g.$$stub||v in f.prototype||(f.prototype[v]=g)}return a};z.casgn=function(a,f,b){function v(a,f){a.$$name=f;for(f in a.$$scope){var h=a.$$scope[f];h.$$name===A&&(h.$$is_class||h.$$is_module)&&v(h,f)}}var g=a.$$scope;if(b.$$is_class||b.$$is_module){if(b.$$is_class||b.$$base_module===h)b.$$base_module=a;b.$$name===A&&b.$$base_module.$$name!==A&&v(b,f)}g.constants.push(f);return g[f]=b};z.cdecl=function(a,f,h){(h.$$is_class||h.$$is_module)&&
null==h.$$orig_scope&&(h.$$name=f,h.$$orig_scope=a,a.constructor[f]=h);a.constants.push(f);return a[f]=h};z.add_stubs=function(a){var f,h=z.stub_subscribers,b,v=a.length,l,L=h.length,d,J;for(b=0;b<v;b++)for(d=a[b],J=g(d),l=0;l<L;l++)f=h[l],d in f||(f[d]=J)};z.stub_subscribers=[q.prototype];z.add_stub_for=function(a,f){var h=g(f);a[f]=h};z.ac=function(a,f,h,b){var v="",v=h.$$is_class||h.$$is_module?v+(h.$$name+"."):v+(h.$$class.$$name+"#");throw z.ArgumentError.$new("["+(v+b)+"] wrong number of arguments("+
a+" for "+f+")");};z.ancestors=function(a){for(var f=[];a;){f.push(a);for(var h=0;h<a.$$inc.length;h++)f=f.concat(z.ancestors(a.$$inc[h]));a=a.$$is_class?a.$$super:null}return f};z.find_super_dispatcher=function(a,f,h,b,v){if(v)h=a.$$is_class||a.$$is_module?v.$$super:a.$$class.$$proto;else if(a.$$is_class||a.$$is_module)h=a.$$super;else{v=a.$$meta||a.$$class;for(a="$"+f;v&&v.$$proto[a]!==h;)v=v.$$parent;if(!v)throw Error("could not find current class for super()");for(v=v.$$parent;v;){var g=v.$$proto[a];
if(g&&g!==h)break;v=v.$$parent}h=v.$$proto}h=h["$"+f];h.$$p=b;return h};z.find_iter_super_dispatcher=function(a,f,h,b,v){return h.$$def?z.find_super_dispatcher(a,h.$$jsid,h,b,v):z.find_super_dispatcher(a,f,h,b,v)};z.ret=function(a){z.returner.$v=a;throw z.returner;};z.yield1=function(a,f){if("function"!==typeof a)throw z.LocalJumpError.$new("no block given");return 1<a.length&&f.$$is_array?a.apply(null,f):a(f)};z.yieldX=function(a,f){if("function"!==typeof a)throw z.LocalJumpError.$new("no block given");
if(1<a.length&&1===f.length&&f[0].$$is_array)return a.apply(null,f[0]);f.$$is_array||(f=L.call(f));return a.apply(null,f)};z.rescue=function(a,f){for(var h=0;h<f.length;h++){var b=f[h];if(b.$$is_array){if(b=z.rescue(a,b))return b}else if(b["$==="](a))return b}return null};z.is_a=function(a,f){if(a.$$meta===f)return!0;for(var h=a.$$class;h;){if(h===f)return!0;for(var b=0,v=h.$$inc.length;b<v;b++)if(h.$$inc[b]===f)return!0;h=h.$$super}return!1};z.to_ary=function(a){if(a.$$is_array)return a.constructor===
Array?a:a.literal;if(a["$respond_to?"]("to_ary",!0)){var f=a.$to_ary();if(f===A)return[a];if(f.$$is_array)return f.constructor===Array?f:f.literal;throw z.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+f.$$class+")");}return[a]};z.to_a=function(a){if(a.$$is_array)return a.constructor===Array?a.slice():a.literal.slice();if(a["$respond_to?"]("to_a",!0)){var f=a.$to_a();if(f===A)return[a];if(f.$$is_array)return f.constructor===Array?f:f.literal;throw z.TypeError.$new("Can't convert "+
a.$$class+" to Array ("+a.$$class+"#to_a gives "+f.$$class+")");}return[a]};z.kwrestargs=function(a,f){var h=[],b={},v=null,g=a.$$smap;for(v in g)f[v]||(h.push(v),b[v]=g[v]);return z.hash2(h,b)};z.send=function(a,f){var h=L.call(arguments,2),b=a["$"+f];return b?b.apply(a,h):a.$method_missing.apply(a,[f].concat(h))};z.block_send=function(a,f,h){var b=L.call(arguments,3),v=a["$"+f];return v?(v.$$p=h,v.apply(a,b)):a.$method_missing.apply(a,[f].concat(b))};z.defn=function(a,f,h){a.$$proto[f]=h;a.$$is_module&&
(l(a,f),a.$$module_function&&z.defs(a,f,h));if(a.$__id__&&!a.$__id__.$$stub){var b=D[a.$__id__()];if(b)for(var v=b.length-1;0<=v;v--)y(b[v],a,f,h)}a.$method_added&&!a.$method_added.$$stub&&a.$method_added(f.substr(1));(a=a.$$singleton_of)&&a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(f.substr(1));return A};z.defs=function(a,f,h){z.defn(z.get_singleton_class(a),f,h)};z.def=function(a,f,h){a.$$eval||!a.$$is_class&&!a.$$is_module?z.defs(a,f,h):z.defn(a,f,h)};
z.rdef=function(a,f){if(!v.call(a.$$proto,f))throw z.NameError.$new("method '"+f.substr(1)+"' not defined in "+a.$name());delete a.$$proto[f];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(f.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(f.substr(1))};z.udef=function(a,f){if(!a.$$proto[f]||a.$$proto[f].$$stub)throw z.NameError.$new("method '"+f.substr(1)+"' not defined in "+a.$name());
z.add_stub_for(a.$$proto,f);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(f.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(f.substr(1))};z.alias=function(a,f,h){var b="$"+f,v="$"+h,g=a.$$proto["$"+h];if(a.$$eval)return z.alias(z.get_singleton_class(a),f,h);if("function"!==typeof g||g.$$stub){for(f=a.$$super;"function"!==typeof g&&f;)g=f[v],f=f.$$super;if("function"!==typeof g||
g.$$stub)throw z.NameError.$new("undefined method `"+h+"' for class `"+a.$name()+"'");}z.defn(a,b,g);return a};z.alias_native=function(a,f,h){f="$"+f;var b=a.$$proto[h];if("function"!==typeof b||b.$$stub)throw z.NameError.$new("undefined native method `"+h+"' for class `"+a.$name()+"'");z.defn(a,f,b);return a};z.hash_init=function(a){a.$$map={};a.$$smap={};a.$$keys=[]};z.hash_clone=function(a,f){f.none=a.none;f.proc=a.proc;for(var h=0,b=a.$$keys.length,v,g;h<b;h++)v=a.$$keys[h],v.$$is_string?g=a.$$smap[v]:
(g=v.value,v=v.key),z.hash_put(f,v,g)};z.hash_put=function(f,h,b){if(h.$$is_string)f.$$smap.hasOwnProperty(h)||f.$$keys.push(h),f.$$smap[h]=b;else{var v=h.$hash(),g,l;if(f.$$map.hasOwnProperty(v)){for(g=f.$$map[v];g;){if(h===g.key||h["$eql?"](g.key)){l=a;g.value=b;break}l=g;g=g.next}l&&(g={key:h,key_hash:v,value:b},f.$$keys.push(g),l.next=g)}else g={key:h,key_hash:v,value:b},f.$$keys.push(g),f.$$map[v]=g}};z.hash_get=function(a,f){if(f.$$is_string){if(a.$$smap.hasOwnProperty(f))return a.$$smap[f]}else{var h=
f.$hash();if(a.$$map.hasOwnProperty(h))for(h=a.$$map[h];h;){if(f===h.key||f["$eql?"](h.key))return h.value;h=h.next}}};z.hash_delete=function(a,f){var h,b=a.$$keys,v=b.length,g;if(f.$$is_string){if(!a.$$smap.hasOwnProperty(f))return;for(h=0;h<v;h++)if(b[h]===f){b.splice(h,1);break}g=a.$$smap[f];delete a.$$smap[f];return g}var l=f.$hash();if(a.$$map.hasOwnProperty(l))for(var L=a.$$map[l],d;L;){if(f===L.key||f["$eql?"](L.key)){g=L.value;for(h=0;h<v;h++)if(b[h]===L){b.splice(h,1);break}d&&L.next?d.next=
L.next:d?delete d.next:L.next?a.$$map[l]=L.next:delete a.$$map[l];return g}d=L;L=L.next}};z.hash_rehash=function(f){for(var h=0,b=f.$$keys.length,v,g,l;h<b;h++)if(!f.$$keys[h].$$is_string&&(v=f.$$keys[h].key.$hash(),v!==f.$$keys[h].key_hash)){g=f.$$map[f.$$keys[h].key_hash];for(l=a;g;){if(g===f.$$keys[h]){l&&g.next?l.next=g.next:l?delete l.next:g.next?f.$$map[f.$$keys[h].key_hash]=g.next:delete f.$$map[f.$$keys[h].key_hash];break}l=g;g=g.next}f.$$keys[h].key_hash=v;if(f.$$map.hasOwnProperty(v)){g=
f.$$map[v];for(l=a;g;){if(g===f.$$keys[h]){l=a;break}l=g;g=g.next}l&&(l.next=f.$$keys[h])}else f.$$map[v]=f.$$keys[h]}};z.hash=function(){var a=arguments.length,f,h,b,v,g;if(1===a&&arguments[0].$$is_hash)return arguments[0];f=new z.Hash.$$alloc;z.hash_init(f);if(1===a&&arguments[0].$$is_array){a=arguments[0];b=a.length;for(h=0;h<b;h++){if(2!==a[h].length)throw z.ArgumentError.$new("value not of length 2: "+a[h].$inspect());v=a[h][0];g=a[h][1];z.hash_put(f,v,g)}return f}if(1===a){a=arguments[0];for(v in a)a.hasOwnProperty(v)&&
(g=a[v],z.hash_put(f,v,g));return f}if(0!==a%2)throw z.ArgumentError.$new("odd number of arguments for Hash");for(h=0;h<a;h+=2)v=arguments[h],g=arguments[h+1],z.hash_put(f,v,g);return f};z.hash2=function(a,f){var h=new z.Hash.$$alloc;h.$$map={};h.$$keys=a;h.$$smap=f;return h};z.range=function(a,f,h){var b=new z.Range.$$alloc;b.begin=a;b.end=f;b.exclude=h;return b};z.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===
a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};z.modules={};z.loaded_features=["corelib/runtime"];z.current_dir=".";z.require_table={"corelib/runtime":!0};z.loaded=function(a){var f,h,b;f=0;for(h=a.length;f<h;f++){b=u(a[f]);if(z.require_table[b])break;z.loaded_features.push(b);z.require_table[b]=!0}};z.load=function(a){a=u(a);z.loaded([a]);var f=z.modules[a];if(f)f(z);else if(f=z.dynamic_require_severity||"warning",a="cannot load such file -- "+a,"error"===f)if(z.LoadError)z.LoadError.$new(a);else throw a;
else"warning"===f&&console.warn("WARNING: LoadError: "+a);return!0};z.require=function(a){a=u(a);return z.require_table[a]?!1:z.load(a)};t("BasicObject",q);t("Object",p,q);t("Module",e,p);t("Class",m,e);C=n("BasicObject",q,m);h=n("Object",p,C.constructor);f=n("Module",e,h.constructor);w=n("Class",m,f.constructor);C.$$class=w;h.$$class=w;f.$$class=w;w.$$class=w;C.$$super=null;h.$$super=C;f.$$super=h;w.$$super=f;C.$$parent=null;h.$$parent=C;f.$$parent=h;w.$$parent=f;z.base=h;C.$$scope=h.$$scope=z;C.$$orig_scope=
h.$$orig_scope=z;f.$$scope=h.$$scope;f.$$orig_scope=h.$$orig_scope;w.$$scope=h.$$scope;w.$$orig_scope=h.$$orig_scope;h.$$proto.toString=function(){return this.$to_s()};h.$$proto.$require=z.require;z.top=new h.$$alloc;z.klass(h,h,"NilClass",k);A=z.nil=new k;A.$$id=4;A.call=A.apply=function(){throw z.LocalJumpError.$new("no block given");};z.breaker=Error("unexpected break");z.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);
"undefined"!==typeof global&&(global.Opal=this.Opal,Opal.global=global);"undefined"!==typeof window&&(window.Opal=this.Opal,Opal.global=window);
Opal.modules["corelib/helpers"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.slice,m=a.module;a.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $inspect $coerce_to!".split(" "));return function(e){e=m(e,"Opal");var k=e.$$scope;a.defs(e,"$bridge",function(d,c){return a.bridge(d,c)});a.defs(e,"$type_error",function(a,c,b,e){var p;null==b&&(b=q);null==e&&(e=q);return(p=!1!==b&&b!==q?e:b)===q||p.$$is_boolean&&1!=p?k.get("TypeError").$new("no implicit conversion of "+
a.$class()+" into "+c):k.get("TypeError").$new("can't convert "+a.$class()+" into "+c+" ("+a.$class()+"#"+b+" gives "+e.$class())});a.defs(e,"$coerce_to",function(a,c,b){var e;if((e=c["$==="](a))!==q&&(!e.$$is_boolean||1==e))return a;((e=a["$respond_to?"](b))===q||e.$$is_boolean&&1!=e)&&this.$raise(this.$type_error(a,c));return a.$__send__(b)});a.defs(e,"$coerce_to!",function(a,c,b){var e,k=q,k=this.$coerce_to(a,c,b);((e=c["$==="](k))===q||e.$$is_boolean&&1!=e)&&this.$raise(this.$type_error(a,c,b,
k));return k});a.defs(e,"$coerce_to?",function(a,c,b){var e,k=q;if((e=a["$respond_to?"](b))===q||e.$$is_boolean&&1!=e)return q;k=this.$coerce_to(a,c,b);if((e=k["$nil?"]())!==q&&(!e.$$is_boolean||1==e))return q;((e=c["$==="](k))===q||e.$$is_boolean&&1!=e)&&this.$raise(this.$type_error(a,c,b,k));return k});a.defs(e,"$try_convert",function(a,c,b){var e;return(e=c["$==="](a))===q||e.$$is_boolean&&1!=e?(e=a["$respond_to?"](b))===q||e.$$is_boolean&&1!=e?q:a.$__send__(b):a});a.defs(e,"$compare",function(a,
c){var b,e=q,e=a["$<=>"](c);(b=e===q)===q||b.$$is_boolean&&1!=b||this.$raise(k.get("ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return e});a.defs(e,"$destructure",function(a){return 1==a.length?a[0]:a.$$is_array?a:p.call(a)});a.defs(e,"$respond_to?",function(a,c){return null!=a&&a.$$class?a["$respond_to?"](c):!1});a.defs(e,"$inspect",function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()});a.defs(e,"$instance_variable_name!",function(a){var c;
a=k.get("Opal")["$coerce_to!"](a,k.get("String"),"to_str");((c=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))===q||c.$$is_boolean&&1!=c)&&this.$raise(k.get("NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a})}(a.base)};
Opal.modules["corelib/module"]=function(a){function q(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}a.dynamic_require_severity="warning";var p=a.nil,m=a.slice,e=a.klass;a.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $coerce_to! $new $=~ $inject $const_get $split $const_missing $to_str $to_proc $lambda $bind $call $class $append_features $included $name $to_s $__id__".split(" "));return function(k,$super){function c(){}var b=c=e(k,$super,"Module",c),B=b.$$scope,
y,x,t,n;a.defs(b,"$new",y=function(){var b=y.$$p||p;y.$$p=null;var l=a.boot_module_object();l.$$name=p;l.$$class=a.Module;l.$$dep=[];l.$$is_module=!0;l.$$proto={};a.create_scope(a.Module.$$scope,l);if(b!==p){var g=b.$$s;b.$$s=null;b.call(l);b.$$s=g}return l});a.defn(b,"$===",function(b){var l;return(l=null==b)===p||l.$$is_boolean&&1!=l?a.is_a(b,this):!1});a.defn(b,"$<",function(b){var l;((l=B.get("Module")["$==="](b))===p||l.$$is_boolean&&1!=l)&&this.$raise(B.get("TypeError"),"compared with non class/module");
var g,u;if(this===b)return!1;g=0;l=a.ancestors(this);for(u=l.length;g<u;g++)if(l[g]===b)return!0;g=0;l=a.ancestors(b);for(u=l.length;g<u;g++)if(l[g]===this)return!1;return p});a.defn(b,"$<=",function(a){var b;return!1!==(b=this["$equal?"](a))&&b!==p?b:q(this,a)});a.defn(b,"$>",function(a){var b;((b=B.get("Module")["$==="](a))===p||b.$$is_boolean&&1!=b)&&this.$raise(B.get("TypeError"),"compared with non class/module");return q(a,this)});a.defn(b,"$>=",function(a){var b;return!1!==(b=this["$equal?"](a))&&
b!==p?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)});a.defn(b,"$<=>",function(a){var b,g=p;if(this===a)return 0;if((b=B.get("Module")["$==="](a))===p||b.$$is_boolean&&1!=b)return p;g=q(this,a);return(b=g["$nil?"]())===p||b.$$is_boolean&&1!=b?!1!==g&&g!==p?-1:1:p});a.defn(b,"$alias_method",function(b,l){a.alias(this,b,l);return this});a.defn(b,"$alias_native",function(b,l){null==l&&(l=b);a.alias_native(this,b,l);return this});a.defn(b,"$ancestors",function(){return a.ancestors(this)});
a.defn(b,"$append_features",function(b){a.append_features(this,b);return this});a.defn(b,"$attr_accessor",function(){var b=p,l=arguments.length-0;0>l&&(l=0);for(var g=Array(l),b=0;b<l;b++)g[b]=arguments[b+0];this.$attr_reader.apply(this,a.to_a(g));return this.$attr_writer.apply(this,a.to_a(g))});a.alias(b,"attr","attr_accessor");a.defn(b,"$attr_reader",function(){var b=p,l=arguments.length-0;0>l&&(l=0);for(var g=Array(l),b=0;b<l;b++)g[b]=arguments[b+0];b=this.$$proto;for(l=g.length-1;0<=l;l--){var u=
g[l],c="$"+u,u=a.ivar(u),C=function(a){return function(){return null==this[a]?p:this[a]}}(u);b[u]=p;this.$$is_singleton?b.constructor.prototype[c]=C:a.defn(this,c,C)}return p});a.defn(b,"$attr_writer",function(){var b=p,l=arguments.length-0;0>l&&(l=0);for(var g=Array(l),b=0;b<l;b++)g[b]=arguments[b+0];b=this.$$proto;for(l=g.length-1;0<=l;l--){var u=g[l],c="$"+u+"=",u=a.ivar(u),C=function(a){return function(f){return this[a]=f}}(u);b[u]=p;this.$$is_singleton?b.constructor.prototype[c]=C:a.defn(this,
c,C)}return p});a.defn(b,"$autoload",function(a,b){var g;(g=this.$$autoload)||(g=this.$$autoload={});g[a]=b;return p});a.defn(b,"$class_variable_get",function(b){var l;b=B.get("Opal")["$coerce_to!"](b,B.get("String"),"to_str");(l=3>b.length||"@@"!==b.slice(0,2))===p||l.$$is_boolean&&1!=l||this.$raise(B.get("NameError").$new("class vars should start with @@",b));var g=a.cvars[b.slice(2)];(l=null==g)===p||l.$$is_boolean&&1!=l||this.$raise(B.get("NameError").$new("uninitialized class variable @@a in",
b));return g});a.defn(b,"$class_variable_set",function(b,l){var g;b=B.get("Opal")["$coerce_to!"](b,B.get("String"),"to_str");(g=3>b.length||"@@"!==b.slice(0,2))===p||g.$$is_boolean&&1!=g||this.$raise(B.get("NameError"));return a.cvars[b.slice(2)]=l});a.defn(b,"$constants",function(){return this.$$scope.constants.slice(0)});a.defn(b,"$const_defined?",function(b,l){var g;null==l&&(l=!0);((g=b["$=~"](/^[A-Z]\w*$/))===p||g.$$is_boolean&&1!=g)&&this.$raise(B.get("NameError").$new("wrong constant name "+
b,b));g=[this.$$scope];if(l||this===a.Object)for(var u=this.$$super;u!==a.BasicObject;)g.push(u.$$scope),u=u.$$super;for(var u=0,c=g.length;u<c;u++)if(g[u].hasOwnProperty(b))return!0;return!1});a.defn(b,"$const_get",function(b,l){var g,u,c;null==l&&(l=!0);if((g=-1!=b.indexOf("::")&&"::"!=b)!==p&&(!g.$$is_boolean||1==g))return(g=(u=b.$split("::")).$inject,g.$$p=(c=function(a,h){null==a&&(a=p);null==h&&(h=p);return a.$const_get(h)},c.$$s=this,c),g).call(u,this);((g=/^[A-Z]\w*$/.test(b))===p||g.$$is_boolean&&
1!=g)&&this.$raise(B.get("NameError").$new("wrong constant name "+b,b));g=[this.$$scope];if(l||this==a.Object)for(u=this.$$super;u!==a.BasicObject;)g.push(u.$$scope),u=u.$$super;u=0;for(c=g.length;u<c;u++)if(g[u].hasOwnProperty(b))return g[u][b];return this.$const_missing(b)});a.defn(b,"$const_missing",function(a){if(this.$$autoload){var b=this.$$autoload[a];if(b)return this.$require(b),this.$const_get(a)}return this.$raise(B.get("NameError").$new("uninitialized constant "+this+"::"+a,a))});a.defn(b,
"$const_set",function(b,l){var g;((g=b["$=~"](/^[A-Z]\w*$/))===p||g.$$is_boolean&&1!=g)&&this.$raise(B.get("NameError").$new("wrong constant name "+b,b));try{b=b.$to_str()}catch(c){try{this.$raise(B.get("TypeError"),"conversion with #to_str failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.casgn(this,b,l);return l});a.defn(b,"$define_method",x=function(b,l){var g,c,A,C,h=this,f=x.$$p||p,w=p;x.$$p=null;(g=void 0===l&&f===p)===p||g.$$is_boolean&&1!=g||h.$raise(B.get("ArgumentError"),"tried to create a Proc object without a block");
!1!==(g=f)&&g!==p?g:f=function(){w=l;return B.get("Proc")["$==="](w)?l:B.get("Method")["$==="](w)?l.$to_proc().$$unbound:B.get("UnboundMethod")["$==="](w)?(c=(A=h).$lambda,c.$$p=(C=function(f){var h=C.$$s||this,b,v=p;f=m.call(arguments,0);v=l.$bind(h);return(b=v).$call.apply(b,a.to_a(f))},C.$$s=h,C),c).call(A):h.$raise(B.get("TypeError"),"wrong argument type "+f.$class()+" (expected Proc/Method)")}();f.$$jsid=b;f.$$s=null;f.$$def=f;a.defn(h,"$"+b,f);return b});a.defn(b,"$remove_method",function(){var b=
p,l=arguments.length-0;0>l&&(l=0);for(var g=Array(l),b=0;b<l;b++)g[b]=arguments[b+0];b=0;for(l=g.length;b<l;b++)a.rdef(this,"$"+g[b]);return this});a.defn(b,"$singleton_class?",function(){return!!this.$$is_singleton});a.defn(b,"$include",function(){var a=p,b=arguments.length-0;0>b&&(b=0);for(var g=Array(b),a=0;a<b;a++)g[a]=arguments[a+0];for(a=g.length-1;0<=a;a--)b=g[a],b!==this&&(b.$$is_module||this.$raise(B.get("TypeError"),"wrong argument type "+b.$class()+" (expected Module)"),b.$append_features(this),
b.$included(this));return this});a.defn(b,"$include?",function(a){for(var b=this;b;b=b.$$super)for(var g=0;g!=b.$$inc.length;g++)if(a===b.$$inc[g])return!0;return!1});a.defn(b,"$instance_method",function(a){var b=this.$$proto["$"+a];b&&!b.$$stub||this.$raise(B.get("NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return B.get("UnboundMethod").$new(this,b,a)});a.defn(b,"$instance_methods",function(b){null==b&&(b=!0);var l=[],g=this.$$proto,c;for(c in g)if("$"===c.charAt(0)&&
"function"===typeof g[c]&&!g[c].$$stub){if(!this.$$is_module){if(this!==a.BasicObject&&g[c]===a.BasicObject.$$proto[c])continue;if(!b&&!g.hasOwnProperty(c))continue;if(!b&&g[c].$$donated)continue}l.push(c.substr(1))}return l});a.defn(b,"$included",function(a){return p});a.defn(b,"$extended",function(a){return p});a.defn(b,"$method_added",function(){return p});a.defn(b,"$method_removed",function(){return p});a.defn(b,"$method_undefined",function(){return p});a.defn(b,"$module_eval",t=function(){var a=
t.$$p||p;t.$$p=null;!1!==a&&a!==p||this.$raise(B.get("ArgumentError"),"no block given");var b=a.$$s,g;a.$$s=null;g=a.call(this);a.$$s=b;return g});a.alias(b,"class_eval","module_eval");a.defn(b,"$module_exec",n=function(){var a=n.$$p||p,b=p,g=arguments.length-0;0>g&&(g=0);for(var c=Array(g),b=0;b<g;b++)c[b]=arguments[b+0];n.$$p=null;a===p&&this.$raise(B.get("LocalJumpError"),"no block given");b=a.$$s;a.$$s=null;c=a.apply(this,c);a.$$s=b;return c});a.alias(b,"class_exec","module_exec");a.defn(b,"$method_defined?",
function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub});a.defn(b,"$module_function",function(){var b=p,l=arguments.length-0;0>l&&(l=0);for(var g=Array(l),b=0;b<l;b++)g[b]=arguments[b+0];if(0===g.length)this.$$module_function=!0;else for(b=0,l=g.length;b<l;b++){var c="$"+g[b];a.defs(this,c,this.$$proto[c])}return this});a.defn(b,"$name",function(){if(this.$$full_name)return this.$$full_name;for(var b=[],l=this;l;){if(l.$$name===p)return 0===b.length?p:b.join("::");b.unshift(l.$$name);l=l.$$base_module;
if(l===a.Object)break}return 0===b.length?p:this.$$full_name=b.join("::")});a.defn(b,"$remove_class_variable",function(){return p});a.defn(b,"$remove_const",function(a){var b=this.$$scope[a];delete this.$$scope[a];return b});a.defn(b,"$to_s",function(){var b;return!1!==(b=a.Module.$name.call(this))&&b!==p?b:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"});return(a.defn(b,"$undef_method",function(){var b=p,l=arguments.length-0;0>l&&(l=0);for(var g=Array(l),b=0;b<l;b++)g[b]=
arguments[b+0];b=0;for(l=g.length;b<l;b++)a.udef(this,"$"+g[b]);return this}),p)&&"undef_method"}(a.base,null)};
Opal.modules["corelib/class"]=function(a){a.dynamic_require_severity="warning";var q=a.top,p=a.nil,m=a.klass;a.add_stubs(["$require","$raise","$allocate"]);q.$require("corelib/module");return function(e,$super){function d(){}var c=d=m(e,$super,"Class",d),b=c.$$scope,q,y;a.defs(c,"$new",q=function(d){var c=q.$$p||p;null==d&&(d=b.get("Object"));q.$$p=null;d.$$is_class||this.$raise(b.get("TypeError"),"superclass must be a Class");var e=a.boot_class(d,function(){});e.$$name=p;e.$$parent=d;e.$$is_class=
!0;a.create_scope(d.$$scope,e);d.$inherited(e);c!==p&&(d=c.$$s,c.$$s=null,c.call(e),c.$$s=d);return e});a.defn(c,"$allocate",function(){var b=new this.$$alloc;b.$$id=a.uid();return b});a.defn(c,"$inherited",function(a){return p});a.defn(c,"$new",y=function(){var a=y.$$p||p,b=p,d=arguments.length-0;0>d&&(d=0);for(var c=Array(d),b=0;b<d;b++)c[b]=arguments[b+0];y.$$p=null;b=this.$allocate();b.$initialize.$$p=a;b.$initialize.apply(b,c);return b});return(a.defn(c,"$superclass",function(){return this.$$super||
p}),p)&&"superclass"}(a.base,null)};
Opal.modules["corelib/basic_object"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}a.dynamic_require_severity="warning";var p=a.nil,m=a.klass,e=a.range,k=a.hash2;a.add_stubs("$== $! $nil? $cover? $size $raise $compile $lambda $> $new $inspect".split(" "));return function(d,$super){function b(){}var B=b=m(d,$super,"BasicObject",b),y=B.$$scope,x,t,n,r;a.defn(B,"$initialize",function(){return p});a.defn(B,"$==",function(a){return this===a});a.defn(B,"$eql?",
function(a){return this["$=="](a)});a.alias(B,"equal?","==");a.defn(B,"$__id__",function(){return this.$$id||(this.$$id=a.uid())});a.defn(B,"$__send__",x=function(a){var b=x.$$p||p,d=p,A=arguments.length-1;0>A&&(A=0);for(var C=Array(A),d=0;d<A;d++)C[d]=arguments[d+1];x.$$p=null;if(d=this["$"+a])return b!==p&&(d.$$p=b),d.apply(this,C);b!==p&&(this.$method_missing.$$p=b);return this.$method_missing.apply(this,[a].concat(C))});a.defn(B,"$!",function(){return!1});a.defn(B,"$!=",function(a){return this["$=="](a)["$!"]()});
a.alias(B,"equal?","==");a.defn(B,"$instance_eval",t=function(){var b,g,d,A=t.$$p||p,C=p,h=p,f=p,w=p,C=p,h=arguments.length-0;0>h&&(h=0);for(var r=Array(h),C=0;C<h;C++)r[C]=arguments[C+0];t.$$p=null;(b=(g=A["$nil?"](),!1!==g&&g!==p?!!a.compile:g))===p||b.$$is_boolean&&1!=b?(b=q(r.$size(),0))===p||b.$$is_boolean&&1!=b||y.get("Kernel").$raise(y.get("ArgumentError"),"wrong number of arguments ("+r.$size()+" for 0)"):(((b=e(1,3,!1)["$cover?"](r.$size()))===p||b.$$is_boolean&&1!=b)&&y.get("Kernel").$raise(y.get("ArgumentError"),
"wrong number of arguments (0 for 1..3)"),b=a.to_a(r),C=null==b[0]?p:b[0],h=null==b[1]?p:b[1],b,f=y.get("Opal").$compile(C,k(["file","eval"],{file:!1!==(b=h)&&b!==p?b:"(eval)",eval:!0})),w=function(){return eval(f)},A=(b=(g=y.get("Kernel")).$lambda,b.$$p=(d=function(){return w.call(d.$$s||this)},d.$$s=this,d),b).call(g));b=A.$$s;var n;A.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{n=A.call(this,this)}finally{this.$$eval=!1}}else n=A.call(this,this);A.$$s=b;return n});a.defn(B,
"$instance_exec",n=function(){var a=n.$$p||p,b=p,d=arguments.length-0;0>d&&(d=0);for(var A=Array(d),b=0;b<d;b++)A[b]=arguments[b+0];n.$$p=null;!1!==a&&a!==p||y.get("Kernel").$raise(y.get("ArgumentError"),"no block given");var b=a.$$s,C;a.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{C=a.apply(this,A)}finally{this.$$eval=!1}}else C=a.apply(this,A);a.$$s=b;return C});a.defn(B,"$singleton_method_added",function(){return p});a.defn(B,"$singleton_method_removed",function(){return p});
a.defn(B,"$singleton_method_undefined",function(){return p});return(a.defn(B,"$method_missing",r=function(a){var b,d=p,A=arguments.length-1;0>A&&(A=0);for(var C=Array(A),d=0;d<A;d++)C[d]=arguments[d+1];r.$$p=null;return y.get("Kernel").$raise(y.get("NoMethodError").$new((b=this.$inspect&&!this.$inspect.$$stub)===p||b.$$is_boolean&&1!=b?"undefined method `"+a+"' for "+this.$$class:"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class,a))}),p)&&"method_missing"}(a.base,null)};
Opal.modules["corelib/kernel"]=function(a){function q(a,d){return"number"===typeof a&&"number"===typeof d?a<=d:a["$<="](d)}a.dynamic_require_severity="warning";var p=a.nil,m=a.breaker,e=a.module,k=a.gvars,d=a.hash2,c=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $to_proc $singleton_class $initialize_dup $for $loop $pop $call $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $> $print $format $puts $each $<= $empty? $exception $kind_of? $respond_to_missing? $try_convert! $expand_path $join $start_with? $sym $arg $include".split(" "));
(function(b){b=e(b,"Kernel");var c=b.$$scope,y,x,t,n,r,l,g,u,A;a.defn(b,"$method_missing",y=function(a){var b=p,f=arguments.length-1;0>f&&(f=0);for(var g=Array(f),b=0;b<f;b++)g[b]=arguments[b+1];y.$$p=null;return this.$raise(c.get("NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,g))});a.defn(b,"$=~",function(a){return!1});a.defn(b,"$!~",function(a){return this["$=~"](a)["$!"]()});a.defn(b,"$===",function(a){var b;return!1!==(b=this.$object_id()["$=="](a.$object_id()))&&b!==
p?b:this["$=="](a)});a.defn(b,"$<=>",function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==p?0:p});a.defn(b,"$method",function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(c.get("NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return c.get("Method").$new(this,b,a)});a.defn(b,"$methods",function(b){null==b&&(b=!0);var h=[],f;for(f in this)"$"==f[0]&&"function"===typeof this[f]&&(0!=b&&b!==p||a.hasOwnProperty.call(this,f))&&void 0===this[f].$$stub&&h.push(f.substr(1));
return h});a.alias(b,"public_methods","methods");a.defn(b,"$Array",function(a){var b;if(a===p)return[];if(a.$$is_array)return a;b=c.get("Opal")["$coerce_to?"](a,c.get("Array"),"to_ary");if(b!==p)return b;b=c.get("Opal")["$coerce_to?"](a,c.get("Array"),"to_a");return b!==p?b:[a]});a.defn(b,"$at_exit",x=function(){var a,b=x.$$p||p;null==k.__at_exit__&&(k.__at_exit__=p);x.$$p=null;!1!==(a=k.__at_exit__)&&a!==p?a:k.__at_exit__=[];return k.__at_exit__["$<<"](b)});a.defn(b,"$caller",function(){return[]});
a.defn(b,"$class",function(){return this.$$class});a.defn(b,"$copy_instance_variables",function(a){for(var b in a)a.hasOwnProperty(b)&&"$"!==b.charAt(0)&&(this[b]=a[b])});a.defn(b,"$copy_singleton_methods",function(b){var h;if(b.hasOwnProperty("$$meta")){var f=a.get_singleton_class(b).$$proto,g=a.get_singleton_class(this).$$proto;for(h in f)"$"===h.charAt(0)&&f.hasOwnProperty(h)&&(g[h]=f[h])}for(h in b)"$"===h.charAt(0)&&"$"!==h.charAt(1)&&b.hasOwnProperty(h)&&(this[h]=b[h])});a.defn(b,"$clone",function(){var a=
p,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(b,"$initialize_clone",function(a){return this.$initialize_copy(a)});a.defn(b,"$define_singleton_method",t=function(a,b){var f,g,l=t.$$p||p;t.$$p=null;return(f=(g=this.$singleton_class()).$define_method,f.$$p=l.$to_proc(),f).call(g,a,b)});a.defn(b,"$dup",function(){var a=p,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a});
a.defn(b,"$initialize_dup",function(a){return this.$initialize_copy(a)});a.defn(b,"$enum_for",n=function(b){var h,f,g=n.$$p||p,l=p,d=arguments.length-1;0>d&&(d=0);for(var u=Array(d),l=0;l<d;l++)u[l]=arguments[l+1];null==b&&(b="each");n.$$p=null;return(h=(f=c.get("Enumerator")).$for,h.$$p=g.$to_proc(),h).apply(f,[this,b].concat(a.to_a(u)))});a.alias(b,"to_enum","enum_for");a.defn(b,"$equal?",function(a){return this===a});a.defn(b,"$exit",function(b){var h,f;null==k.__at_exit__&&(k.__at_exit__=p);null==
b&&(b=!0);!1!==(h=k.__at_exit__)&&h!==p?h:k.__at_exit__=[];(h=this.$loop,h.$$p=(f=function(){var a=p;null==k.__at_exit__&&(k.__at_exit__=p);a=k.__at_exit__.$pop();return!1!==a&&a!==p?a.$call():(m.$v=p,m)},f.$$s=this,f),h).call(this);(h=!0===b)===p||h.$$is_boolean&&1!=h||(b=0);a.exit(b);return p});a.defn(b,"$extend",function(){var a=p,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];a=this.$singleton_class();for(b=f.length-1;0<=b;b--){var g=f[b];g.$$is_module||this.$raise(c.get("TypeError"),
"wrong argument type "+g.$class()+" (expected Module)");g.$append_features(a);g.$extended(this)}return this});a.defn(b,"$format",function(a){function b(){F&32&&O.$raise(c.get("ArgumentError"),"flag after width");F&128&&O.$raise(c.get("ArgumentError"),"flag after precision")}function f(){F&32&&O.$raise(c.get("ArgumentError"),"width given twice");F&128&&O.$raise(c.get("ArgumentError"),"width after precision")}function g(a){a>=r.length&&O.$raise(c.get("ArgumentError"),"too few arguments");return r[a]}
function l(){switch(U){case -1:O.$raise(c.get("ArgumentError"),"unnumbered("+ea+") mixed with numbered");case -2:O.$raise(c.get("ArgumentError"),"unnumbered("+ea+") mixed with named")}U=ea++;return g(U-1)}function d(a){0<U&&O.$raise(c.get("ArgumentError"),"numbered("+a+") after unnumbered("+U+")");-2===U&&O.$raise(c.get("ArgumentError"),"numbered("+a+") after named");1>a&&O.$raise(c.get("ArgumentError"),"invalid index - "+a+"$");U=-1;return g(a-1)}function u(){return void 0===Q?l():Q}function v(f){var b;
for(b="";;n++){n===m&&O.$raise(c.get("ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(n)||57<a.charCodeAt(n))return n--,b=parseInt(b,10)||0,2147483647<b&&O.$raise(c.get("ArgumentError"),""+f+" too big"),b;b+=a.charAt(n)}}function L(f){f=v(f);"$"===a.charAt(n+1)?(n++,f=d(f)):f=l();return f.$to_int()}var J,O=this,A=p,A=p;null==k.DEBUG&&(k.DEBUG=p);var e=arguments.length-1;0>e&&(e=0);for(var r=Array(e),A=0;A<e;A++)r[A]=arguments[A+1];(J=r.$length()["$=="](1)?r["$[]"](0)["$respond_to?"]("to_ary"):
r.$length()["$=="](1))!==p&&(!J.$$is_boolean||1==J)&&(A=c.get("Opal")["$coerce_to?"](r["$[]"](0),c.get("Array"),"to_ary"),(J=A["$nil?"]())===p||J.$$is_boolean&&1!=J)&&(r=A.$to_a());J="";var A=0,n,m=a.length,q,t,y,x,K,M,P,X,Y,Q,ea=1,U=0,F;for(n=a.indexOf("%");-1!==n;n=a.indexOf("%",n)){t=void 0;F=0;K=x=-1;Q=void 0;e=n;n++;switch(a.charAt(n)){case "%":A=n;case "":case "\n":case "\x00":n++;continue}a:for(;n<m;n++)switch(a.charAt(n)){case " ":b();F|=16;continue a;case "#":b();F|=1;continue a;case "+":b();
F|=4;continue a;case "-":b();F|=2;continue a;case "0":b();F|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":q=v("width");if("$"===a.charAt(n+1)){if(n+2===m){t="%";n++;break a}void 0!==Q&&O.$raise(c.get("ArgumentError"),"value given twice - %"+q+"$");Q=d(q);n++}else f(),F|=32,x=q;continue a;case "<":case "{":for(y="<"===a.charAt(n)?">":"}",q="",n++;;n++){n===m&&O.$raise(c.get("ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(n)===
y)if(0<U&&O.$raise(c.get("ArgumentError"),"named "+q+" after unnumbered("+U+")"),-1===U&&O.$raise(c.get("ArgumentError"),"named "+q+" after numbered"),U=-2,void 0!==r[0]&&r[0].$$is_hash||O.$raise(c.get("ArgumentError"),"one hash required"),Q=r[0].$fetch(q),">"===y)continue a;else{t=Q.toString();-1!==K&&(t=t.slice(0,K));if(F&2)for(;t.length<x;)t+=" ";else for(;t.length<x;)t=" "+t;break a}q+=a.charAt(n)}case "*":n++;f();F|=32;x=L("width");0>x&&(F|=2,x=-x);continue a;case ".":F&128&&O.$raise(c.get("ArgumentError"),
"precision given twice");F|=192;K=0;n++;if("*"===a.charAt(n)){n++;K=L("precision");0>K&&(F&=-65);continue a}K=v("precision");continue a;case "d":case "i":case "u":q=O.$Integer(u());if(0<=q){for(t=q.toString();t.length<K;)t="0"+t;if(F&2){if(F&4||F&16)t=(F&4?"+":" ")+t;for(;t.length<x;)t+=" "}else if(F&8&&-1===K){for(;t.length<x-(F&4||F&16?1:0);)t="0"+t;if(F&4||F&16)t=(F&4?"+":" ")+t}else{if(F&4||F&16)t=(F&4?"+":" ")+t;for(;t.length<x;)t=" "+t}}else{for(t=(-q).toString();t.length<K;)t="0"+t;if(F&2)for(t=
"-"+t;t.length<x;)t+=" ";else if(F&8&&-1===K){for(;t.length<x-1;)t="0"+t;t="-"+t}else for(t="-"+t;t.length<x;)t=" "+t}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(n)){case "b":case "B":M=2;P="0b";X=/^1+/;Y="1";break;case "o":M=8;P="0";X=/^3?7+/;Y="7";break;case "x":case "X":M=16,P="0x",X=/^f+/,Y="f"}q=O.$Integer(u());if(0<=q){for(t=q.toString(M);t.length<K;)t="0"+t;if(F&2){if(F&4||F&16)t=(F&4?"+":" ")+t;for(F&1&&0!==q&&(t=P+t);t.length<x;)t+=" "}else if(F&8&&-1===K){for(;t.length<
x-(F&4||F&16?1:0)-(F&1&&0!==q?P.length:0);)t="0"+t;F&1&&0!==q&&(t=P+t);if(F&4||F&16)t=(F&4?"+":" ")+t}else{F&1&&0!==q&&(t=P+t);if(F&4||F&16)t=(F&4?"+":" ")+t;for(;t.length<x;)t=" "+t}}else if(F&4||F&16){for(t=(-q).toString(M);t.length<K;)t="0"+t;if(F&2)for(F&1&&(t=P+t),t="-"+t;t.length<x;)t+=" ";else if(F&8&&-1===K){for(;t.length<x-1-(F&1?2:0);)t="0"+t;F&1&&(t=P+t);t="-"+t}else for(F&1&&(t=P+t),t="-"+t;t.length<x;)t=" "+t}else{for(t=(q>>>0).toString(M).replace(X,Y);t.length<K-2;)t=Y+t;if(F&2)for(t=
".."+t,F&1&&(t=P+t);t.length<x;)t+=" ";else if(F&8&&-1===K){for(;t.length<x-2-(F&1?P.length:0);)t=Y+t;t=".."+t;F&1&&(t=P+t)}else for(t=".."+t,F&1&&(t=P+t);t.length<x;)t=" "+t}a.charAt(n)===a.charAt(n).toUpperCase()&&(t=t.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":q=O.$Float(u());if(0<=q||isNaN(q)){if(Infinity===q)t="Inf";else switch(a.charAt(n)){case "f":t=q.toFixed(-1===K?6:K);break;case "e":case "E":t=q.toExponential(-1===K?6:K);break;case "g":case "G":t=q.toExponential(),
y=parseInt(t.split("e")[1],10),-4>y||y>=(-1===K?6:K)||(t=q.toPrecision(-1===K?F&1?6:void 0:K))}if(F&2){if(F&4||F&16)t=(F&4?"+":" ")+t;for(;t.length<x;)t+=" "}else if(F&8&&Infinity!==q&&!isNaN(q)){for(;t.length<x-(F&4||F&16?1:0);)t="0"+t;if(F&4||F&16)t=(F&4?"+":" ")+t}else{if(F&4||F&16)t=(F&4?"+":" ")+t;for(;t.length<x;)t=" "+t}}else{if(-Infinity===q)t="Inf";else switch(a.charAt(n)){case "f":t=(-q).toFixed(-1===K?6:K);break;case "e":case "E":t=(-q).toExponential(-1===K?6:K);break;case "g":case "G":t=
(-q).toExponential(),y=parseInt(t.split("e")[1],10),-4>y||y>=(-1===K?6:K)||(t=(-q).toPrecision(-1===K?F&1?6:void 0:K))}if(F&2)for(t="-"+t;t.length<x;)t+=" ";else if(F&8&&-Infinity!==q){for(;t.length<x-1;)t="0"+t;t="-"+t}else for(t="-"+t;t.length<x;)t=" "+t}a.charAt(n)!==a.charAt(n).toUpperCase()||Infinity===q||-Infinity===q||isNaN(q)||(t=t.toUpperCase());t=t.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":O.$raise(c.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");
case "c":q=u();q["$respond_to?"]("to_ary")&&(q=q.$to_ary()[0]);t=q["$respond_to?"]("to_str")?q.$to_str():String.fromCharCode(c.get("Opal").$coerce_to(q,c.get("Integer"),"to_int"));1!==t.length&&O.$raise(c.get("ArgumentError"),"%c requires a character");if(F&2)for(;t.length<x;)t+=" ";else for(;t.length<x;)t=" "+t;break a;case "p":t=u().$inspect();-1!==K&&(t=t.slice(0,K));if(F&2)for(;t.length<x;)t+=" ";else for(;t.length<x;)t=" "+t;break a;case "s":t=u().$to_s();-1!==K&&(t=t.slice(0,K));if(F&2)for(;t.length<
x;)t+=" ";else for(;t.length<x;)t=" "+t;break a;default:O.$raise(c.get("ArgumentError"),"malformed format string - %"+a.charAt(n))}void 0===t&&O.$raise(c.get("ArgumentError"),"malformed format string - %");J+=a.slice(A,e)+t;A=n+1}k.DEBUG&&0<=U&&ea<r.length&&O.$raise(c.get("ArgumentError"),"too many arguments for format string");return J+a.slice(A)});a.defn(b,"$hash",function(){return this.$__id__()});a.defn(b,"$initialize_copy",function(a){return p});a.defn(b,"$inspect",function(){return this.$to_s()});
a.defn(b,"$instance_of?",function(a){a.$$is_class||a.$$is_module||this.$raise(c.get("TypeError"),"class or module required");return this.$$class===a});a.defn(b,"$instance_variable_defined?",function(b){b=c.get("Opal")["$instance_variable_name!"](b);return a.hasOwnProperty.call(this,b.substr(1))});a.defn(b,"$instance_variable_get",function(b){b=c.get("Opal")["$instance_variable_name!"](b);b=this[a.ivar(b.substr(1))];return null==b?p:b});a.defn(b,"$instance_variable_set",function(b,h){b=c.get("Opal")["$instance_variable_name!"](b);
return this[a.ivar(b.substr(1))]=h});a.defn(b,"$remove_instance_variable",function(b){b=c.get("Opal")["$instance_variable_name!"](b);var h=a.ivar(b.substr(1));return this.hasOwnProperty(h)?(b=this[h],delete this[h],b):this.$raise(c.get("NameError"),"instance variable "+b+" not defined")});a.defn(b,"$instance_variables",function(){var a=[],b,f;for(f in this)this.hasOwnProperty(f)&&"$"!==f.charAt(0)&&(b="$"===f.substr(-1)?f.slice(0,f.length-1):f,a.push("@"+b));return a});a.defn(b,"$Integer",function(a,
b){var f=this,g,l;if(!a.$$is_string)return void 0!==b&&f.$raise(c.get("ArgumentError"),"base specified for non string value"),a===p&&f.$raise(c.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&f.$raise(c.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(g=a.$to_int(),g!==p)?g:c.get("Opal")["$coerce_to!"](a,c.get("Integer"),"to_i");void 0===b?b=0:(b=c.get("Opal").$coerce_to(b,c.get("Integer"),"to_int"),(1===b||0>b||36<
b)&&f.$raise(c.get("ArgumentError"),"invalid radix "+b));g=a.toLowerCase();g=g.replace(/(\d)_(?=\d)/g,"$1");g=g.replace(/^(\s*[+-]?)(0[bodx]?)/,function(g,l,v){switch(v){case "0b":if(0===b||2===b)return b=2,l;case "0":case "0o":if(0===b||8===b)return b=8,l;case "0d":if(0===b||10===b)return b=10,l;case "0x":if(0===b||16===b)return b=16,l}f.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"')});b=0===b?10:b;l="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+
l+"]+\\s*$")).test(g)||f.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');g=parseInt(g,b);isNaN(g)&&f.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');return g});a.defn(b,"$Float",function(a){var b;a===p&&this.$raise(c.get("TypeError"),"can't convert nil into Float");if(a.$$is_string){b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||
this.$raise(c.get("ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return c.get("Opal")["$coerce_to!"](a,c.get("Float"),"to_f")});a.defn(b,"$Hash",function(a){var b,f;return(b=!1!==(f=a["$nil?"]())&&f!==p?f:a["$=="]([]))===p||b.$$is_boolean&&1!=b?(b=c.get("Hash")["$==="](a))===p||b.$$is_boolean&&1!=b?c.get("Opal")["$coerce_to!"](a,c.get("Hash"),"to_hash"):a:d([],{})});a.defn(b,"$is_a?",function(b){b.$$is_class||b.$$is_module||this.$raise(c.get("TypeError"),"class or module required");
return a.is_a(this,b)});a.alias(b,"kind_of?","is_a?");a.defn(b,"$lambda",r=function(){var a=r.$$p||p;r.$$p=null;a.$$is_lambda=!0;return a});a.defn(b,"$load",function(b){b=c.get("Opal")["$coerce_to!"](b,c.get("String"),"to_str");return a.load(b)});a.defn(b,"$loop",l=function(){var a=l.$$p||p;for(l.$$p=null;;)if(a()===m)return m.$v});a.defn(b,"$nil?",function(){return!1});a.alias(b,"object_id","__id__");a.defn(b,"$printf",function(){var b,h=p,f=arguments.length-0;0>f&&(f=0);for(var g=Array(f),h=0;h<
f;h++)g[h]=arguments[h+0];h=g.$length();(b="number"===typeof h?0<h:h["$>"](0))===p||b.$$is_boolean&&1!=b||this.$print((b=this).$format.apply(b,a.to_a(g)));return p});a.defn(b,"$proc",g=function(){var a=g.$$p||p;g.$$p=null;!1!==a&&a!==p||this.$raise(c.get("ArgumentError"),"tried to create Proc object without a block");a.$$is_lambda=!1;return a});a.defn(b,"$puts",function(){var b,h=p;null==k.stdout&&(k.stdout=p);var f=arguments.length-0;0>f&&(f=0);for(var g=Array(f),h=0;h<f;h++)g[h]=arguments[h+0];
return(b=k.stdout).$puts.apply(b,a.to_a(g))});a.defn(b,"$p",function(){var a,b,f=p,g=arguments.length-0;0>g&&(g=0);for(var l=Array(g),f=0;f<g;f++)l[f]=arguments[f+0];(a=l.$each,a.$$p=(b=function(a){null==k.stdout&&(k.stdout=p);null==a&&(a=p);return k.stdout.$puts(a.$inspect())},b.$$s=this,b),a).call(l);return(a=q(l.$length(),1))===p||a.$$is_boolean&&1!=a?l:l["$[]"](0)});a.defn(b,"$print",function(){var b,h=p;null==k.stdout&&(k.stdout=p);var f=arguments.length-0;0>f&&(f=0);for(var g=Array(f),h=0;h<
f;h++)g[h]=arguments[h+0];return(b=k.stdout).$print.apply(b,a.to_a(g))});a.defn(b,"$warn",function(){var b,h,f=p;null==k.VERBOSE&&(k.VERBOSE=p);null==k.stderr&&(k.stderr=p);var g=arguments.length-0;0>g&&(g=0);for(var l=Array(g),f=0;f<g;f++)l[f]=arguments[f+0];return(b=!1!==(h=k.VERBOSE["$nil?"]())&&h!==p?h:l["$empty?"]())===p||b.$$is_boolean&&1!=b?(b=k.stderr).$puts.apply(b,a.to_a(l)):p});a.defn(b,"$raise",function(b,h,f){null==k["!"]&&(k["!"]=p);null==h&&(h=p);if(null==b&&k["!"]!==p)throw k["!"];
null==b?b=c.get("RuntimeError").$new():b.$$is_string?b=c.get("RuntimeError").$new(b):b.$$is_class&&b["$respond_to?"]("exception")?b=b.$exception(h):b["$kind_of?"](c.get("Exception"))||(b=c.get("TypeError").$new("exception class/object expected"));k["!"]!==p&&a.exceptions.push(k["!"]);k["!"]=b;throw b;});a.alias(b,"fail","raise");a.defn(b,"$rand",function(a){if(void 0===a)return Math.random();if(a.$$is_range){var b=a.begin,f=a.end-b;a.exclude||f++;return this.$rand(f)+b}return Math.floor(Math.random()*
Math.abs(c.get("Opal").$coerce_to(a,c.get("Integer"),"to_int")))});a.defn(b,"$respond_to?",function(a,b){var f;null==b&&(b=!1);if((f=this["$respond_to_missing?"](a,b))!==p&&(!f.$$is_boolean||1==f))return!0;f=this["$"+a];return"function"!==typeof f||f.$$stub?!1:!0});a.defn(b,"$respond_to_missing?",function(a,b){return!1});a.defn(b,"$require",function(b){b=c.get("Opal")["$coerce_to!"](b,c.get("String"),"to_str");return a.require(b)});a.defn(b,"$require_relative",function(b){c.get("Opal")["$try_convert!"](b,
c.get("String"),"to_str");b=c.get("File").$expand_path(c.get("File").$join(a.current_file,"..",b));return a.require(b)});a.defn(b,"$require_tree",function(b){b=c.get("File").$expand_path(b);b["$=="](".")&&(b="");for(var h in a.modules)h["$start_with?"](b)&&a.require(h);return p});a.alias(b,"send","__send__");a.alias(b,"public_send","__send__");a.defn(b,"$singleton_class",function(){return a.get_singleton_class(this)});a.defn(b,"$sleep",function(a){null==a&&(a=p);a===p&&this.$raise(c.get("TypeError"),
"can't convert NilClass into time interval");a.$$is_number||this.$raise(c.get("TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(c.get("ArgumentError"),"time interval must be positive");for(var b=new Date;new Date-b<=1E3*a;);return a});a.alias(b,"sprintf","format");a.alias(b,"srand","rand");a.defn(b,"$String",function(a){var b;return!1!==(b=c.get("Opal")["$coerce_to?"](a,c.get("String"),"to_str"))&&b!==p?b:c.get("Opal")["$coerce_to!"](a,c.get("String"),"to_s")});a.defn(b,
"$tap",u=function(){var b=u.$$p||p;u.$$p=null;return a.yield1(b,this)===m?m.$v:this});a.defn(b,"$to_proc",function(){return this});a.defn(b,"$to_s",function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"});a.defn(b,"$catch",A=function(b){var h,f=A.$$p||p,g=p;A.$$p=null;try{return h=a.yieldX(f,[]),h}catch(l){if(a.rescue(l,[c.get("UncaughtThrowError")])){g=l;try{return g.$sym()["$=="](b)?g.$arg():this.$raise()}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw l;}});a.defn(b,
"$throw",function(){var a=p,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];return this.$raise(c.get("UncaughtThrowError").$new(f))})})(a.base);return function(a,$super){function d(){}var e=d=c(a,$super,"Object",d);return e.$include(e.$$scope.get("Kernel"))}(a.base,null)};
Opal.modules["corelib/error"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.klass,m=a.module;a.add_stubs("$new $clone $to_s $empty? $class $attr_reader $[] $> $length $inspect".split(" "));(function(e,$super){function d(){}var c=d=p(e,$super,"Exception",d);c.$$proto.message=q;a.defs(c,"$new",function(){var a=q,d=arguments.length-0;0>d&&(d=0);for(var c=Array(d),a=0;a<d;a++)c[a]=arguments[a+0];a=new this.$$alloc(0<c.length?c[0]:q);Error.captureStackTrace&&Error.captureStackTrace(a);
a.name=this.$$name;a.$initialize.apply(a,c);return a});a.defs(c,"$exception",function(){var b=q,d=arguments.length-0;0>d&&(d=0);for(var c=Array(d),b=0;b<d;b++)c[b]=arguments[b+0];return this.$new.apply(this,a.to_a(c))});a.defn(c,"$initialize",function(){var a=q,d=arguments.length-0;0>d&&(d=0);for(var c=Array(d),a=0;a<d;a++)c[a]=arguments[a+0];return this.message=0<c.length?c[0]:q});a.defn(c,"$backtrace",function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):
[]});a.defn(c,"$exception",function(a){null==a&&(a=q);if(a===q||this===a)return this;var d=this.$clone();d.message=a;return d});a.defn(c,"$message",function(){return this.$to_s()});a.defn(c,"$inspect",function(){var a,d=q,d=this.$to_s();return(a=d["$empty?"]())===q||a.$$is_boolean&&1!=a?"#<"+this.$class().$to_s()+": "+this.$to_s()+">":this.$class().$to_s()});return(a.defn(c,"$to_s",function(){var a,d;return!1!==(a=(d=this.message,!1!==d&&d!==q?this.message.$to_s():d))&&a!==q?a:this.$class().$to_s()}),
q)&&"to_s"})(a.base,Error);(function(a,$super){function d(){}d=p(a,$super,"ScriptError",d);return q})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=p(a,$super,"SyntaxError",d);return q})(a.base,a.get("ScriptError"));(function(a,$super){function d(){}d=p(a,$super,"LoadError",d);return q})(a.base,a.get("ScriptError"));(function(a,$super){function d(){}d=p(a,$super,"NotImplementedError",d);return q})(a.base,a.get("ScriptError"));(function(a,$super){function d(){}d=p(a,$super,"SystemExit",
d);return q})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=p(a,$super,"NoMemoryError",d);return q})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=p(a,$super,"SignalException",d);return q})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=p(a,$super,"Interrupt",d);return q})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=p(a,$super,"SecurityError",d);return q})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=p(a,$super,
"StandardError",d);return q})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=p(a,$super,"ZeroDivisionError",d);return q})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=p(a,$super,"NameError",d);return q})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=p(a,$super,"NoMethodError",d);return q})(a.base,a.get("NameError"));(function(a,$super){function d(){}d=p(a,$super,"RuntimeError",d);return q})(a.base,a.get("StandardError"));(function(a,$super){function d(){}
d=p(a,$super,"LocalJumpError",d);return q})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=p(a,$super,"TypeError",d);return q})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=p(a,$super,"ArgumentError",d);return q})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=p(a,$super,"IndexError",d);return q})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=p(a,$super,"StopIteration",d);return q})(a.base,a.get("IndexError"));(function(a,
$super){function d(){}d=p(a,$super,"KeyError",d);return q})(a.base,a.get("IndexError"));(function(a,$super){function d(){}d=p(a,$super,"RangeError",d);return q})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=p(a,$super,"FloatDomainError",d);return q})(a.base,a.get("RangeError"));(function(a,$super){function d(){}d=p(a,$super,"IOError",d);return q})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=p(a,$super,"SystemCallError",d);return q})(a.base,a.get("StandardError"));
(function(e){e=m(e,"Errno").$$scope;(function(e,$super){function c(){}var b=c=p(e,$super,"EINVAL",c),m;return(a.defs(b,"$new",m=function(){m.$$p=null;return a.find_super_dispatcher(this,"new",m,null,c).apply(this,["Invalid argument"])}),q)&&"new"})(e.base,e.get("SystemCallError"))})(a.base);(function(e,$super){function d(){}var c=d=p(e,$super,"UncaughtThrowError",d),b;c.$$proto.sym=q;c.$attr_reader("sym","arg");return(a.defn(c,"$initialize",b=function(d){var c;b.$$p=null;this.sym=d["$[]"](0);var e=
d.$length();(c="number"===typeof e?1<e:e["$>"](1))===q||c.$$is_boolean&&1!=c||(this.arg=d["$[]"](1));return a.find_super_dispatcher(this,"initialize",b,null).apply(this,["uncaught throw "+this.sym.$inspect()])}),q)&&"initialize"})(a.base,a.get("ArgumentError"));(function(e,$super){function d(){}var c=d=p(e,$super,"NameError",d),b;c.$attr_reader("name");return(a.defn(c,"$initialize",b=function(d,c){null==c&&(c=q);b.$$p=null;a.find_super_dispatcher(this,"initialize",b,null).apply(this,[d]);return this.name=
c}),q)&&"initialize"})(a.base,null);return function(e,$super){function d(){}var c=d=p(e,$super,"NoMethodError",d),b;c.$attr_reader("args");return(a.defn(c,"$initialize",b=function(d,c,e){null==e&&(e=[]);b.$$p=null;a.find_super_dispatcher(this,"initialize",b,null).apply(this,[d,c]);return this.args=e}),q)&&"initialize"}(a.base,null)};
Opal.modules["corelib/constants"]=function(a){a.dynamic_require_severity="warning";a.cdecl(a,"RUBY_PLATFORM","opal");a.cdecl(a,"RUBY_ENGINE","opal");a.cdecl(a,"RUBY_VERSION","2.2.3");a.cdecl(a,"RUBY_ENGINE_VERSION","0.9.2");a.cdecl(a,"RUBY_RELEASE_DATE","2016-01-10");a.cdecl(a,"RUBY_PATCHLEVEL",0);a.cdecl(a,"RUBY_REVISION",0);a.cdecl(a,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return a.cdecl(a,"RUBY_DESCRIPTION","opal "+a.get("RUBY_ENGINE_VERSION")+" ("+a.get("RUBY_RELEASE_DATE")+
" revision "+a.get("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){a.dynamic_require_severity="warning";var q=a.top;a.add_stubs(["$require"]);q.$require("corelib/runtime");q.$require("corelib/helpers");q.$require("corelib/module");q.$require("corelib/class");q.$require("corelib/basic_object");q.$require("corelib/kernel");q.$require("corelib/error");return q.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.klass;a.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(m,$super){function k(){}var d=k=p(m,$super,"NilClass",k),c=d.$$scope;d.$$proto.$$meta=d;a.defn(d,"$!",function(){return!0});a.defn(d,"$&",function(a){return!1});a.defn(d,"$|",function(a){return!1!==a&&a!==q});a.defn(d,"$^",function(a){return!1!==a&&a!==q});a.defn(d,"$==",function(a){return a===q});a.defn(d,"$dup",function(){return this.$raise(c.get("TypeError"),
"can't dup "+this.$class())});a.defn(d,"$clone",function(){return this.$raise(c.get("TypeError"),"can't clone "+this.$class())});a.defn(d,"$inspect",function(){return"nil"});a.defn(d,"$nil?",function(){return!0});a.defn(d,"$singleton_class",function(){return c.get("NilClass")});a.defn(d,"$to_a",function(){return[]});a.defn(d,"$to_h",function(){return a.hash()});a.defn(d,"$to_i",function(){return 0});a.alias(d,"to_f","to_i");a.defn(d,"$to_s",function(){return""});a.defn(d,"$to_c",function(){return c.get("Complex").$new(0,
0)});a.defn(d,"$rationalize",function(){var a,d=q,k=arguments.length-0;0>k&&(k=0);for(var p=Array(k),d=0;d<k;d++)p[d]=arguments[d+0];d=p.$length();(a="number"===typeof d?1<d:d["$>"](1))===q||a.$$is_boolean&&1!=a||this.$raise(c.get("ArgumentError"));return this.$Rational(0,1)});a.defn(d,"$to_r",function(){return this.$Rational(0,1)});return(a.defn(d,"$instance_variables",function(){return[]}),q)&&"instance_variables"})(a.base,null);return a.cdecl(a,"NIL",q)};
Opal.modules["corelib/boolean"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.klass;a.add_stubs(["$raise","$class"]);(function(m,$super){function k(){}var d=k=p(m,$super,"Boolean",k),c=d.$$proto,b=d.$$scope;c.$$is_boolean=!0;c.$$meta=d;a.defn(d,"$__id__",function(){return this.valueOf()?2:0});a.alias(d,"object_id","__id__");a.defn(d,"$!",function(){return 1!=this});a.defn(d,"$&",function(a){return 1==this?!1!==a&&a!==q:!1});a.defn(d,"$|",function(a){return 1==this?!0:!1!==a&&a!==
q});a.defn(d,"$^",function(a){return 1==this?!1===a||a===q:!1!==a&&a!==q});a.defn(d,"$==",function(a){return 1==this===a.valueOf()});a.alias(d,"equal?","==");a.alias(d,"eql?","==");a.defn(d,"$singleton_class",function(){return b.get("Boolean")});a.defn(d,"$to_s",function(){return 1==this?"true":"false"});a.defn(d,"$dup",function(){return this.$raise(b.get("TypeError"),"can't dup "+this.$class())});return(a.defn(d,"$clone",function(){return this.$raise(b.get("TypeError"),"can't clone "+this.$class())}),
q)&&"clone"})(a.base,Boolean);a.cdecl(a,"TrueClass",a.get("Boolean"));a.cdecl(a,"FalseClass",a.get("Boolean"));a.cdecl(a,"TRUE",!0);return a.cdecl(a,"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function q(a,d){return"number"===typeof a&&"number"===typeof d?a>d:a["$>"](d)}function p(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}a.dynamic_require_severity="warning";var m=a.nil,e=a.module;a.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(k){k=e(k,"Comparable");var d=k.$$scope;a.defs(k,"$normalize",function(a){var b;return(b=d.get("Integer")["$==="](a))===m||b.$$is_boolean&&1!=b?(b=q(a,
0))===m||b.$$is_boolean&&1!=b?(b=p(a,0))===m||b.$$is_boolean&&1!=b?0:-1:1:a});a.defn(k,"$==",function(c){var b,e=m;try{return(b=this["$equal?"](c))===m||b.$$is_boolean&&1!=b?this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):(b=e=this["$<=>"](c))===m||b.$$is_boolean&&1!=b?!1:0==d.get("Comparable").$normalize(e):!0}catch(k){if(a.rescue(k,[d.get("StandardError")]))try{return!1}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw k;}});a.defn(k,"$>",function(a){var b,
e=m;((b=e=this["$<=>"](a))===m||b.$$is_boolean&&1!=b)&&this.$raise(d.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<d.get("Comparable").$normalize(e)});a.defn(k,"$>=",function(a){var b,e=m;((b=e=this["$<=>"](a))===m||b.$$is_boolean&&1!=b)&&this.$raise(d.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=d.get("Comparable").$normalize(e)});a.defn(k,"$<",function(a){var b,e=m;((b=e=this["$<=>"](a))===m||b.$$is_boolean&&
1!=b)&&this.$raise(d.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>d.get("Comparable").$normalize(e)});a.defn(k,"$<=",function(a){var b,e=m;((b=e=this["$<=>"](a))===m||b.$$is_boolean&&1!=b)&&this.$raise(d.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=d.get("Comparable").$normalize(e)});a.defn(k,"$between?",function(a,b){return p(this,a)||q(this,b)?!1:!0})}(a.base)};
Opal.modules["corelib/regexp"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.klass,m=a.gvars;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(a,$super){function d(){}d=p(a,$super,"RegexpError",d);return q})(a.base,a.get("StandardError"));(function(e,$super){function d(){}var c=d=p(e,$super,"Regexp",d),b=c.$$proto,B=c.$$scope,y;a.cdecl(B,"IGNORECASE",
1);a.cdecl(B,"MULTILINE",4);b.$$is_regexp=!0;(function(b){var d=b.$$scope,c;a.defn(b,"$allocate",c=function(){var b=c.$$p,l=q,g=l=q;c.$$p=null;l=[];for(g=0;g<arguments.length;g++)l[g]=arguments[g];l=a.find_super_dispatcher(this,"allocate",c,b).apply(this,l);l.uninitialized=!0;return l});a.defn(b,"$escape",function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")});a.defn(b,"$last_match",function(a){var b;
null==m["~"]&&(m["~"]=q);null==a&&(a=q);return(b=a["$nil?"]())===q||b.$$is_boolean&&1!=b?m["~"]["$[]"](a):m["~"]});a.alias(b,"quote","escape");a.defn(b,"$union",function(){var a=q,b=arguments.length-0;0>b&&(b=0);for(var g=Array(b),a=0;a<b;a++)g[a]=arguments[a+0];var c,A;if(0==g.length)return/(?!)/;a=g[0].$$is_array;1<g.length&&a&&this.$raise(d.get("TypeError"),"no implicit conversion of Array into String");a&&(g=g[0]);c=void 0;for(var a=[],e=0;e<g.length;e++)b=g[e],b.$$is_string?a.push(this.$escape(b)):
b.$$is_regexp?(A=b.$options(),void 0!=c&&c!=A&&this.$raise(d.get("TypeError"),"All expressions must use the same options"),c=A,a.push("("+b.source+")")):a.push(this.$escape(b.$to_str()));return this.$new(a.$join("|"),c)});return(a.defn(b,"$new",function(a,b){if(a.$$is_regexp)return new RegExp(a);a=d.get("Opal")["$coerce_to!"](a,d.get("String"),"to_str");"\\"===a.charAt(a.length-1)&&this.$raise(d.get("RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);
if(b.$$is_number){var g="";d.get("IGNORECASE")&b&&(g+="i");d.get("MULTILINE")&b&&(g+="m");b=g}else b="i";return new RegExp(a,b)}),q)&&"new"})(a.get_singleton_class(c));a.defn(c,"$==",function(a){return a.constructor==RegExp&&this.toString()===a.toString()});a.defn(c,"$===",function(a){return this.$match(B.get("Opal")["$coerce_to?"](a,B.get("String"),"to_str"))!==q});a.defn(c,"$=~",function(a){var b;null==m["~"]&&(m["~"]=q);return b=this.$match(a),!1!==b&&b!==q?m["~"].$begin(0):b});a.alias(c,"eql?",
"==");a.defn(c,"$inspect",function(){return this.toString()});a.defn(c,"$match",y=function(a,b){var d=y.$$p||q;null==m["~"]&&(m["~"]=q);y.$$p=null;this.uninitialized&&this.$raise(B.get("TypeError"),"uninitialized Regexp");b=void 0===b?0:B.get("Opal").$coerce_to(b,B.get("Integer"),"to_int");if(a===q)return m["~"]=q;a=B.get("Opal").$coerce_to(a,B.get("String"),"to_str");if(0>b&&(b+=a.length,0>b))return m["~"]=q;var c=this.source,l="g";this.multiline&&(c=c.replace(".","[\\s\\S]"),l+="m");for(l=new RegExp(c,
l+(this.ignoreCase?"i":""));;){c=l.exec(a);if(null===c)return m["~"]=q;if(c.index>=b)return m["~"]=B.get("MatchData").$new(l,c),d===q?m["~"]:d.$call(m["~"]);l.lastIndex=c.index+1}});a.defn(c,"$~",function(){null==m._&&(m._=q);return this["$=~"](m._)});a.defn(c,"$source",function(){return this.source});a.defn(c,"$options",function(){this.uninitialized&&this.$raise(B.get("TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=B.get("MULTILINE"));this.ignoreCase&&(a|=B.get("IGNORECASE"));return a});
a.defn(c,"$casefold?",function(){return this.ignoreCase});return a.alias(c,"to_s","source")})(a.base,RegExp);return function(e,$super){function d(){}var c=d=p(e,$super,"MatchData",d),b=c.$$scope;c.$$proto.matches=q;c.$attr_reader("post_match","pre_match","regexp","string");a.defn(c,"$initialize",function(a,b){m["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var d=0,c=b.length;d<
c;d++){var e=b[d];null==e?this.matches.push(q):this.matches.push(e)}});a.defn(c,"$[]",function(){var b,d=q,c=arguments.length-0;0>c&&(c=0);for(var e=Array(c),d=0;d<c;d++)e[d]=arguments[d+0];return(b=this.matches)["$[]"].apply(b,a.to_a(e))});a.defn(c,"$offset",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]});a.defn(c,"$==",function(a){var d,c,e,n;return(d=b.get("MatchData")["$==="](a))===q||d.$$is_boolean&&
1!=d?!1:(d=(c=(e=(n=this.string==a.string,!1!==n&&n!==q?this.regexp.toString()==a.regexp.toString():n),!1!==e&&e!==q?this.pre_match==a.pre_match:e),!1!==c&&c!==q?this.post_match==a.post_match:c),!1!==d&&d!==q?this.begin==a.begin:d)});a.alias(c,"eql?","==");a.defn(c,"$begin",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#begin only supports 0th element");return this.begin});a.defn(c,"$end",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#end only supports 0th element");
return this.begin+this.matches[a].length});a.defn(c,"$captures",function(){return this.matches.slice(1)});a.defn(c,"$inspect",function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,d=this.matches.length;b<d;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"});a.defn(c,"$length",function(){return this.matches.length});a.alias(c,"size","length");a.defn(c,"$to_a",function(){return this.matches});a.defn(c,"$to_s",function(){return this.matches[0]});return(a.defn(c,"$values_at",function(){var a=
q,d=arguments.length-0;0>d&&(d=0);for(var c=Array(d),a=0;a<d;a++)c[a]=arguments[a+0];for(var e,d=[],a=0;a<c.length;a++){c[a].$$is_range&&(e=c[a].$to_a(),e.unshift(a,1),Array.prototype.splice.apply(c,e));e=b.get("Opal")["$coerce_to!"](c[a],b.get("Integer"),"to_int");if(0>e&&(e+=this.matches.length,0>e)){d.push(q);continue}d.push(this.matches[e])}return d}),q)&&"values_at"}(a.base,null)};
Opal.modules["corelib/string"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var m=a.top,e=a.nil,k=a.breaker,d=a.slice,c=a.klass,b=a.gvars;a.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $class $each_line $match $captures $proc $shift $__send__ $succ $escape".split(" "));
m.$require("corelib/comparable");m.$require("corelib/regexp");(function(m,$super){function x(){}function t(a){function b(a){var f="",h,v=a.length,g,d;for(h=0;h<v;h++)if(g=a.charAt(h),"-"===g&&0<h&&h<v-1&&!d){d=a.charCodeAt(h-1);g=a.charCodeAt(h+1);d>g&&n.$raise(l.get("ArgumentError"),'invalid range "'+d+"-"+g+'" in string transliteration');for(d+=1;d<g+1;d++)f+=String.fromCharCode(d);d=!0;h++}else d="\\"===g,f+=g;return f}function f(a,b){if(0===a.length)return b;var h="",g,v=a.length,d;for(g=0;g<
v;g++)d=a.charAt(g),-1!==b.indexOf(d)&&(h+=d);return h}var h,g,d,c,w="",u="";h=0;for(g=a.length;h<g;h++)d=l.get("Opal").$coerce_to(a[h],l.get("String"),"to_str"),c="^"===d.charAt(0)&&1<d.length,d=b(c?d.slice(1):d),c?u=f(u,d):w=f(w,d);if(0<w.length&&0<u.length){d="";h=0;for(g=w.length;h<g;h++)a=w.charAt(h),-1===u.indexOf(a)&&(d+=a);w=d;u=""}return 0<w.length?"["+l.get("Regexp").$escape(w)+"]":0<u.length?"[^"+l.get("Regexp").$escape(u)+"]":null}var n=x=c(m,$super,"String",x),r=n.$$proto,l=n.$$scope,
g,u,A,C,h,f,w,z,D;r.length=e;n.$include(l.get("Comparable"));r.$$is_string=!0;a.defn(n,"$__id__",function(){return this.toString()});a.alias(n,"object_id","__id__");a.defs(n,"$try_convert",function(a){return l.get("Opal")["$coerce_to?"](a,l.get("String"),"to_str")});a.defs(n,"$new",function(a){null==a&&(a="");a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str");return new String(a)});a.defn(n,"$initialize",function(a){return void 0===a?this:this.$raise(l.get("NotImplementedError"),"Mutable strings are not supported in Opal.")});
a.defn(n,"$%",function(b){var f;return(f=l.get("Array")["$==="](b))===e||f.$$is_boolean&&1!=f?this.$format(this,b):(f=this).$format.apply(f,[this].concat(a.to_a(b)))});a.defn(n,"$*",function(a){a=l.get("Opal").$coerce_to(a,l.get("Integer"),"to_int");0>a&&this.$raise(l.get("ArgumentError"),"negative argument");if(0===a)return"";var b="",f=this.toString();for(268435456<=f.length*a&&this.$raise(l.get("RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=f);a>>>=1;if(0===
a)break;f+=f}return b});a.defn(n,"$+",function(a){a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str");return this+a.$to_s()});a.defn(n,"$<=>",function(a){var b;if((b=a["$respond_to?"]("to_str"))===e||b.$$is_boolean&&1!=b)return a=a["$<=>"](this),a===e?e:0<a?-1:0>a?1:0;a=a.$to_str().$to_s();return this>a?1:this<a?-1:0});a.defn(n,"$==",function(a){return a.$$is_string?this.toString()===a.toString():l.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1});a.alias(n,"eql?","==");a.alias(n,"===",
"==");a.defn(n,"$=~",function(a){a.$$is_string&&this.$raise(l.get("TypeError"),"type mismatch: String given");return a["$=~"](this)});a.defn(n,"$[]",function(a,f){var h=this.length,g;if(a.$$is_range){g=a.exclude;f=l.get("Opal").$coerce_to(a.end,l.get("Integer"),"to_int");a=l.get("Opal").$coerce_to(a.begin,l.get("Integer"),"to_int");if(Math.abs(a)>h)return e;0>a&&(a+=h);0>f&&(f+=h);g||(f+=1);f-=a;0>f&&(f=0);return this.substr(a,f)}if(a.$$is_string)return null!=f&&this.$raise(l.get("TypeError")),-1!==
this.indexOf(a)?a:e;if(a.$$is_regexp){h=this.match(a);if(null===h)return b["~"]=e;b["~"]=l.get("MatchData").$new(a,h);if(null==f)return h[0];f=l.get("Opal").$coerce_to(f,l.get("Integer"),"to_int");return 0>f&&-f<h.length?h[f+h.length]:0<=f&&f<h.length?h[f]:e}a=l.get("Opal").$coerce_to(a,l.get("Integer"),"to_int");0>a&&(a+=h);if(null==f)return a>=h||0>a?e:this.substr(a,1);f=l.get("Opal").$coerce_to(f,l.get("Integer"),"to_int");return 0>f||a>h||0>a?e:this.substr(a,f)});a.alias(n,"byteslice","[]");a.defn(n,
"$capitalize",function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()});a.defn(n,"$casecmp",function(a){var b=this;a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str").$to_s();var f=/^[\x00-\x7F]*$/;f.test(b)&&f.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)});a.defn(n,"$center",function(a,b){var f;null==b&&(b=" ");a=l.get("Opal").$coerce_to(a,l.get("Integer"),"to_int");b=l.get("Opal").$coerce_to(b,l.get("String"),"to_str").$to_s();(f=b["$empty?"]())===e||
f.$$is_boolean&&1!=f||this.$raise(l.get("ArgumentError"),"zero width padding");if((f=a<=this.length)!==e&&(!f.$$is_boolean||1==f))return this;f=this.$ljust(q(p(a,this.length),2).$ceil(),b);return this.$rjust(q(p(a,this.length),2).$floor(),b)+f.slice(this.length)});a.defn(n,"$chars",g=function(){var a,b=g.$$p||e;g.$$p=null;return!1===b||b===e?this.$each_char().$to_a():(a=this.$each_char,a.$$p=b.$to_proc(),a).call(this)});a.defn(n,"$chomp",function(a){var f;null==b["/"]&&(b["/"]=e);null==a&&(a=b["/"]);
if((f=a===e||0===this.length)!==e&&(!f.$$is_boolean||1==f))return this;a=l.get("Opal")["$coerce_to!"](a,l.get("String"),"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this});a.defn(n,"$chop",function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)});a.defn(n,"$chr",function(){return this.charAt(0)});
a.defn(n,"$clone",function(){var a=e,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(n,"$dup",function(){var a=e,a=this.slice();a.$initialize_dup(this);return a});a.defn(n,"$count",function(){var a=e,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];0===f.length&&this.$raise(l.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=t(f);return null===a?0:this.length-this.replace(new RegExp(a,"g"),"").length});
a.defn(n,"$delete",function(){var a=e,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];0===f.length&&this.$raise(l.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=t(f);return null===a?this:this.replace(new RegExp(a,"g"),"")});a.defn(n,"$downcase",function(){return this.toLowerCase()});a.defn(n,"$each_char",u=function(){var b,f,h=u.$$p||e;u.$$p=null;if(h===e)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=
this,f),b).call(this,"each_char");b=0;for(var g=this.length;b<g;b++)if(a.yield1(h,this.charAt(b))===k)return k.$v;return this});a.defn(n,"$each_line",A=function(f){var h=A.$$p||e;null==b["/"]&&(b["/"]=e);null==f&&(f=b["/"]);A.$$p=null;if(h===e)return this.$enum_for("each_line",f);var g;if(f===e)return g=a.yield1(h,this),g===k?g.$v:this;f=l.get("Opal").$coerce_to(f,l.get("String"),"to_str");var d,c,w,u;if(0===f.length){f=this.split(/(\n{2,})/);d=0;for(c=f.length;d<c;d+=2)if(f[d]||f[d+1])if(g=a.yield1(h,
(f[d]||"")+(f[d+1]||"")),g===k)return g.$v;return this}g=this.$chomp(f);c=this.length!=g.length;u=g.split(f);d=0;for(w=u.length;d<w;d++)if(g=d<w-1||c?a.yield1(h,u[d]+f):a.yield1(h,u[d]),g===k)return g.$v;return this});a.defn(n,"$empty?",function(){return 0===this.length});a.defn(n,"$end_with?",function(){var a=e,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];a=0;for(b=f.length;a<b;a++){var h=l.get("Opal").$coerce_to(f[a],l.get("String"),"to_str").$to_s();if(this.length>=
h.length&&this.substr(this.length-h.length,h.length)==h)return!0}return!1});a.alias(n,"eql?","==");a.alias(n,"equal?","===");a.defn(n,"$gsub",C=function(a,f){var h=this,g=C.$$p||e;C.$$p=null;if(void 0===f&&g===e)return h.$enum_for("gsub",a);var d="",c=e,w=0,u,A;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){u=a.exec(h);if(null===u){b["~"]=e;d+=h.slice(w);break}c=
l.get("MatchData").$new(a,u);void 0===f?A=g(u[0]):f.$$is_hash?A=f["$[]"](u[0]).$to_s():(f.$$is_string||(f=l.get("Opal").$coerce_to(f,l.get("String"),"to_str")),A=f.replace(/([\\]+)([0-9+&`'])/g,function(a,b,f){if(0===b.length%2)return a;switch(f){case "+":for(a=u.length-1;0<a;a--)if(void 0!==u[a])return b.slice(1)+u[a];return"";case "&":return b.slice(1)+u[0];case "`":return b.slice(1)+h.slice(0,u.index);case "'":return b.slice(1)+h.slice(u.index+u[0].length);default:return b.slice(1)+(u[f]||"")}}).replace(/\\\\/g,
"\\"));a.lastIndex===u.index?(d+=A+h.slice(w,u.index+1),a.lastIndex+=1):d+=h.slice(w,u.index)+A;w=a.lastIndex}b["~"]=c;return d});a.defn(n,"$hash",function(){return this.toString()});a.defn(n,"$hex",function(){return this.$to_i(16)});a.defn(n,"$include?",function(a){var b;if(a.$$is_string)return-1!==this.indexOf(a);((b=a["$respond_to?"]("to_str"))===e||b.$$is_boolean&&1!=b)&&this.$raise(l.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");return-1!==this.indexOf(a.$to_str())});
a.defn(n,"$index",function(a,f){var h,g;if(void 0===f)f=0;else if(f=l.get("Opal").$coerce_to(f,l.get("Integer"),"to_int"),0>f&&(f+=this.length,0>f))return e;if(a.$$is_regexp)for(g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){h=g.exec(this);if(null===h){b["~"]=e;h=-1;break}if(h.index>=f){b["~"]=l.get("MatchData").$new(g,h);h=h.index;break}g.lastIndex=h.index+1}else a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str"),h=0===a.length&&f>this.length?-1:this.indexOf(a,f);return-1===h?e:h});a.defn(n,
"$inspect",function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'});a.defn(n,"$intern",function(){return this});a.defn(n,"$lines",h=function(a){var f,
g=h.$$p||e,d=e;null==b["/"]&&(b["/"]=e);null==a&&(a=b["/"]);h.$$p=null;d=(f=this.$each_line,f.$$p=g.$to_proc(),f).call(this,a);return!1!==g&&g!==e?this:d.$to_a()});a.defn(n,"$length",function(){return this.length});a.defn(n,"$ljust",function(a,b){var f;null==b&&(b=" ");a=l.get("Opal").$coerce_to(a,l.get("Integer"),"to_int");b=l.get("Opal").$coerce_to(b,l.get("String"),"to_str").$to_s();(f=b["$empty?"]())===e||f.$$is_boolean&&1!=f||this.$raise(l.get("ArgumentError"),"zero width padding");if((f=a<=
this.length)!==e&&(!f.$$is_boolean||1==f))return this;f=-1;var h="";for(a-=this.length;++f<a;)h+=b;return this+h.slice(0,a)});a.defn(n,"$lstrip",function(){return this.replace(/^\s*/,"")});a.defn(n,"$match",f=function(a,b){var h,g,d=f.$$p||e;f.$$p=null;(h=!1!==(g=l.get("String")["$==="](a))&&g!==e?g:a["$respond_to?"]("to_str"))===e||h.$$is_boolean&&1!=h||(a=l.get("Regexp").$new(a.$to_str()));((h=l.get("Regexp")["$==="](a))===e||h.$$is_boolean&&1!=h)&&this.$raise(l.get("TypeError"),"wrong argument type "+
a.$class()+" (expected Regexp)");return(h=(g=a).$match,h.$$p=d.$to_proc(),h).call(g,this,b)});a.defn(n,"$next",function(){var a=this.length;if(0===a)return"";for(var b=this,f=this.search(/[a-zA-Z0-9]/),h=!1,g;a--;){g=this.charCodeAt(a);if(48<=g&&57>=g||65<=g&&90>=g||97<=g&&122>=g)switch(g){case 57:h=!0;g=48;break;case 90:h=!0;g=65;break;case 122:h=!0;g=97;break;default:h=!1,g+=1}else-1===f?255===g?(h=!0,g=0):(h=!1,g+=1):h=!0;b=b.slice(0,a)+String.fromCharCode(g)+b.slice(a+1);if(h&&(0===a||a===f)){switch(g){case 65:break;
case 97:break;default:g+=1}b=0===a?String.fromCharCode(g)+b:b.slice(0,a)+String.fromCharCode(g)+b.slice(a);h=!1}if(!h)break}return b});a.defn(n,"$oct",function(){var a;a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,f,h,g){switch(g.charAt(0)){case "+":case "-":return a;case "0":if("x"===g.charAt(1)&&"0x"===h)return a}switch(h){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return f+g});a=parseInt(a.replace(/_(?!_)/g,
""),b);return isNaN(a)?0:a});a.defn(n,"$ord",function(){return this.charCodeAt(0)});a.defn(n,"$partition",function(a){var b;a.$$is_regexp?(b=a.exec(this),null===b?b=-1:(l.get("MatchData").$new(a,b),a=b[0],b=b.index)):(a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str"),b=this.indexOf(a));return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]});a.defn(n,"$reverse",function(){return this.split("").reverse().join("")});a.defn(n,"$rindex",function(a,f){var h,g,
d;if(void 0===f)f=this.length;else if(f=l.get("Opal").$coerce_to(f,l.get("Integer"),"to_int"),0>f&&(f+=this.length,0>f))return e;if(a.$$is_regexp){h=null;for(g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){d=g.exec(this);if(null===d||d.index>f)break;h=d;g.lastIndex=h.index+1}null===h?(b["~"]=e,h=-1):(l.get("MatchData").$new(g,h),h=h.index)}else a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str"),h=this.lastIndexOf(a,f);return-1===h?e:h});a.defn(n,"$rjust",function(a,b){var f;null==b&&(b=" ");
a=l.get("Opal").$coerce_to(a,l.get("Integer"),"to_int");b=l.get("Opal").$coerce_to(b,l.get("String"),"to_str").$to_s();(f=b["$empty?"]())===e||f.$$is_boolean&&1!=f||this.$raise(l.get("ArgumentError"),"zero width padding");if((f=a<=this.length)!==e&&(!f.$$is_boolean||1==f))return this;f=Math.floor(a-this.length);var h=Array(Math.floor(f/b.length)+1).join(b);return h+b.slice(0,f-h.length)+this});a.defn(n,"$rpartition",function(a){var b,f,h;if(a.$$is_regexp){b=null;for(f=new RegExp(a.source,"gm"+(a.ignoreCase?
"i":""));;){h=f.exec(this);if(null===h)break;b=h;f.lastIndex=b.index+1}null===b?b=-1:(l.get("MatchData").$new(f,b),a=b[0],b=b.index)}else a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str"),b=this.lastIndexOf(a);return-1===b?["","",this]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]});a.defn(n,"$rstrip",function(){return this.replace(/[\s\u0000]*$/,"")});a.defn(n,"$scan",w=function(a){var f=w.$$p||e;w.$$p=null;var h=[],g=e,d;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?
"i":"")):(a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(d=a.exec(this));)g=l.get("MatchData").$new(a,d),f===e?1==d.length?h.push(d[0]):h.push(g.$captures()):1==d.length?f(d[0]):f.call(this,g.$captures()),a.lastIndex===d.index&&(a.lastIndex+=1);b["~"]=g;return f!==e?this:h});a.alias(n,"size","length");a.alias(n,"slice","[]");a.defn(n,"$split",function(a,f){var h;null==b[";"]&&(b[";"]=e);if(0===this.length)return[];if(void 0===
f)f=0;else if(f=l.get("Opal")["$coerce_to!"](f,l.get("Integer"),"to_int"),1===f)return[this];if(void 0===a||a===e)a=!1!==(h=b[";"])&&h!==e?h:" ";h=[];var g=this.toString(),d=0,c,w;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,g=g.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));h=g.split(a);if(1===h.length&&h[0]===g)return h;for(;-1!==(w=h.indexOf(void 0));)h.splice(w,
1);if(0===f){for(;""===h[h.length-1];)--h.length;return h}c=a.exec(g);if(0>f){if(null!==c&&""===c[0]&&-1===a.source.indexOf("(?="))for(w=0;w<c.length;w++)h.push("");return h}if(null!==c&&""===c[0])return h.splice(f-1,h.length-1,h.slice(f-1).join("")),h;for(w=0;null!==c;){w++;d=a.lastIndex;if(w+1===f)break;c=a.exec(g)}h.splice(f-1,h.length-1,g.slice(d));return h});a.defn(n,"$squeeze",function(){var a=e,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];if(0===f.length)return this.replace(/(.)\1+/g,
"$1");a=t(f);return null===a?this:this.replace(new RegExp("("+a+")\\1+","g"),"$1")});a.defn(n,"$start_with?",function(){var a=e,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];a=0;for(b=f.length;a<b;a++){var h=l.get("Opal").$coerce_to(f[a],l.get("String"),"to_str").$to_s();if(0===this.indexOf(h))return!0}return!1});a.defn(n,"$strip",function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")});a.defn(n,"$sub",z=function(a,f){var h=this,g=z.$$p||e;z.$$p=
null;a.$$is_regexp||(a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var d=a.exec(h);if(null===d)return b["~"]=e,h.toString();l.get("MatchData").$new(a,d);if(void 0===f)return g===e&&h.$raise(l.get("ArgumentError"),"wrong number of arguments (1 for 2)"),h.slice(0,d.index)+g(d[0])+h.slice(d.index+d[0].length);if(f.$$is_hash)return h.slice(0,d.index)+f["$[]"](d[0]).$to_s()+h.slice(d.index+d[0].length);f=l.get("Opal").$coerce_to(f,l.get("String"),
"to_str");f=f.replace(/([\\]+)([0-9+&`'])/g,function(a,b,f){if(0===b.length%2)return a;switch(f){case "+":for(a=d.length-1;0<a;a--)if(void 0!==d[a])return b.slice(1)+d[a];return"";case "&":return b.slice(1)+d[0];case "`":return b.slice(1)+h.slice(0,d.index);case "'":return b.slice(1)+h.slice(d.index+d[0].length);default:return b.slice(1)+(d[f]||"")}}).replace(/\\\\/g,"\\");return h.slice(0,d.index)+f+h.slice(d.index+d[0].length)});a.alias(n,"succ","next");a.defn(n,"$sum",function(a){null==a&&(a=16);
a=l.get("Opal").$coerce_to(a,l.get("Integer"),"to_int");for(var b=0,f=this.length,h=0;h<f;h++)b+=this.charCodeAt(h);return 0>=a?b:b&Math.pow(2,a)-1});a.defn(n,"$swapcase",function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,f){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)});a.defn(n,"$to_f",function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a});a.defn(n,"$to_i",
function(a){null==a&&(a=10);var b=this.toLowerCase(),f=l.get("Opal").$coerce_to(a,l.get("Integer"),"to_int");(1===f||0>f||36<f)&&this.$raise(l.get("ArgumentError"),"invalid radix "+f);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,h,g){switch(g.charAt(0)){case "+":case "-":return a;case "0":if("x"===g.charAt(1)&&"0x"===h&&(0===f||16===f))return a}switch(h){case "0b":if(0===f||2===f)return f=2,b+g;break;case "0":case "0o":if(0===f||8===f)return f=8,b+g;break;case "0d":if(0===
f||10===f)return f=10,b+g;break;case "0x":if(0===f||16===f)return f=16,b+g}return a});a=parseInt(b.replace(/_(?!_)/g,""),f);return isNaN(a)?0:a});a.defn(n,"$to_proc",function(){var b,f,h=e,h=this;return(b=this.$proc,b.$$p=(f=function(b){var g=f.$$s||this,c,w,u,A=e;b=d.call(arguments,0);c=f.$$p||e;f.$$p=null;(w=b["$empty?"]())===e||w.$$is_boolean&&1!=w||g.$raise(l.get("ArgumentError"),"no receiver given");A=b.$shift();return(w=(u=A).$__send__,w.$$p=c.$to_proc(),w).apply(u,[h].concat(a.to_a(b)))},f.$$s=
this,f),b).call(this)});a.defn(n,"$to_s",function(){return this.toString()});a.alias(n,"to_str","to_s");a.alias(n,"to_sym","intern");a.defn(n,"$tr",function(a,b){a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str").$to_s();b=l.get("Opal").$coerce_to(b,l.get("String"),"to_str").$to_s();if(0==a.length||a===b)return this;var f,h,g,d,c,w={};c=a.split("");var u=c.length,A=b.split(""),e=A.length,r=!1,z=null;"^"===c[0]&&1<c.length&&(r=!0,c.shift(),z=A[e-1],--u);var k=[];g=null;h=!1;for(f=0;f<u;f++)if(d=
c[f],null==g)g=d,k.push(d);else if("-"===d)"-"===g?(k.push("-"),k.push("-")):f==u-1?k.push("-"):h=!0;else if(h){g=g.charCodeAt(0);h=d.charCodeAt(0);g>h&&this.$raise(l.get("ArgumentError"),'invalid range "'+String.fromCharCode(g)+"-"+String.fromCharCode(h)+'" in string transliteration');for(g+=1;g<h;g++)k.push(String.fromCharCode(g));k.push(d);g=h=null}else k.push(d);c=k;u=c.length;if(r)for(f=0;f<u;f++)w[c[f]]=!0;else{if(0<e){k=[];h=!1;for(f=0;f<e;f++)if(d=A[f],null==g)g=d,k.push(d);else if("-"===
d)f==e-1?k.push("-"):h=!0;else if(h){g=g.charCodeAt(0);h=d.charCodeAt(0);g>h&&this.$raise(l.get("ArgumentError"),'invalid range "'+String.fromCharCode(g)+"-"+String.fromCharCode(h)+'" in string transliteration');for(g+=1;g<h;g++)k.push(String.fromCharCode(g));k.push(d);g=h=null}else k.push(d);A=k;e=A.length}d=u-e;if(0<d)for(e=0<e?A[e-1]:"",f=0;f<d;f++)A.push(e);for(f=0;f<u;f++)w[c[f]]=A[f]}u="";f=0;for(c=this.length;f<c;f++)d=this.charAt(f),A=w[d],u=r?u+(null==A?z:d):u+(null!=A?A:d);return u});a.defn(n,
"$tr_s",function(a,f){a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str").$to_s();f=l.get("Opal").$coerce_to(f,l.get("String"),"to_str").$to_s();if(0==a.length)return this;var b,h,g,d,c,w={};c=a.split("");var u=c.length,A=f.split(""),e=A.length,r=!1,z=null;"^"===c[0]&&1<c.length&&(r=!0,c.shift(),z=A[e-1],--u);var k=[];g=null;h=!1;for(b=0;b<u;b++)if(d=c[b],null==g)g=d,k.push(d);else if("-"===d)"-"===g?(k.push("-"),k.push("-")):b==u-1?k.push("-"):h=!0;else if(h){g=g.charCodeAt(0);h=d.charCodeAt(0);
g>h&&this.$raise(l.get("ArgumentError"),'invalid range "'+String.fromCharCode(g)+"-"+String.fromCharCode(h)+'" in string transliteration');for(g+=1;g<h;g++)k.push(String.fromCharCode(g));k.push(d);g=h=null}else k.push(d);c=k;u=c.length;if(r)for(b=0;b<u;b++)w[c[b]]=!0;else{if(0<e){k=[];h=!1;for(b=0;b<e;b++)if(d=A[b],null==g)g=d,k.push(d);else if("-"===d)b==e-1?k.push("-"):h=!0;else if(h){g=g.charCodeAt(0);h=d.charCodeAt(0);g>h&&this.$raise(l.get("ArgumentError"),'invalid range "'+String.fromCharCode(g)+
"-"+String.fromCharCode(h)+'" in string transliteration');for(g+=1;g<h;g++)k.push(String.fromCharCode(g));k.push(d);g=h=null}else k.push(d);A=k;e=A.length}d=u-e;if(0<d)for(e=0<e?A[e-1]:"",b=0;b<d;b++)A.push(e);for(b=0;b<u;b++)w[c[b]]=A[b]}u="";A=null;b=0;for(c=this.length;b<c;b++)if(d=this.charAt(b),e=w[d],r)null==e?null==A&&(u+=z,A=!0):(u+=d,A=null);else if(null!=e){if(null==A||A!==e)u+=e,A=e}else u+=d,A=null;return u});a.defn(n,"$upcase",function(){return this.toUpperCase()});a.defn(n,"$upto",D=
function(a,b){var f=D.$$p||e;null==b&&(b=!1);D.$$p=null;if(f===e)return this.$enum_for("upto",a,b);a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str");var h,g;h=this.toString();var d;if(1===h.length&&1===a.length)for(h=h.charCodeAt(0),g=a.charCodeAt(0);h<=g&&(!b||h!==g);){d=f(String.fromCharCode(h));if(d===k)return k.$v;h+=1}else if(parseInt(h,10).toString()===h&&parseInt(a,10).toString()===a)for(h=parseInt(h,10),g=parseInt(a,10);h<=g&&(!b||h!==g);){d=f(h.toString());if(d===k)return k.$v;h+=1}else for(;h.length<=
a.length&&h<=a&&(!b||h!==a);){d=f(h);if(d===k)return k.$v;h=h.$succ()}return this})})(a.base,String);return a.cdecl(a,"Symbol",a.get("String"))};
Opal.modules["corelib/enumerable"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.breaker,m=a.slice,e=a.module;a.add_stubs("$raise $new $yield $dup $enum_for $enumerator_size $flatten $map $== $destructure $respond_to? $coerce_to! $> $* $nil? $coerce_to $try_convert $< $+ $- $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $compare $<=> $proc $call $to_a $lambda $sort! $map! $first $zip".split(" "));return function(k){k=e(k,"Enumerable");var d=k.$$scope,c,b,B,y,x,t,n,r,l,g,u,
A,C,h,f,w,z,D,N,v,L,J,O,R,E,ca,H,aa,I,S,T,ba,K,M,P;a.defn(k,"$all?",c=function(){var b,f=c.$$p||q;c.$$p=null;var h=!0;this.$each.$$p=f!==q?function(){var g=a.yieldX(f,arguments);if(g===p)return h=p.$v,p;if((b=g)===q||b.$$is_boolean&&0==b)return h=!1,p}:function(a){if(1==arguments.length&&((b=a)===q||b.$$is_boolean&&0==b))return h=!1,p};this.$each();return h});a.defn(k,"$any?",b=function(){var f,h=b.$$p||q;b.$$p=null;var g=!1;this.$each.$$p=h!==q?function(){var b=a.yieldX(h,arguments);if(b===p)return g=
p.$v,p;if((f=b)!==q&&(!f.$$is_boolean||1==f))return g=!0,p}:function(a){if(1!=arguments.length||(f=a)!==q&&(!f.$$is_boolean||1==f))return g=!0,p};this.$each();return g});a.defn(k,"$chunk",B=function(b){var f,h,g,l=B.$$p||q;B.$$p=null;!1!==l&&l!==q||d.get("Kernel").$raise(d.get("ArgumentError"),"no block given");return(f=(h=a.get("Enumerator")).$new,f.$$p=(g=function(f){function h(){0<A.length&&f.$yield(J,A)}var v=g.$$s||this,c,w,u;null==f&&(f=q);var L,J=q,A=[];L=void 0==b||b===q?l:(c=(w=d.get("Proc")).$new,
c.$$p=(u=function(a){null==a&&(a=q);return l.$yield(a,b.$dup())},u.$$s=v,u),c).call(w);v.$each.$$p=function(b){var f=a.yield1(L,b);if(f===p)return p;f===q?(h(),A=[],J=q):(J===q||J===f?A.push(b):(h(),A=[b]),J=f)};v.$each();h()},g.$$s=this,g),f).call(h)});a.defn(k,"$collect",y=function(){var b,f,h=y.$$p||q;y.$$p=null;if(h===q)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),b).call(this,"collect");var g=[];this.$each.$$p=function(){var b=a.yieldX(h,arguments);
if(b===p)return g=p.$v,p;g.push(b)};this.$each();return g});a.defn(k,"$collect_concat",x=function(){var b,f,h,g=x.$$p||q;x.$$p=null;return g===q?(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),b).call(this,"collect_concat"):(b=this.$map,b.$$p=(h=function(b){var f;null==b&&(b=q);return f=a.yield1(g,b),f},h.$$s=this,h),b).call(this).$flatten(1)});a.defn(k,"$count",t=function(b){var f,h=t.$$p||q;t.$$p=null;var g=0;null!=b?h=function(){return d.get("Opal").$destructure(arguments)["$=="](b)}:
h===q&&(h=function(){return!0});this.$each.$$p=function(){var b=a.yieldX(h,arguments);if(b===p)return g=p.$v,p;(f=b)===q||f.$$is_boolean&&1!=f||g++};this.$each();return g});a.defn(k,"$cycle",n=function(b){var f,h,g=n.$$p||q;null==b&&(b=q);n.$$p=null;if(g===q)return(f=this.$enum_for,f.$$p=(h=function(){var a=h.$$s||this,f;if(b["$=="](q))return(f=a["$respond_to?"]("size"))===q||f.$$is_boolean&&1!=f?q:d.get("Float").$$scope.get("INFINITY");b=d.get("Opal")["$coerce_to!"](b,d.get("Integer"),"to_int");
if((f="number"===typeof b?0<b:b["$>"](0))===q||f.$$is_boolean&&1!=f)return 0;a=a.$enumerator_size();return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)},h.$$s=this,h),f).call(this,"cycle",b);if((f=b["$nil?"]())===q||f.$$is_boolean&&1!=f)if(b=d.get("Opal")["$coerce_to!"](b,d.get("Integer"),"to_int"),(f=0>=b)!==q&&(!f.$$is_boolean||1==f))return q;var l,v=[],c,w;this.$each.$$p=function(){var b=d.get("Opal").$destructure(arguments);if(a.yield1(g,b)===p)return l=p.$v,p;v.push(b)};this.$each();
if(void 0!==l)return l;if(0===v.length)return q;if(b===q)for(;;)for(f=0,c=v.length;f<c;f++){if(w=a.yield1(g,v[f]),w===p)return p.$v}else for(;1<b;){f=0;for(c=v.length;f<c;f++)if(w=a.yield1(g,v[f]),w===p)return p.$v;b--}});a.defn(k,"$detect",r=function(b){var f,h=r.$$p||q;r.$$p=null;if(h===q)return this.$enum_for("detect",b);var g;this.$each.$$p=function(){var b=d.get("Opal").$destructure(arguments),l=a.yield1(h,b);if(l===p)return g=p.$v,p;if((f=l)!==q&&(!f.$$is_boolean||1==f))return g=b,p};this.$each();
void 0===g&&void 0!==b&&(g="function"===typeof b?b():b);return void 0===g?q:g});a.defn(k,"$drop",function(a){var b;a=d.get("Opal").$coerce_to(a,d.get("Integer"),"to_int");(b=0>a)===q||b.$$is_boolean&&1!=b||this.$raise(d.get("ArgumentError"),"attempt to drop negative size");var f=[],h=0;this.$each.$$p=function(){a<=h&&f.push(d.get("Opal").$destructure(arguments));h++};this.$each();return f});a.defn(k,"$drop_while",l=function(){var b,f=l.$$p||q;l.$$p=null;if(f===q)return this.$enum_for("drop_while");
var h=[],g=!0;this.$each.$$p=function(){var l=d.get("Opal").$destructure(arguments);if(g){var v=a.yield1(f,l);if(v===p)return h=p.$v,p;if((b=v)===q||b.$$is_boolean&&0==b)g=!1,h.push(l)}else h.push(l)};this.$each();return h});a.defn(k,"$each_cons",g=function(b){var f,h,l=g.$$p||q;g.$$p=null;(f=1!=arguments.length)===q||f.$$is_boolean&&1!=f||this.$raise(d.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");b=d.get("Opal").$try_convert(b,d.get("Integer"),"to_int");(f=0>=b)===
q||f.$$is_boolean&&1!=f||this.$raise(d.get("ArgumentError"),"invalid size");if(l===q)return(f=this.$enum_for,f.$$p=(h=function(){var a,f,g=q,g=(h.$$s||this).$enumerator_size();return(a=g["$nil?"]())===q||a.$$is_boolean&&1!=a?(a=!1!==(f=g["$=="](0))&&f!==q?f:"number"===typeof g&&"number"===typeof b?g<b:g["$<"](b))===q||a.$$is_boolean&&1!=a?(a="number"===typeof g&&"number"===typeof b?g-b:g["$-"](b),"number"===typeof a?a+1:a["$+"](1)):0:q},h.$$s=this,h),f).call(this,"each_cons",b);var v=[],c=q;this.$each.$$p=
function(){var f=d.get("Opal").$destructure(arguments);v.push(f);v.length>b&&v.shift();if(v.length==b&&a.yield1(l,v.slice(0,b))==p)return c=p.$v,p};this.$each();return c});a.defn(k,"$each_entry",u=function(){u.$$p=null;return this.$raise(d.get("NotImplementedError"))});a.defn(k,"$each_slice",A=function(b){var f,h,g=A.$$p||q;A.$$p=null;b=d.get("Opal").$coerce_to(b,d.get("Integer"),"to_int");(f=0>=b)===q||f.$$is_boolean&&1!=f||this.$raise(d.get("ArgumentError"),"invalid slice size");if(g===q)return(f=
this.$enum_for,f.$$p=(h=function(){var a=h.$$s||this,f;if((f=a["$respond_to?"]("size"))===q||f.$$is_boolean&&1!=f)return q;a=a.$size();return("number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)).$ceil()},h.$$s=this,h),f).call(this,"each_slice",b);var l,v=[];this.$each.$$p=function(){var f=d.get("Opal").$destructure(arguments);v.push(f);if(v.length===b){if(a.yield1(g,v)===p)return l=p.$v,p;v=[]}};this.$each();return void 0!==l?l:0<v.length&&a.yield1(g,v)===p?p.$v:q});a.defn(k,"$each_with_index",
C=function(){var b,f,h=C.$$p||q,g=q,l=arguments.length-0;0>l&&(l=0);for(var v=Array(l),g=0;g<l;g++)v[g]=arguments[g+0];C.$$p=null;if(h===q)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),b).apply(this,["each_with_index"].concat(a.to_a(v)));var c,w=0;this.$each.$$p=function(){var a=d.get("Opal").$destructure(arguments);if(h(a,w)===p)return c=p.$v,p;w++};this.$each.apply(this,v);return void 0!==c?c:this});a.defn(k,"$each_with_object",h=function(a){var b,
f,g=h.$$p||q;h.$$p=null;if(g===q)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),b).call(this,"each_with_object",a);var l;this.$each.$$p=function(){var b=d.get("Opal").$destructure(arguments);if(g(b,a)===p)return l=p.$v,p};this.$each();return void 0!==l?l:a});a.defn(k,"$entries",function(){var a=q,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];var h=[];this.$each.$$p=function(){h.push(d.get("Opal").$destructure(arguments))};
this.$each.apply(this,f);return h});a.alias(k,"find","detect");a.defn(k,"$find_all",f=function(){var b,h,g=f.$$p||q;f.$$p=null;if(g===q)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$enumerator_size()},h.$$s=this,h),b).call(this,"find_all");var l=[];this.$each.$$p=function(){var f=d.get("Opal").$destructure(arguments),h=a.yield1(g,f);if(h===p)return l=p.$v,p;(b=h)===q||b.$$is_boolean&&1!=b||l.push(f)};this.$each();return l});a.defn(k,"$find_index",w=function(b){var f,h=w.$$p||q;
w.$$p=null;if((f=void 0===b&&h===q)!==q&&(!f.$$is_boolean||1==f))return this.$enum_for("find_index");var g=q,l=0;null!=b?this.$each.$$p=function(){if(d.get("Opal").$destructure(arguments)["$=="](b))return g=l,p;l+=1}:h!==q&&(this.$each.$$p=function(){var b=a.yieldX(h,arguments);if(b===p)return g=p.$v,p;if((f=b)!==q&&(!f.$$is_boolean||1==f))return g=l,p;l+=1});this.$each();return g});a.defn(k,"$first",function(a){var b,f=q;if((b=void 0===a)===q||b.$$is_boolean&&1!=b){f=[];a=d.get("Opal").$coerce_to(a,
d.get("Integer"),"to_int");(b=0>a)===q||b.$$is_boolean&&1!=b||this.$raise(d.get("ArgumentError"),"attempt to take negative size");if((b=0==a)!==q&&(!b.$$is_boolean||1==b))return[];var h=0;a=d.get("Opal").$coerce_to(a,d.get("Integer"),"to_int");this.$each.$$p=function(){f.push(d.get("Opal").$destructure(arguments));if(a<=++h)return p}}else f=q,this.$each.$$p=function(){f=d.get("Opal").$destructure(arguments);return p};this.$each();return f});a.alias(k,"flat_map","collect_concat");a.defn(k,"$grep",
z=function(b){var f,h=z.$$p||q;z.$$p=null;var g=[];this.$each.$$p=h!==q?function(){var l=d.get("Opal").$destructure(arguments),v=b["$==="](l);if((f=v)!==q&&(!f.$$is_boolean||1==f)){v=a.yield1(h,l);if(v===p)return g=p.$v,p;g.push(v)}}:function(){var a=d.get("Opal").$destructure(arguments);(f=b["$==="](a))===q||f.$$is_boolean&&1!=f||g.push(a)};this.$each();return g});a.defn(k,"$group_by",D=function(){var b,f,h,g,l=D.$$p||q,v=q;D.$$p=null;if(l===q)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||
this).$enumerator_size()},f.$$s=this,f),b).call(this,"group_by");var v=d.get("Hash").$new(),c;this.$each.$$p=function(){var f=d.get("Opal").$destructure(arguments),w=a.yield1(l,f);if(w===p)return c=p.$v,p;(b=w,h=v,!1!==(g=h["$[]"](b))&&g!==q?g:h["$[]="](b,[]))["$<<"](f)};this.$each();return void 0!==c?c:v});a.defn(k,"$include?",function(a){var b=!1;this.$each.$$p=function(){if(d.get("Opal").$destructure(arguments)["$=="](a))return b=!0,p};this.$each();return b});a.defn(k,"$inject",N=function(b,f){var h=
N.$$p||q;N.$$p=null;var g=b;h!==q&&void 0===f?this.$each.$$p=function(){var b=d.get("Opal").$destructure(arguments);if(void 0!==g&&(b=a.yieldX(h,[g,b]),b===p))return g=p.$v,p;g=b}:(void 0===f&&(d.get("Symbol")["$==="](b)||this.$raise(d.get("TypeError"),""+b.$inspect()+" is not a Symbol"),f=b,g=void 0),this.$each.$$p=function(){var a=d.get("Opal").$destructure(arguments);g=void 0===g?a:g.$__send__(f,a)});this.$each();return void 0==g?q:g});a.defn(k,"$lazy",function(){var b,f,h;return(b=(f=d.get("Enumerator").$$scope.get("Lazy")).$new,
b.$$p=(h=function(b,f){var h;null==b&&(b=q);f=m.call(arguments,1);return(h=b).$yield.apply(h,a.to_a(f))},h.$$s=this,h),b).call(f,this,this.$enumerator_size())});a.defn(k,"$enumerator_size",function(){var a;return(a=this["$respond_to?"]("size"))===q||a.$$is_boolean&&1!=a?q:this.$size()});a.alias(k,"map","collect");a.defn(k,"$max",v=function(){var a=this,b=v.$$p||q;v.$$p=null;var f;a.$each.$$p=b!==q?function(){var h=d.get("Opal").$destructure(arguments);if(void 0===f)f=h;else{var g=b(h,f);if(g===p)return f=
p.$v,p;g===q&&a.$raise(d.get("ArgumentError"),"comparison failed");0<g&&(f=h)}}:function(){var a=d.get("Opal").$destructure(arguments);void 0===f?f=a:0<d.get("Opal").$compare(a,f)&&(f=a)};a.$each();return void 0===f?q:f});a.defn(k,"$max_by",L=function(){var b,f,h=L.$$p||q;L.$$p=null;if(!1===h||h===q)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),b).call(this,"max_by");var g,l;this.$each.$$p=function(){var b=d.get("Opal").$destructure(arguments),f=
a.yield1(h,b);if(void 0===g)g=b,l=f;else{if(f===p)return g=p.$v,p;0<f["$<=>"](l)&&(g=b,l=f)}};this.$each();return void 0===g?q:g});a.alias(k,"member?","include?");a.defn(k,"$min",J=function(){var a=this,b=J.$$p||q;J.$$p=null;var f;a.$each.$$p=b!==q?function(){var h=d.get("Opal").$destructure(arguments);if(void 0===f)f=h;else{var g=b(h,f);if(g===p)return f=p.$v,p;g===q&&a.$raise(d.get("ArgumentError"),"comparison failed");0>g&&(f=h)}}:function(){var a=d.get("Opal").$destructure(arguments);void 0===
f?f=a:0>d.get("Opal").$compare(a,f)&&(f=a)};a.$each();return void 0===f?q:f});a.defn(k,"$min_by",O=function(){var b,f,h=O.$$p||q;O.$$p=null;if(!1===h||h===q)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),b).call(this,"min_by");var g,l;this.$each.$$p=function(){var b=d.get("Opal").$destructure(arguments),f=a.yield1(h,b);if(void 0===g)g=b,l=f;else{if(f===p)return g=p.$v,p;0>f["$<=>"](l)&&(g=b,l=f)}};this.$each();return void 0===g?q:g});a.defn(k,"$minmax",
R=function(){var a,b,f,h=this,g=R.$$p||q;R.$$p=null;!1!==(a=g)&&a!==q?a:g=(b=h.$proc,b.$$p=(f=function(a,b){null==a&&(a=q);null==b&&(b=q);return a["$<=>"](b)},f.$$s=h,f),b).call(h);var l=q,v=q,c=!0;h.$each.$$p=function(){var a=d.get("Opal").$destructure(arguments);if(c)l=v=a,c=!1;else{var b=g.$call(l,a);b===q?h.$raise(d.get("ArgumentError"),"comparison failed"):0<b&&(l=a);b=g.$call(v,a);b===q?h.$raise(d.get("ArgumentError"),"comparison failed"):0>b&&(v=a)}};h.$each();return[l,v]});a.defn(k,"$minmax_by",
E=function(){E.$$p=null;return this.$raise(d.get("NotImplementedError"))});a.defn(k,"$none?",ca=function(){var b,f=ca.$$p||q;ca.$$p=null;var h=!0;this.$each.$$p=f!==q?function(){var g=a.yieldX(f,arguments);if(g===p)return h=p.$v,p;if((b=g)!==q&&(!b.$$is_boolean||1==b))return h=!1,p}:function(){if((b=d.get("Opal").$destructure(arguments))!==q&&(!b.$$is_boolean||1==b))return h=!1,p};this.$each();return h});a.defn(k,"$one?",H=function(){var b,f=H.$$p||q;H.$$p=null;var h=!1;this.$each.$$p=f!==q?function(){var g=
a.yieldX(f,arguments);if(g===p)return h=p.$v,p;if((b=g)!==q&&(!b.$$is_boolean||1==b)){if(!0===h)return h=!1,p;h=!0}}:function(){if((b=d.get("Opal").$destructure(arguments))!==q&&(!b.$$is_boolean||1==b)){if(!0===h)return h=!1,p;h=!0}};this.$each();return h});a.defn(k,"$partition",aa=function(){var b,f,h=aa.$$p||q;aa.$$p=null;if(h===q)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),b).call(this,"partition");var g=[],l=[];this.$each.$$p=function(){var f=
d.get("Opal").$destructure(arguments),v=a.yield1(h,f);if(v===p)return p;(b=v)===q||b.$$is_boolean&&1!=b?l.push(f):g.push(f)};this.$each();return[g,l]});a.alias(k,"reduce","inject");a.defn(k,"$reject",I=function(){var b,f,h=I.$$p||q;I.$$p=null;if(h===q)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),b).call(this,"reject");var g=[];this.$each.$$p=function(){var f=d.get("Opal").$destructure(arguments),l=a.yield1(h,f);if(l===p)return g=p.$v,p;((b=l)===
q||b.$$is_boolean&&0==b)&&g.push(f)};this.$each();return g});a.defn(k,"$reverse_each",S=function(){var b,f,h=S.$$p||q;S.$$p=null;if(h===q)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),b).call(this,"reverse_each");var g=[];this.$each.$$p=function(){g.push(arguments)};this.$each();for(b=g.length-1;0<=b;b--)a.yieldX(h,g[b]);return g});a.alias(k,"select","find_all");a.defn(k,"$slice_before",T=function(b){var f,h,g,l=T.$$p||q;T.$$p=null;(f=void 0===b&&
l===q||1<arguments.length)===q||f.$$is_boolean&&1!=f||this.$raise(d.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");return(f=(h=d.get("Enumerator")).$new,f.$$p=(g=function(f){var h=g.$$s||this,v;null==f&&(f=q);var c=[];h.$each.$$p=l!==q?void 0===b?function(){var b=d.get("Opal").$destructure(arguments);(v=a.yield1(l,b))!==q&&(!v.$$is_boolean||1==v)&&0<c.length&&(f["$<<"](c),c=[]);c.push(b)}:function(){var a=d.get("Opal").$destructure(arguments);(v=l(a,b.$dup()))!==q&&
(!v.$$is_boolean||1==v)&&0<c.length&&(f["$<<"](c),c=[]);c.push(a)}:function(){var a=d.get("Opal").$destructure(arguments);(v=b["$==="](a))!==q&&(!v.$$is_boolean||1==v)&&0<c.length&&(f["$<<"](c),c=[]);c.push(a)};h.$each();if(0<c.length)f["$<<"](c)},g.$$s=this,g),f).call(h)});a.defn(k,"$sort",ba=function(){var a,b,f=ba.$$p||q,h=q;ba.$$p=null;h=this.$to_a();f===q&&(f=(a=this.$lambda,a.$$p=(b=function(a,b){null==a&&(a=q);null==b&&(b=q);return a["$<=>"](b)},b.$$s=this,b),a).call(this));return h.sort(f)});
a.defn(k,"$sort_by",K=function(){var a,b,f,h,g,l,v,c=K.$$p||q,w=q;K.$$p=null;if(c===q)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),a).call(this,"sort_by");w=(a=this.$map,a.$$p=(f=function(){var a=q,a=d.get("Opal").$destructure(arguments);return[c.$call(a),a]},f.$$s=this,f),a).call(this);(a=(h=w)["$sort!"],a.$$p=(g=function(a,b){null==a&&(a=q);null==b&&(b=q);return a[0]["$<=>"](b[0])},g.$$s=this,g),a).call(h);return(a=(l=w)["$map!"],a.$$p=(v=function(a){null==
a&&(a=q);return a[1]},v.$$s=this,v),a).call(l)});a.defn(k,"$take",function(a){return this.$first(a)});a.defn(k,"$take_while",M=function(){var b,f=M.$$p||q;M.$$p=null;if(!1===f||f===q)return this.$enum_for("take_while");var h=[];this.$each.$$p=function(){var g=d.get("Opal").$destructure(arguments),l=a.yield1(f,g);if(l===p)return h=p.$v,p;if((b=l)===q||b.$$is_boolean&&0==b)return p;h.push(g)};this.$each();return h});a.alias(k,"to_a","entries");a.defn(k,"$zip",P=function(){var b,f=q,h=arguments.length-
0;0>h&&(h=0);for(var g=Array(h),f=0;f<h;f++)g[f]=arguments[f+0];P.$$p=null;return(b=this.$to_a()).$zip.apply(b,a.to_a(g))})}(a.base)};
Opal.modules["corelib/enumerator"]=function(a){function q(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}function p(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}a.dynamic_require_severity="warning";var m=a.top,e=a.nil,k=a.breaker,d=a.slice,c=a.klass;a.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));m.$require("corelib/enumerable");
return function(b,$super){function m(){}var x=m=c(b,$super,"Enumerator",m),t=x.$$proto,n=x.$$scope,r,l,g,u;t.size=t.args=t.object=t.method=e;x.$include(n.get("Enumerable"));t.$$is_enumerator=!0;a.defs(x,"$for",r=function(a,b){var h=r.$$p||e,f=e,g=arguments.length-2;0>g&&(g=0);for(var d=Array(g),f=0;f<g;f++)d[f]=arguments[f+2];null==b&&(b="each");r.$$p=null;f=this.$allocate();f.object=a;f.size=h;f.method=b;f.args=d;return f});a.defn(x,"$initialize",l=function(){var a,b,h=l.$$p||e;l.$$p=null;if(!1!==
h&&h!==e)return this.object=(a=(b=n.get("Generator")).$new,a.$$p=h.$to_proc(),a).call(b),this.method="each",this.args=[],this.size=arguments[0]||e,(a=this.size)===e||a.$$is_boolean&&1!=a?e:this.size=n.get("Opal").$coerce_to(this.size,n.get("Integer"),"to_int");this.object=arguments[0];this.method=arguments[1]||"each";this.args=d.call(arguments,2);return this.size=e});a.defn(x,"$each",g=function(){var b,d,h,f=g.$$p||e,l=e,c=arguments.length-0;0>c&&(c=0);for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+
0];g.$$p=null;if((b=(d=f["$nil?"](),!1!==d&&d!==e?u["$empty?"]():d))!==e&&(!b.$$is_boolean||1==b))return this;u=q(this.args,u);return(b=f["$nil?"]())===e||b.$$is_boolean&&1!=b?(d=(h=this.object).$__send__,d.$$p=f.$to_proc(),d).apply(h,[this.method].concat(a.to_a(u))):(b=this.$class()).$new.apply(b,[this.object,this.method].concat(a.to_a(u)))});a.defn(x,"$size",function(){var b;return(b=n.get("Proc")["$==="](this.size))===e||b.$$is_boolean&&1!=b?this.size:(b=this.size).$call.apply(b,a.to_a(this.args))});
a.defn(x,"$with_index",u=function(a){var b,h,f=u.$$p||e;null==a&&(a=0);u.$$p=null;a=!1!==a&&a!==e?n.get("Opal").$coerce_to(a,n.get("Integer"),"to_int"):0;if(!1===f||f===e)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$size()},h.$$s=this,h),b).call(this,"with_index",a);var g,d=a;this.$each.$$p=function(){var a=n.get("Opal").$destructure(arguments),a=f(a,d);if(a===k)return g=k.$v,k;d++;return a};this.$each();return void 0!==g?g:this.object});a.alias(x,"with_object","each_with_object");
a.defn(x,"$inspect",function(){var a,b=e,b="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;if((a=this.args["$empty?"]())===e||a.$$is_boolean&&1!=a)b=q(b,"("+this.args.$inspect()["$[]"](n.get("Range").$new(1,-2))+")");return q(b,">")});(function(b,$super){function h(){}var f=h=c(b,$super,"Generator",h),g=f.$$scope,d,l;f.$$proto.block=e;f.$include(g.get("Enumerable"));a.defn(f,"$initialize",d=function(){var a=d.$$p||e;d.$$p=null;!1!==a&&a!==e||this.$raise(g.get("LocalJumpError"),"no block given");
return this.block=a});return(a.defn(f,"$each",l=function(){var b,f,h=l.$$p||e,d=e,d=e,c=arguments.length-0;0>c&&(c=0);for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+0];l.$$p=null;d=(b=(f=g.get("Yielder")).$new,b.$$p=h.$to_proc(),b).call(f);try{if(u.unshift(d),a.yieldX(this.block,u)===k)return k.$v}catch(A){if(A===k)return k.$v;throw A;}return this}),e)&&"each"})(n.base,null);(function(b,$super){function h(){}var f=h=c(b,$super,"Yielder",h),g;f.$$proto.block=e;a.defn(f,"$initialize",g=function(){var a=
g.$$p||e;g.$$p=null;return this.block=a});a.defn(f,"$yield",function(){var b=e,f=arguments.length-0;0>f&&(f=0);for(var h=Array(f),b=0;b<f;b++)h[b]=arguments[b+0];b=a.yieldX(this.block,h);if(b===k)throw k;return b});return(a.defn(f,"$<<",function(){var b=e,f=arguments.length-0;0>f&&(f=0);for(var h=Array(f),b=0;b<f;b++)h[b]=arguments[b+0];this.$yield.apply(this,a.to_a(h));return this}),e)&&"<<"})(n.base,null);return function(b,$super){function h(){}var f=h=c(b,$super,"Lazy",h),g=f.$$scope,l,u,r,v,L,
J,n,R,E;f.$$proto.enumerator=e;(function(a,$super){function b(){}b=c(a,$super,"StopLazyError",b);return e})(g.base,g.get("Exception"));a.defn(f,"$initialize",l=function(b,f){var h,v=l.$$p||e;null==f&&(f=e);l.$$p=null;v===e&&this.$raise(g.get("ArgumentError"),"tried to call lazy new without a block");this.enumerator=b;return a.find_super_dispatcher(this,"initialize",l,(h=function(f,l){var c=h.$$s||this,u,L;null==f&&(f=e);l=d.call(arguments,1);try{return(u=b.$each,u.$$p=(L=function(b){b=d.call(arguments,
0);b.unshift(f);if(a.yieldX(v,b)===k)return k},L.$$s=c,L),u).apply(b,a.to_a(l))}catch(J){if(a.rescue(J,[g.get("Exception")]))try{return e}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw J;}},h.$$s=this,h)).apply(this,[f])});a.alias(f,"force","to_a");a.defn(f,"$lazy",function(){return this});a.defn(f,"$collect",u=function(){var b,f,h,l=u.$$p||e;u.$$p=null;!1!==l&&l!==e||this.$raise(g.get("ArgumentError"),"tried to call lazy map without a block");return(b=(f=g.get("Lazy")).$new,b.$$p=(h=function(b,
f){null==b&&(b=e);f=d.call(arguments,1);var h=a.yieldX(l,f);if(h===k)return k;b.$yield(h)},h.$$s=this,h),b).call(f,this,this.$enumerator_size())});a.defn(f,"$collect_concat",r=function(){var b,f,h,l=r.$$p||e;r.$$p=null;!1!==l&&l!==e||this.$raise(g.get("ArgumentError"),"tried to call lazy map without a block");return(b=(f=g.get("Lazy")).$new,b.$$p=(h=function(b,f){var v=h.$$s||this,c,u,L,J,A;null==b&&(b=e);f=d.call(arguments,1);var r=a.yieldX(l,f);if(r===k)return k;r["$respond_to?"]("force")&&r["$respond_to?"]("each")?
(c=(u=r).$each,c.$$p=(L=function(a){null==a&&(a=e);return b.$yield(a)},L.$$s=v,L),c).call(u):g.get("Opal").$try_convert(r,g.get("Array"),"to_ary")===e?b.$yield(r):(c=(J=r).$each,c.$$p=(A=function(a){null==a&&(a=e);return b.$yield(a)},A.$$s=v,A),c).call(J)},h.$$s=this,h),b).call(f,this,e)});a.defn(f,"$drop",function(b){var f,h,l,v=e,c=v=e;b=g.get("Opal").$coerce_to(b,g.get("Integer"),"to_int");(f=p(b,0))===e||f.$$is_boolean&&1!=f||this.$raise(g.get("ArgumentError"),"attempt to drop negative size");
v=this.$enumerator_size();v=(f=g.get("Integer")["$==="](v))===e||f.$$is_boolean&&1!=f?v:(f=p(b,v))===e||f.$$is_boolean&&1!=f?v:b;c=0;return(f=(h=g.get("Lazy")).$new,f.$$p=(l=function(f,h){var g;null==f&&(f=e);h=d.call(arguments,1);return(g=p(c,b))===e||g.$$is_boolean&&1!=g?(g=f).$yield.apply(g,a.to_a(h)):c=q(c,1)},l.$$s=this,l),f).call(h,this,v)});a.defn(f,"$drop_while",v=function(){var b,f,h,l=v.$$p||e,c=e;v.$$p=null;!1!==l&&l!==e||this.$raise(g.get("ArgumentError"),"tried to call lazy drop_while without a block");
c=!0;return(b=(f=g.get("Lazy")).$new,b.$$p=(h=function(b,f){var h,g;null==b&&(b=e);f=d.call(arguments,1);if(!1!==c&&c!==e){g=a.yieldX(l,f);if(g===k)return k;if((h=g)===e||h.$$is_boolean&&0==h)c=!1,(h=b).$yield.apply(h,a.to_a(f))}else return(g=b).$yield.apply(g,a.to_a(f))},h.$$s=this,h),b).call(f,this,e)});a.defn(f,"$enum_for",L=function(b){var f,h,g=L.$$p||e,d=e,l=arguments.length-1;0>l&&(l=0);for(var v=Array(l),d=0;d<l;d++)v[d]=arguments[d+1];null==b&&(b="each");L.$$p=null;return(f=(h=this.$class()).$for,
f.$$p=g.$to_proc(),f).apply(h,[this,b].concat(a.to_a(v)))});a.defn(f,"$find_all",J=function(){var b,f,h,l=J.$$p||e;J.$$p=null;!1!==l&&l!==e||this.$raise(g.get("ArgumentError"),"tried to call lazy select without a block");return(b=(f=g.get("Lazy")).$new,b.$$p=(h=function(b,f){var h;null==b&&(b=e);f=d.call(arguments,1);var g=a.yieldX(l,f);if(g===k)return k;(h=g)===e||h.$$is_boolean&&1!=h||(h=b).$yield.apply(h,a.to_a(f))},h.$$s=this,h),b).call(f,this,e)});a.alias(f,"flat_map","collect_concat");a.defn(f,
"$grep",n=function(b){var f,h,l,v,c,u=n.$$p||e;n.$$p=null;return!1!==u&&u!==e?(f=(h=g.get("Lazy")).$new,f.$$p=(l=function(f,h){var l;null==f&&(f=e);h=d.call(arguments,1);var v=g.get("Opal").$destructure(h),c=b["$==="](v);if((l=c)!==e&&(!l.$$is_boolean||1==l)){c=a.yield1(u,v);if(c===k)return k;f.$yield(a.yield1(u,v))}},l.$$s=this,l),f).call(h,this,e):(f=(v=g.get("Lazy")).$new,f.$$p=(c=function(a,f){var h;null==a&&(a=e);f=d.call(arguments,1);var l=g.get("Opal").$destructure(f);(h=b["$==="](l))===e||
h.$$is_boolean&&1!=h||a.$yield(l)},c.$$s=this,c),f).call(v,this,e)});a.alias(f,"map","collect");a.alias(f,"select","find_all");a.defn(f,"$reject",R=function(){var b,f,h,l=R.$$p||e;R.$$p=null;!1!==l&&l!==e||this.$raise(g.get("ArgumentError"),"tried to call lazy reject without a block");return(b=(f=g.get("Lazy")).$new,b.$$p=(h=function(b,f){var h;null==b&&(b=e);f=d.call(arguments,1);var g=a.yieldX(l,f);if(g===k)return k;((h=g)===e||h.$$is_boolean&&0==h)&&(h=b).$yield.apply(h,a.to_a(f))},h.$$s=this,
h),b).call(f,this,e)});a.defn(f,"$take",function(b){var f,h,l,v=e,c=v=e;b=g.get("Opal").$coerce_to(b,g.get("Integer"),"to_int");(f=p(b,0))===e||f.$$is_boolean&&1!=f||this.$raise(g.get("ArgumentError"),"attempt to take negative size");v=this.$enumerator_size();v=(f=g.get("Integer")["$==="](v))===e||f.$$is_boolean&&1!=f?v:(f=p(b,v))===e||f.$$is_boolean&&1!=f?v:b;c=0;return(f=(h=g.get("Lazy")).$new,f.$$p=(l=function(f,h){var v=l.$$s||this,u;null==f&&(f=e);h=d.call(arguments,1);if((u=p(c,b))===e||u.$$is_boolean&&
1!=u)return v.$raise(g.get("StopLazyError"));(u=f).$yield.apply(u,a.to_a(h));return c=q(c,1)},l.$$s=this,l),f).call(h,this,v)});a.defn(f,"$take_while",E=function(){var b,f,h,l=E.$$p||e;E.$$p=null;!1!==l&&l!==e||this.$raise(g.get("ArgumentError"),"tried to call lazy take_while without a block");return(b=(f=g.get("Lazy")).$new,b.$$p=(h=function(b,f){var v=h.$$s||this,c;null==b&&(b=e);f=d.call(arguments,1);var u=a.yieldX(l,f);if(u===k)return k;(c=u)===e||c.$$is_boolean&&1!=c?v.$raise(g.get("StopLazyError")):
(c=b).$yield.apply(c,a.to_a(f))},h.$$s=this,h),b).call(f,this,e)});a.alias(f,"to_enum","enum_for");return(a.defn(f,"$inspect",function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"}),e)&&"inspect"}(n.base,x)}(a.base,null)};
Opal.modules["corelib/numeric"]=function(a){function q(a,d){return"number"===typeof a&&"number"===typeof d?a-d:a["$-"](d)}function p(a,d){return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)}function m(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}function e(a,d){return"number"===typeof a&&"number"===typeof d?a/d:a["$/"](d)}a.dynamic_require_severity="warning";var k=a.top,d=a.nil,c=a.klass;a.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $coerce_to! $-@ $** $- $* $div $< $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $round $to_i $truncate $>".split(" "));
k.$require("corelib/comparable");return function(b,$super){function k(){}var x=k=c(b,$super,"Numeric",k),t=x.$$scope;x.$include(t.get("Comparable"));a.defn(x,"$coerce",function(a){var b;return(b=a["$instance_of?"](this.$class()))===d||b.$$is_boolean&&1!=b?[this.$Float(a),this.$Float(this)]:[a,this]});a.defn(x,"$__coerced__",function(b,c){var l,g,u=d,A=d,e=d;try{g=c.$coerce(this),l=a.to_ary(g),u=null==l[0]?d:l[0],A=null==l[1]?d:l[1],g}catch(h){try{e=b,"+"["$==="](e)||"-"["$==="](e)||"*"["$==="](e)||
"/"["$==="](e)||"%"["$==="](e)||"&"["$==="](e)||"|"["$==="](e)||"^"["$==="](e)||"**"["$==="](e)?this.$raise(t.get("TypeError"),""+c.$class()+" can't be coerce into Numeric"):(">"["$==="](e)||">="["$==="](e)||"<"["$==="](e)||"<="["$==="](e)||"<=>"["$==="](e))&&this.$raise(t.get("ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return u.$__send__(b,A)});a.defn(x,"$<=>",function(a){var b;return(b=this["$equal?"](a))===d||b.$$is_boolean&&
1!=b?d:0});a.defn(x,"$[]",function(a){var b=d,l=d;a=t.get("Opal")["$coerce_to!"](a,t.get("Integer"),"to_int");b=2["$**"](30)["$-@"]();l=q(2["$**"](30),1);return a<b||a>l?0:(this>>a)%2});a.defn(x,"$+@",function(){return this});a.defn(x,"$-@",function(){return q(0,this)});a.defn(x,"$%",function(a){return q(this,p(a,this.$div(a)))});a.defn(x,"$abs",function(){return m(this,0)?this["$-@"]():this});a.defn(x,"$abs2",function(){return p(this,this)});a.defn(x,"$angle",function(){return m(this,0)?t.get("Math").$$scope.get("PI"):
0});a.alias(x,"arg","angle");a.defn(x,"$ceil",function(){return this.$to_f().$ceil()});a.defn(x,"$conj",function(){return this});a.alias(x,"conjugate","conj");a.defn(x,"$denominator",function(){return this.$to_r().$denominator()});a.defn(x,"$div",function(a){a["$=="](0)&&this.$raise(t.get("ZeroDivisionError"),"divided by o");return e(this,a).$floor()});a.defn(x,"$divmod",function(a){return[this.$div(a),this["$%"](a)]});a.defn(x,"$fdiv",function(a){return e(this.$to_f(),a)});a.defn(x,"$floor",function(){return this.$to_f().$floor()});
a.defn(x,"$i",function(){return this.$Complex(0,this)});a.defn(x,"$imag",function(){return 0});a.alias(x,"imaginary","imag");a.defn(x,"$integer?",function(){return!1});a.alias(x,"magnitude","abs");a.alias(x,"modulo","%");a.defn(x,"$nonzero?",function(){var a;return(a=this["$zero?"]())===d||a.$$is_boolean&&1!=a?this:d});a.defn(x,"$numerator",function(){return this.$to_r().$numerator()});a.alias(x,"phase","arg");a.defn(x,"$polar",function(){return[this.$abs(),this.$arg()]});a.defn(x,"$quo",function(a){return e(t.get("Opal")["$coerce_to!"](this,
t.get("Rational"),"to_r"),a)});a.defn(x,"$real",function(){return this});a.defn(x,"$real?",function(){return!0});a.defn(x,"$rect",function(){return[this,0]});a.alias(x,"rectangular","rect");a.defn(x,"$round",function(a){return this.$to_f().$round(a)});a.defn(x,"$to_c",function(){return this.$Complex(this,0)});a.defn(x,"$to_int",function(){return this.$to_i()});a.defn(x,"$truncate",function(){return this.$to_f().$truncate()});a.defn(x,"$zero?",function(){return this["$=="](0)});a.defn(x,"$positive?",
function(){return"number"===typeof this?0<this:this["$>"](0)});a.defn(x,"$negative?",function(){return m(this,0)});a.defn(x,"$dup",function(){return this.$raise(t.get("TypeError"),"can't dup "+this.$class())});return(a.defn(x,"$clone",function(){return this.$raise(t.get("TypeError"),"can't clone "+this.$class())}),d)&&"clone"}(a.base,null)};
Opal.modules["corelib/array"]=function(a){function q(a,d){return"number"===typeof a&&"number"===typeof d?a>d:a["$>"](d)}a.dynamic_require_severity="warning";var p=a.top,m=a.nil,e=a.breaker,k=a.klass,d=a.hash2,c=a.gvars;a.add_stubs("$require $include $raise $=== $to_a $respond_to? $to_ary $coerce_to $initialize $to_proc $coerce_to? $join $to_str $class $clone $hash $<=> $== $object_id $inspect $enum_for $coerce_to! $> $* $enumerator_size $empty? $copy_singleton_methods $initialize_clone $initialize_dup $replace $size $eql? $length $begin $end $exclude_end? $flatten $__id__ $[] $to_s $new $! $delete_if $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $!= $times $[]= $<< $kind_of? $last $first $upto".split(" "));
p.$require("corelib/enumerable");p.$require("corelib/numeric");return function(b,$super){function p(){}function x(a,b){return a===b||0===b?1:0<b&&a>b?x(a-1,b-1)+x(a-1,b):0}var t=p=k(b,$super,"Array",p),n=t.$$proto,r=t.$$scope,l,g,u,A,C,h,f,w,z,D,N,v,L,J,O,R,E,ca,H,aa,I,S,T,ba,K,M,P,X,Y;n.length=m;t.$include(r.get("Enumerable"));n.$$is_array=!0;a.defs(t,"$[]",function(){var a=m,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];return f});a.defn(t,"$initialize",l=function(a,
b){var f,h=l.$$p||m;null==a&&(a=m);null==b&&(b=m);l.$$p=null;(f=2<arguments.length)===m||f.$$is_boolean&&1!=f||this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if((f=1===arguments.length)!==m&&(!f.$$is_boolean||1==f)){if((f=r.get("Array")["$==="](a))!==m&&(!f.$$is_boolean||1==f))return a.$to_a();if((f=a["$respond_to?"]("to_ary"))!==m&&(!f.$$is_boolean||1==f))return a.$to_ary()}a=r.get("Opal").$coerce_to(a,
r.get("Integer"),"to_int");(f=0>a)===m||f.$$is_boolean&&1!=f||this.$raise(r.get("ArgumentError"),"negative array size");this.splice(0,this.length);var g;if(h===m)for(f=0;f<a;f++)this.push(b);else for(f=0,g;f<a;f++){g=h(f);if(g===e)return e.$v;this[f]=g}return this});a.defs(t,"$new",g=function(){var b,f,h=g.$$p||m,d=m,l=arguments.length-0;0>l&&(l=0);for(var v=Array(l),d=0;d<l;d++)v[d]=arguments[d+0];g.$$p=null;return(b=(f=[]).$initialize,b.$$p=h.$to_proc(),b).apply(f,a.to_a(v))});a.defs(t,"$try_convert",
function(a){return r.get("Opal")["$coerce_to?"](a,r.get("Array"),"to_ary")});a.defn(t,"$&",function(b){var f;b=(f=r.get("Array")["$==="](b))===m||f.$$is_boolean&&1!=f?r.get("Opal").$coerce_to(b,r.get("Array"),"to_ary").$to_a():b.$to_a();f=[];var h=d([],{}),g,l;g=0;for(l=b.length;g<l;g++)a.hash_put(h,b[g],!0);g=0;for(l=this.length;g<l;g++)b=this[g],void 0!==a.hash_delete(h,b)&&f.push(b);return f});a.defn(t,"$|",function(b){var f;b=(f=r.get("Array")["$==="](b))===m||f.$$is_boolean&&1!=f?r.get("Opal").$coerce_to(b,
r.get("Array"),"to_ary").$to_a():b.$to_a();f=d([],{});var h,g;h=0;for(g=this.length;h<g;h++)a.hash_put(f,this[h],!0);h=0;for(g=b.length;h<g;h++)a.hash_put(f,b[h],!0);return f.$keys()});a.defn(t,"$*",function(a){var b;if((b=a["$respond_to?"]("to_str"))!==m&&(!b.$$is_boolean||1==b))return this.$join(a.$to_str());((b=a["$respond_to?"]("to_int"))===m||b.$$is_boolean&&1!=b)&&this.$raise(r.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=r.get("Opal").$coerce_to(a,r.get("Integer"),
"to_int");(b=0>a)===m||b.$$is_boolean&&1!=b||this.$raise(r.get("ArgumentError"),"negative argument");b=[];for(var f=0;f<a;f++)b=b.concat(this);return b});a.defn(t,"$+",function(a){var b;a=(b=r.get("Array")["$==="](a))===m||b.$$is_boolean&&1!=b?r.get("Opal").$coerce_to(a,r.get("Array"),"to_ary").$to_a():a.$to_a();return this.concat(a)});a.defn(t,"$-",function(b){var f;b=(f=r.get("Array")["$==="](b))===m||f.$$is_boolean&&1!=f?r.get("Opal").$coerce_to(b,r.get("Array"),"to_ary").$to_a():b.$to_a();if((f=
0===this.length)!==m&&(!f.$$is_boolean||1==f))return[];if((f=0===b.length)!==m&&(!f.$$is_boolean||1==f))return this.$clone();f=[];var h=d([],{}),g,l;g=0;for(l=b.length;g<l;g++)a.hash_put(h,b[g],!0);g=0;for(l=this.length;g<l;g++)b=this[g],void 0===a.hash_get(h,b)&&f.push(b);return f});a.defn(t,"$<<",function(a){this.push(a);return this});a.defn(t,"$<=>",function(a){var b;if((b=r.get("Array")["$==="](a))===m||b.$$is_boolean&&1!=b){if((b=a["$respond_to?"]("to_ary"))===m||b.$$is_boolean&&1!=b)return m;
a=a.$to_ary().$to_a()}else a=a.$to_a();if(this.$hash()===a.$hash())return 0;b=Math.min(this.length,a.length);for(var f=0;f<b;f++){var h=this[f]["$<=>"](a[f]);if(0!==h)return h}return this.length["$<=>"](a.length)});a.defn(t,"$==",function(a){function b(a,h){var g,d,l,v;if(a===h)return!0;if(!h.$$is_array)return r.get("Opal")["$respond_to?"](h,"to_ary")?h["$=="](a):!1;a.constructor!==Array&&(a=a.literal);h.constructor!==Array&&(h=h.literal);if(a.length!==h.length)return!1;f[a.$object_id()]=!0;g=0;for(d=
a.length;g<d;g++)if(l=a[g],v=h[g],l.$$is_array){if(v.$$is_array&&v.length!==l.length||!f.hasOwnProperty(l.$object_id())&&!b(l,v))return!1}else if(!l["$=="](v))return!1;return!0}var f={};return b(this,a)});a.defn(t,"$[]",function(a,b){var f=this.length,h,g,d;if(a.$$is_range){h=a.exclude;g=r.get("Opal").$coerce_to(a.begin,r.get("Integer"),"to_int");d=r.get("Opal").$coerce_to(a.end,r.get("Integer"),"to_int");if(0>g&&(g+=f,0>g)||g>f)return m;if(0>d&&(d+=f,0>d))return[];h||(d+=1);return this.slice(g,d)}a=
r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");if(0>a&&(a+=f,0>a))return m;if(void 0===b)return a>=f||0>a?m:this[a];b=r.get("Opal").$coerce_to(b,r.get("Integer"),"to_int");return 0>b||a>f||0>a?m:this.slice(a,a+b)});a.defn(t,"$[]=",function(a,b,f){var h,g=m,d=m,l;l=this.length;if((h=r.get("Range")["$==="](a))===m||h.$$is_boolean&&1!=h){(h=void 0===f)===m||h.$$is_boolean&&1!=h?(d=b,b=f,g=(h=r.get("Array")["$==="](b))===m||h.$$is_boolean&&1!=h?(h=b["$respond_to?"]("to_ary"))===m||h.$$is_boolean&&
1!=h?[b]:b.$to_ary().$to_a():b.$to_a()):d=1;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");d=r.get("Opal").$coerce_to(d,r.get("Integer"),"to_int");0>a&&(h=a,a+=l,0>a&&this.$raise(r.get("IndexError"),"index "+h+" too small for array; minimum "+-this.length));0>d&&this.$raise(r.get("IndexError"),"negative length ("+d+")");if(a>l)for(;l<a;l++)this[l]=m;void 0===f?this[a]=b:this.splice.apply(this,[a,d].concat(g))}else{g=(h=r.get("Array")["$==="](b))===m||h.$$is_boolean&&1!=h?(h=b["$respond_to?"]("to_ary"))===
m||h.$$is_boolean&&1!=h?[b]:b.$to_ary().$to_a():b.$to_a();h=a.exclude;f=r.get("Opal").$coerce_to(a.begin,r.get("Integer"),"to_int");d=r.get("Opal").$coerce_to(a.end,r.get("Integer"),"to_int");0>f&&(f+=l,0>f&&this.$raise(r.get("RangeError"),""+a.$inspect()+" out of range"));0>d&&(d+=l);h||(d+=1);if(f>l)for(;l<f;l++)this[l]=m;0>d?this.splice.apply(this,[f,0].concat(g)):this.splice.apply(this,[f,d-f].concat(g))}return b});a.defn(t,"$assoc",function(a){for(var b=0,f=this.length,h;b<f;b++)if(h=this[b],
h.length&&h[0]["$=="](a))return h;return m});a.defn(t,"$at",function(a){a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?m:this[a]});a.defn(t,"$bsearch",u=function(){var a=u.$$p||m;u.$$p=null;if(a===m)return this.$enum_for("bsearch");for(var b=0,f=this.length,h,g,d,l=!1,v=m;b<f;){h=b+Math.floor((f-b)/2);g=this[h];d=a(g);if(d===e)return e.$v;if(!0===d)v=g,l=!0;else if(!1===d||d===m)l=!1;else if(d.$$is_number){if(0===d)return g;l=0>d}else this.$raise(r.get("TypeError"),
"wrong argument type "+d.$class()+" (must be numeric, true, false or nil)");l?f=h:b=h+1}return v});a.defn(t,"$cycle",A=function(b){var f,h,g,d=A.$$p||m;null==b&&(b=m);A.$$p=null;if(d===m)return(f=this.$enum_for,f.$$p=(h=function(){var a=h.$$s||this,f;if(b["$=="](m))return r.get("Float").$$scope.get("INFINITY");b=r.get("Opal")["$coerce_to!"](b,r.get("Integer"),"to_int");if((f=q(b,0))===m||f.$$is_boolean&&1!=f)return 0;a=a.$enumerator_size();return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)},
h.$$s=this,h),f).call(this,"cycle",b);if((f=!1!==(g=this["$empty?"]())&&g!==m?g:b["$=="](0))!==m&&(!f.$$is_boolean||1==f))return m;var l;if(b===m)for(;;)for(f=0,g=this.length;f<g;f++){if(l=a.yield1(d,this[f]),l===e)return e.$v}else{b=r.get("Opal")["$coerce_to!"](b,r.get("Integer"),"to_int");if(0>=b)return this;for(;0<b;){f=0;for(g=this.length;f<g;f++)if(l=a.yield1(d,this[f]),l===e)return e.$v;b--}}return this});a.defn(t,"$clear",function(){this.splice(0,this.length);return this});a.defn(t,"$clone",
function(){var a=m,a=[];a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(t,"$dup",function(){var a=m,a=[];a.$initialize_dup(this);return a});a.defn(t,"$initialize_copy",function(a){return this.$replace(a)});a.defn(t,"$collect",C=function(){var b,f,h=C.$$p||m;C.$$p=null;if(h===m)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"collect");b=[];for(var g=0,d=this.length;g<d;g++){var l=a.yield1(h,this[g]);if(l===e)return e.$v;
b.push(l)}return b});a.defn(t,"$collect!",h=function(){var b,f,g=h.$$p||m;h.$$p=null;if(g===m)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"collect!");b=0;for(var d=this.length;b<d;b++){var l=a.yield1(g,this[b]);if(l===e)return e.$v;this[b]=l}return this});a.defn(t,"$combination",f=function(b){var h,g,d=f.$$p||m,l=m;f.$$p=null;l=r.get("Opal")["$coerce_to!"](b,r.get("Integer"),"to_int");if(d===m)return(h=this.$enum_for,h.$$p=(g=function(){return x((g.$$s||
this).length,l)},g.$$s=this,g),h).call(this,"combination",l);var v,c,u;if(0===l)(h=a.yield1(d,[]))===e?e.$v:h;else if(1===l)for(v=0,b=this.length;v<b;v++)(h=a.yield1(d,[this[v]]))===e?e.$v:h;else if(l===this.length)(h=a.yield1(d,this.slice()))===e?e.$v:h;else if(0<=l&&l<this.length){b=[];for(v=0;v<=l+1;v++)b.push(0);v=[];c=0;u=!1;for(b[0]=-1;!u;){for(v[c]=this[b[c+1]];c<l-1;)c++,u=b[c+1]=b[c]+1,v[c]=this[u];(h=a.yield1(d,v.slice()))===e?e.$v:h;c++;do u=0===c,b[c]++,c--;while(b[c+1]+l===this.length+
c+1)}}return this});a.defn(t,"$compact",function(){for(var a=[],b=0,f=this.length,h;b<f;b++)(h=this[b])!==m&&a.push(h);return a});a.defn(t,"$compact!",function(){for(var a=this.length,b=0,f=this.length;b<f;b++)this[b]===m&&(this.splice(b,1),f--,b--);return this.length===a?m:this});a.defn(t,"$concat",function(a){var b;a=(b=r.get("Array")["$==="](a))===m||b.$$is_boolean&&1!=b?r.get("Opal").$coerce_to(a,r.get("Array"),"to_ary").$to_a():a.$to_a();b=0;for(var f=a.length;b<f;b++)this.push(a[b]);return this});
a.defn(t,"$delete",w=function(b){var f,h=w.$$p||m;w.$$p=null;for(var g=this.length,d=0,l=g;d<l;d++)this[d]["$=="](b)&&(this.splice(d,1),l--,d--);return this.length===g?h!==m?(f=a.yieldX(h,[]))===e?e.$v:f:m:b});a.defn(t,"$delete_at",function(a){a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return m;var b=this[a];this.splice(a,1);return b});a.defn(t,"$delete_if",z=function(){var a,b,f=z.$$p||m;z.$$p=null;if(f===m)return(a=this.$enum_for,a.$$p=(b=
function(){return(b.$$s||this).$size()},b.$$s=this,b),a).call(this,"delete_if");a=0;for(var h=this.length,g;a<h;a++){if((g=f(this[a]))===e)return e.$v;!1!==g&&g!==m&&(this.splice(a,1),h--,a--)}return this});a.defn(t,"$drop",function(a){0>a&&this.$raise(r.get("ArgumentError"));return this.slice(a)});a.defn(t,"$each",D=function(){var b,f,h=D.$$p||m;D.$$p=null;if(h===m)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"each");b=0;for(var g=this.length;b<
g;b++)if(a.yield1(h,this[b])==e)return e.$v;return this});a.defn(t,"$each_index",N=function(){var b,f,h=N.$$p||m;N.$$p=null;if(h===m)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"each_index");b=0;for(var g=this.length;b<g;b++)if(a.yield1(h,b)===e)return e.$v;return this});a.defn(t,"$empty?",function(){return 0===this.length});a.defn(t,"$eql?",function(a){function b(a,h){var g,d,l,v;if(!h.$$is_array)return!1;h=h.$to_a();if(a.length!==h.length)return!1;
f[a.$object_id()]=!0;g=0;for(d=a.length;g<d;g++)if(l=a[g],v=h[g],l.$$is_array){if(v.$$is_array&&v.length!==l.length||!f.hasOwnProperty(l.$object_id())&&!b(l,v))return!1}else if(!l["$eql?"](v))return!1;return!0}var f={};return b(this,a)});a.defn(t,"$fetch",v=function(a,b){var f=v.$$p||m;v.$$p=null;var h=a;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(f!==m)return f(h);if(null!=b)return b;0===this.length?this.$raise(r.get("IndexError"),
"index "+h+" outside of array bounds: 0...0"):this.$raise(r.get("IndexError"),"index "+h+" outside of array bounds: -"+this.length+"..."+this.length)});a.defn(t,"$fill",L=function(){var b,f,h=L.$$p||m,g=m,d=m,l=m;f=d=f=m;g=arguments.length-0;0>g&&(g=0);d=Array(g);for(f=0;f<g;f++)d[f]=arguments[f+0];L.$$p=null;!1!==h&&h!==m?((b=2<d.length)===m||b.$$is_boolean&&1!=b||this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+d.$length()+" for 0..2)"),f=d,b=a.to_ary(f),g=null==b[0]?m:b[0],d=null==
b[1]?m:b[1]):((b=0==d.length)===m||b.$$is_boolean&&1!=b?(b=3<d.length)===m||b.$$is_boolean&&1!=b||this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+d.$length()+" for 1..3)"):this.$raise(r.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=d,b=a.to_ary(f),l=null==b[0]?m:b[0],g=null==b[1]?m:b[1],d=null==b[2]?m:b[2]);f;if((b=r.get("Range")["$==="](g))===m||b.$$is_boolean&&1!=b)if(!1!==g&&g!==m)if(f=r.get("Opal").$coerce_to(g,r.get("Integer"),"to_int"),(b=0>f)===m||b.$$is_boolean&&
1!=b||(f+=this.length),(b=0>f)===m||b.$$is_boolean&&1!=b||(f=0),!1!==d&&d!==m){d=r.get("Opal").$coerce_to(d,r.get("Integer"),"to_int");if((b=0==d)!==m&&(!b.$$is_boolean||1==b))return this;d+=f}else d=this.length;else f=0,d=this.length;else{!1!==d&&d!==m&&this.$raise(r.get("TypeError"),"length invalid with range");f=r.get("Opal").$coerce_to(g.$begin(),r.get("Integer"),"to_int");(b=0>f)===m||b.$$is_boolean&&1!=b||(f+=this.length);(b=0>f)===m||b.$$is_boolean&&1!=b||this.$raise(r.get("RangeError"),""+
g.$inspect()+" out of range");d=r.get("Opal").$coerce_to(g.$end(),r.get("Integer"),"to_int");(b=0>d)===m||b.$$is_boolean&&1!=b||(d+=this.length);if((b=g["$exclude_end?"]())===m||b.$$is_boolean&&1!=b)d+=1;if((b=d<=f)!==m&&(!b.$$is_boolean||1==b))return this}if((b=f>this.length)!==m&&(!b.$$is_boolean||1==b))for(g=this.length;g<d;g++)this[g]=m;(b=d>this.length)===m||b.$$is_boolean&&1!=b||(this.length=d);if(!1!==h&&h!==m)for(;f<d;f++){b=h(f);if(b===e)return e.$v;this[f]=b}else for(;f<d;f++)this[f]=l;
return this});a.defn(t,"$first",function(a){if(null==a)return 0===this.length?m:this[0];a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&this.$raise(r.get("ArgumentError"),"negative array size");return this.slice(0,a)});a.defn(t,"$flatten",function(a){function b(a,h){var g=[],d,l,v,c;a=a.$to_a();d=0;for(l=a.length;d<l;d++)if(v=a[d],r.get("Opal")["$respond_to?"](v,"to_ary"))if(c=v.$to_ary(),c===m)g.push(v);else switch(c.$$is_array||f.$raise(r.get("TypeError")),c===f&&f.$raise(r.get("ArgumentError")),
h){case void 0:g.push.apply(g,b(c));break;case 0:g.push(c);break;default:g.push.apply(g,b(c,h-1))}else g.push(v);return g}var f=this;void 0!==a&&(a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int"));return b(f,a)});a.defn(t,"$flatten!",function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,f=this.length;b<f&&this[b]===a[b];b++);if(b==f)return m}this.$replace(a);return this});a.defn(t,"$hash",function(){var b=void 0==a.hash_ids,f=["A"],h=this.$object_id(),g,d,l;try{b&&(a.hash_ids=
{});if(a.hash_ids.hasOwnProperty(h))return"self";for(l in a.hash_ids)if(a.hash_ids.hasOwnProperty(l)&&(g=a.hash_ids[l],this["$eql?"](g)))return"self";a.hash_ids[h]=this;for(d=0;d<this.length;d++)g=this[d],f.push(g.$hash());return f.join(",")}finally{b&&delete a.hash_ids}});a.defn(t,"$include?",function(a){for(var b=0,f=this.length;b<f;b++)if(this[b]["$=="](a))return!0;return!1});a.defn(t,"$index",J=function(a){var b=J.$$p||m;J.$$p=null;var f,h;if(null!=a)for(f=0,h=this.length;f<h;f++){if(this[f]["$=="](a))return f}else if(b!==
m)for(f=0,h=this.length;f<h;f++){if((a=b(this[f]))===e)return e.$v;if(!1!==a&&a!==m)return f}else return this.$enum_for("index");return m});a.defn(t,"$insert",function(a){var b=m,f=arguments.length-1;0>f&&(f=0);for(var h=Array(f),b=0;b<f;b++)h[b]=arguments[b+1];a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");if(0<h.length){0>a&&(a+=this.length+1,0>a&&this.$raise(r.get("IndexError"),""+a+" is out of bounds"));if(a>this.length)for(b=this.length;b<a;b++)this.push(m);this.splice.apply(this,[a,
0].concat(h))}return this});a.defn(t,"$inspect",function(){for(var a=[],b=this.$__id__(),f=0,h=this.length;f<h;f++){var g=this["$[]"](f);g.$__id__()===b?a.push("[...]"):a.push(g.$inspect())}return"["+a.join(", ")+"]"});a.defn(t,"$join",function(a){var b;null==c[","]&&(c[","]=m);null==a&&(a=m);if((b=0===this.length)!==m&&(!b.$$is_boolean||1==b))return"";(b=a===m)===m||b.$$is_boolean&&1!=b||(a=c[","]);b=[];var f,h,g,d;f=0;for(h=this.length;f<h;f++){g=this[f];if(r.get("Opal")["$respond_to?"](g,"to_str")&&
(d=g.$to_str(),d!==m)){b.push(d.$to_s());continue}if(r.get("Opal")["$respond_to?"](g,"to_ary")&&(d=g.$to_ary(),d===this&&this.$raise(r.get("ArgumentError")),d!==m)){b.push(d.$join(a));continue}if(r.get("Opal")["$respond_to?"](g,"to_s")&&(d=g.$to_s(),d!==m)){b.push(d);continue}this.$raise(r.get("NoMethodError").$new(""+r.get("Opal").$inspect(g)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===m?b.join(""):b.join(r.get("Opal")["$coerce_to!"](a,r.get("String"),"to_str").$to_s())});
a.defn(t,"$keep_if",O=function(){var a,b,f=O.$$p||m;O.$$p=null;if(f===m)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),a).call(this,"keep_if");a=0;for(var h=this.length,g;a<h;a++){if((g=f(this[a]))===e)return e.$v;if(!1===g||g===m)this.splice(a,1),h--,a--}return this});a.defn(t,"$last",function(a){if(null==a)return 0===this.length?m:this[this.length-1];a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&this.$raise(r.get("ArgumentError"),"negative array size");
a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)});a.defn(t,"$length",function(){return this.length});a.alias(t,"map","collect");a.alias(t,"map!","collect!");a.defn(t,"$permutation",R=function(b){var f,h,g,d=this,l=R.$$p||m,v=m,c=m;R.$$p=null;if(l===m)return(f=(h=d).$enum_for,f.$$p=(g=function(){return(g.$$s||this).$size()},g.$$s=d,g),f).call(h,"permutation",b);var u,w;b=void 0===b?d.length:r.get("Opal").$coerce_to(b,r.get("Integer"),"to_int");if(!(0>b||d.length<b))if(0===
b)(f=a.yield1(l,[]))===e?e.$v:f;else if(1===b)for(b=0;b<d.length;b++)(f=a.yield1(l,[d[b]]))===e?e.$v:f;else v=r.get("Array").$new(b),c=r.get("Array").$new(d.length,!1),u=function(b,f,h,g,l){d=this;for(var v=0;v<d.length;v++)if(g["$[]"](v)["$!"]())if(f[h]=v,h<b-1)g[v]=!0,u.call(d,b,f,h+1,g,l),g[v]=!1;else{w=[];for(var c=0;c<f.length;c++)w.push(d[f[c]]);a.yield1(l,w)}},l!==m?(f=d.slice(),u.call(f,b,v,0,c,l)):u.call(d,b,v,0,c,l);return d});a.defn(t,"$pop",function(a){var b;if((b=void 0===a)!==m&&(!b.$$is_boolean||
1==b))return(b=0===this.length)===m||b.$$is_boolean&&1!=b?this.pop():m;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");(b=0>a)===m||b.$$is_boolean&&1!=b||this.$raise(r.get("ArgumentError"),"negative array size");return(b=0===this.length)===m||b.$$is_boolean&&1!=b?(b=a>this.length)===m||b.$$is_boolean&&1!=b?this.splice(this.length-a,this.length):this.splice(0,this.length):[]});a.defn(t,"$product",E=function(){var b,f=E.$$p||m,h=m,g=arguments.length-0;0>g&&(g=0);for(var d=Array(g),h=0;h<g;h++)d[h]=
arguments[h+0];E.$$p=null;var h=f!==m?null:[],g=d.length+1,l=Array(g),v=Array(g),c=Array(g),u,w=1;c[0]=this;for(u=1;u<g;u++)c[u]=r.get("Opal").$coerce_to(d[u-1],r.get("Array"),"to_ary");for(u=0;u<g;u++){d=c[u].length;if(0===d)return h||this;w*=d;2147483647<w&&this.$raise(r.get("RangeError"),"too big to product");v[u]=d;l[u]=0}a:for(;;){d=[];for(u=0;u<g;u++)d.push(c[u][l[u]]);h?h.push(d):(b=a.yield1(f,d))===e?e.$v:b;d=g-1;for(l[d]++;l[d]===v[d];){l[d]=0;if(0>--d)break a;l[d]++}}return h||this});a.defn(t,
"$push",function(){var a=m,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];a=0;for(b=f.length;a<b;a++)this.push(f[a]);return this});a.defn(t,"$rassoc",function(a){for(var b=0,f=this.length,h;b<f;b++)if(h=this[b],h.length&&void 0!==h[1]&&h[1]["$=="](a))return h;return m});a.defn(t,"$reject",ca=function(){var a,b,f=ca.$$p||m;ca.$$p=null;if(f===m)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),a).call(this,"reject");a=[];for(var h=
0,g=this.length,d;h<g;h++){if((d=f(this[h]))===e)return e.$v;!1!==d&&d!==m||a.push(this[h])}return a});a.defn(t,"$reject!",H=function(){var a,b,f=H.$$p||m,h=m;H.$$p=null;if(f===m)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),a).call(this,"reject!");h=this.$length();(a=this.$delete_if,a.$$p=f.$to_proc(),a).call(this);return this.$length()["$=="](h)?m:this});a.defn(t,"$replace",function(a){var b;a=(b=r.get("Array")["$==="](a))===m||b.$$is_boolean&&1!=b?r.get("Opal").$coerce_to(a,
r.get("Array"),"to_ary").$to_a():a.$to_a();this.splice(0,this.length);this.push.apply(this,a);return this});a.defn(t,"$reverse",function(){return this.slice(0).reverse()});a.defn(t,"$reverse!",function(){return this.reverse()});a.defn(t,"$reverse_each",aa=function(){var a,b,f,h=aa.$$p||m;aa.$$p=null;if(h===m)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),a).call(this,"reverse_each");(a=(f=this.$reverse()).$each,a.$$p=h.$to_proc(),a).call(f);return this});a.defn(t,
"$rindex",I=function(a){var b=I.$$p||m;I.$$p=null;var f;if(null!=a)for(f=this.length-1;0<=f&&!(f>=this.length);f--){if(this[f]["$=="](a))return f}else if(b!==m)for(f=this.length-1;0<=f&&!(f>=this.length);f--){if((a=b(this[f]))===e)return e.$v;if(!1!==a&&a!==m)return f}else if(null==a)return this.$enum_for("rindex");return m});a.defn(t,"$rotate",function(a){null==a&&(a=1);a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");var b,f;if(1===this.length)return this.slice();if(0===this.length)return[];
b=this.slice();f=a%b.length;a=b.slice(f);b=b.slice(0,f);return a.concat(b)});a.defn(t,"$rotate!",function(a){var b=m;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");b=this.$rotate(a);return this.$replace(b)});(function(b,$super){function f(){}var h=f=k(b,$super,"SampleRandom",f),g=h.$$scope;h.$$proto.rng=m;a.defn(h,"$initialize",function(a){return this.rng=a});return(a.defn(h,"$rand",function(a){var b,f=m,f=g.get("Opal").$coerce_to(this.rng.$rand(a),
g.get("Integer"),"to_int");(b=0>f)===m||b.$$is_boolean&&1!=b||this.$raise(g.get("RangeError"),"random value must be >= 0");((b=f<a)===m||b.$$is_boolean&&1!=b)&&this.$raise(g.get("RangeError"),"random value must be less than Array size");return f}),m)&&"rand"})(r.base,null);a.defn(t,"$sample",function(a,b){var f,h=m,g=m;if((f=void 0===a)!==m&&(!f.$$is_boolean||1==f))return this.$at(r.get("Kernel").$rand(this.length));(f=void 0===b)===m||f.$$is_boolean&&1!=f?(a=r.get("Opal").$coerce_to(a,r.get("Integer"),
"to_int"),b=r.get("Opal").$coerce_to(b,r.get("Hash"),"to_hash")):(f=h=r.get("Opal")["$coerce_to?"](a,r.get("Hash"),"to_hash"))===m||f.$$is_boolean&&1!=f?(b=m,a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int")):(b=h,a=m);(f=!1!==a&&a!==m?0>a:a)===m||f.$$is_boolean&&1!=f||this.$raise(r.get("ArgumentError"),"count must be greater than 0");!1!==b&&b!==m&&(g=b["$[]"]("random"));g=(f=!1!==g&&g!==m?g["$respond_to?"]("rand"):g)===m||f.$$is_boolean&&1!=f?r.get("Kernel"):r.get("SampleRandom").$new(g);
if(!1===a||a===m)return this[g.$rand(this.length)];var d,l,v,c;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[g.$rand(this.length)]];case 2:return l=g.$rand(this.length),v=g.$rand(this.length),l===v&&(v=0===l?l+1:l-1),[this[l],this[v]];default:if(3<this.length/a){h=!1;d=0;f=r.get("Array").$new(a);l=1;for(f[0]=g.$rand(this.length);l<a;){c=g.$rand(this.length);for(v=0;v<l;){for(;c===f[v];){d++;if(100<d){h=!0;break}c=g.$rand(this.length)}if(h)break;v++}if(h)break;f[l]=c;
l++}if(!h){for(l=0;l<a;)f[l]=this[f[l]],l++;return f}}f=this.slice();for(l=0;l<a;l++)h=g.$rand(this.length),d=f[l],f[l]=f[h],f[h]=d;return a===this.length?f:f["$[]"](0,a)}});a.defn(t,"$select",S=function(){var b,f,h=S.$$p||m;S.$$p=null;if(h===m)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"select");b=[];for(var g=0,d=this.length,l,v;g<d;g++){l=this[g];if((v=a.yield1(h,l))===e)return e.$v;!1!==v&&v!==m&&b.push(l)}return b});a.defn(t,"$select!",
T=function(){var a,b,f=T.$$p||m;T.$$p=null;if(f===m)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),a).call(this,"select!");var h=this.length;(a=this.$keep_if,a.$$p=f.$to_proc(),a).call(this);return this.length===h?m:this});a.defn(t,"$shift",function(a){var b;if((b=void 0===a)!==m&&(!b.$$is_boolean||1==b))return(b=0===this.length)===m||b.$$is_boolean&&1!=b?this.shift():m;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");(b=0>a)===m||b.$$is_boolean&&1!=
b||this.$raise(r.get("ArgumentError"),"negative array size");return(b=0===this.length)===m||b.$$is_boolean&&1!=b?this.splice(0,a):[]});a.alias(t,"size","length");a.defn(t,"$shuffle",function(a){return this.$dup()["$shuffle!"](a)});a.defn(t,"$shuffle!",function(a){var b,f=this.length,h;void 0!==a&&(a=r.get("Opal")["$coerce_to?"](a,r.get("Hash"),"to_hash"),a!==m&&(a=a["$[]"]("random"),a!==m&&a["$respond_to?"]("rand")&&(b=a)));for(;f;)b?(a=b.$rand(f).$to_int(),0>a&&this.$raise(r.get("RangeError"),"random number too small "+
a),a>=f&&this.$raise(r.get("RangeError"),"random number too big "+a)):a=Math.floor(Math.random()*f),h=this[--f],this[f]=this[a],this[a]=h;return this});a.alias(t,"slice","[]");a.defn(t,"$slice!",function(a,b){0>a&&(a+=this.length);return null!=b?this.splice(a,b):0>a||a>=this.length?m:this.splice(a,1)[0]});a.defn(t,"$sort",ba=function(){var a,b=this,f=ba.$$p||m;ba.$$p=null;if((a=1<b.length)===m||a.$$is_boolean&&1!=a)return b;f===m&&(f=function(a,b){return a["$<=>"](b)});try{return b.slice().sort(function(a,
h){var g=f(a,h);if(g===e)throw e;g===m&&b.$raise(r.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+h.$inspect()+" failed");return q(g,0)?1:("number"===typeof g?0>g:g["$<"](0))?-1:0})}catch(h){if(h===e)return e.$v;throw h;}});a.defn(t,"$sort!",K=function(){var a,b,f=K.$$p||m;K.$$p=null;f=f!==m?(a=(b=this.slice()).$sort,a.$$p=f.$to_proc(),a).call(b):this.slice().$sort();a=this.length=0;for(b=f.length;a<b;a++)this.push(f[a]);return this});a.defn(t,"$take",function(a){0>a&&this.$raise(r.get("ArgumentError"));
return this.slice(0,a)});a.defn(t,"$take_while",M=function(){var a=M.$$p||m;M.$$p=null;for(var b=[],f=0,h=this.length,g,d;f<h;f++){g=this[f];if((d=a(g))===e)return e.$v;if(!1===d||d===m)break;b.push(g)}return b});a.defn(t,"$to_a",function(){return this});a.alias(t,"to_ary","to_a");a.defn(t,"$to_h",function(){var b,f=this.length,h,g,l=d([],{});for(b=0;b<f;b++)h=r.get("Opal")["$coerce_to?"](this[b],r.get("Array"),"to_ary"),h.$$is_array||this.$raise(r.get("TypeError"),"wrong element type "+h.$class()+
" at "+b+" (expected array)"),2!==h.length&&this.$raise(r.get("ArgumentError"),"wrong array length at "+b+" (expected 2, was "+h.$length()+")"),g=h[0],h=h[1],a.hash_put(l,g,h);return l});a.alias(t,"to_s","inspect");a.defn(t,"$transpose",function(){var a,b,f=m,h=m;if((a=this["$empty?"]())!==m&&(!a.$$is_boolean||1==a))return[];f=[];h=m;(a=this.$each,a.$$p=(b=function(a){var g=b.$$s||this,d,l,v;null==a&&(a=m);a=(d=r.get("Array")["$==="](a))===m||d.$$is_boolean&&1!=d?r.get("Opal").$coerce_to(a,r.get("Array"),
"to_ary").$to_a():a.$to_a();!1!==(d=h)&&d!==m?d:h=a.length;(d=a.length["$!="](h))===m||d.$$is_boolean&&1!=d||g.$raise(r.get("IndexError"),"element size differs ("+a.length+" should be "+h);return(d=(l=a.length).$times,d.$$p=(v=function(b){var h,g,d,l=m;null==b&&(b=m);l=(h=b,g=f,!1!==(d=g["$[]"](h))&&d!==m?d:g["$[]="](h,[]));return l["$<<"](a.$at(b))},v.$$s=g,v),d).call(l)},b.$$s=this,b),a).call(this);return f});a.defn(t,"$uniq",P=function(){var b=P.$$p||m;P.$$p=null;var f=d([],{}),h,g,l,v;if(b===
m)for(h=0,g=this.length;h<g;h++)l=this[h],void 0===a.hash_get(f,l)&&a.hash_put(f,l,l);else for(h=0,g=this.length;h<g;h++)l=this[h],v=a.yield1(b,l),void 0===a.hash_get(f,v)&&a.hash_put(f,v,l);return f.$values()});a.defn(t,"$uniq!",X=function(){var b=X.$$p||m;X.$$p=null;var f=this.length,h=d([],{}),g,l,v,c;g=0;for(l=f;g<l;g++)v=this[g],c=b===m?v:a.yield1(b,v),void 0===a.hash_get(h,c)?a.hash_put(h,c,v):(this.splice(g,1),l--,g--);return this.length===f?m:this});a.defn(t,"$unshift",function(){var a=m,
b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];for(a=f.length-1;0<=a;a--)this.unshift(f[a]);return this});a.defn(t,"$values_at",function(){var a,b,f=m,h=m,g=arguments.length-0;0>g&&(g=0);for(var d=Array(g),h=0;h<g;h++)d[h]=arguments[h+0];f=[];(a=d.$each,a.$$p=(b=function(a){var h=b.$$s||this,g,d,l,v=m,c=m,v=m;null==a&&(a=m);if((g=a["$kind_of?"](r.get("Range")))===m||g.$$is_boolean&&1!=g)return v=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int"),f["$<<"](h.$at(v));
v=r.get("Opal").$coerce_to(a.$last(),r.get("Integer"),"to_int");c=r.get("Opal").$coerce_to(a.$first(),r.get("Integer"),"to_int");if(0>c)return c+=h.length,m;0>v&&(v+=h.length);a["$exclude_end?"]()&&v--;return v<c?m:(g=(d=c).$upto,g.$$p=(l=function(a){var b=l.$$s||this;null==a&&(a=m);return f["$<<"](b.$at(a))},l.$$s=h,l),g).call(d,v)},b.$$s=this,b),a).call(d);return f});return(a.defn(t,"$zip",Y=function(){var a,b=Y.$$p||m,f=m,h=arguments.length-0;0>h&&(h=0);for(var g=Array(h),f=0;f<h;f++)g[f]=arguments[f+
0];Y.$$p=null;var f=[],h=this.length,d,l,v,c;v=0;for(c=g.length;v<c;v++)d=g[v],d.$$is_array||(d.$$is_enumerator?Infinity===d.$size()?g[v]=d.$take(h):g[v]=d.$to_a():g[v]=(!1!==(a=r.get("Opal")["$coerce_to?"](d,r.get("Array"),"to_ary"))&&a!==m?a:r.get("Opal")["$coerce_to!"](d,r.get("Enumerator"),"each")).$to_a());for(l=0;l<h;l++){a=[this[l]];v=0;for(c=g.length;v<c;v++)d=g[v][l],null==d&&(d=m),a[v+1]=d;f[l]=a}if(b!==m){for(l=0;l<h;l++)b(f[l]);return m}return f}),m)&&"zip"}(a.base,Array)};
Opal.modules["corelib/hash"]=function(a){a.dynamic_require_severity="warning";var q=a.top,p=a.nil,m=a.breaker,e=a.klass;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $== $coerce_to! $lambda? $abs $arity $call $enum_for $size $inspect $flatten $eql? $default $to_proc $dup $=== $default_proc $default_proc= $default= $alias_method".split(" "));q.$require("corelib/enumerable");return function(k,$super){function c(){}var b=c=e(k,$super,"Hash",c),q=b.$$proto,y=b.$$scope,x,t,n,
r,l,g,u,A,C,h,f,w,z,D;q.proc=q.none=p;b.$include(y.get("Enumerable"));q.$$is_hash=!0;a.defs(b,"$[]",function(){var a=p,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];var b=f.length,h;if(1===b){a=y.get("Opal")["$coerce_to?"](f["$[]"](0),y.get("Hash"),"to_hash");if(a!==p)return this.$allocate()["$merge!"](a);f=y.get("Opal")["$coerce_to?"](f["$[]"](0),y.get("Array"),"to_ary");f===p&&this.$raise(y.get("ArgumentError"),"odd number of arguments for Hash");b=f.length;
a=this.$allocate();for(h=0;h<b;h++)if(f[h].$$is_array)switch(f[h].length){case 1:a.$store(f[h][0],p);break;case 2:a.$store(f[h][0],f[h][1]);break;default:this.$raise(y.get("ArgumentError"),"invalid number of elements ("+f[h].length+" for 1..2)")}return a}0!==b%2&&this.$raise(y.get("ArgumentError"),"odd number of arguments for Hash");a=this.$allocate();for(h=0;h<b;h+=2)a.$store(f[h],f[h+1]);return a});a.defs(b,"$allocate",function(){var b=new this.$$alloc;a.hash_init(b);b.none=p;b.proc=p;return b});
a.defs(b,"$try_convert",function(a){return y.get("Opal")["$coerce_to?"](a,y.get("Hash"),"to_hash")});a.defn(b,"$initialize",x=function(a){var b=x.$$p||p;x.$$p=null;void 0!==a&&b!==p&&this.$raise(y.get("ArgumentError"),"wrong number of arguments (1 for 0)");this.none=void 0===a?p:a;this.proc=b;return this});a.defn(b,"$==",function(b){if(this===b)return!0;if(!b.$$is_hash||this.$$keys.length!==b.$$keys.length)return!1;for(var f=0,h=this.$$keys,g=h.length,l,c;f<g;f++)if(l=h[f],l.$$is_string?(c=this.$$smap[l],
l=b.$$smap[l]):(c=l.value,l=a.hash_get(b,l.key)),void 0===l||!c["$eql?"](l))return!1;return!0});a.defn(b,"$[]",function(b){var f=a.hash_get(this,b);return void 0!==f?f:this.$default(b)});a.defn(b,"$[]=",function(b,f){a.hash_put(this,b,f);return f});a.defn(b,"$assoc",function(a){for(var b=0,f=this.$$keys,h=f.length,g;b<h;b++)if(g=f[b],g.$$is_string){if(g["$=="](a))return[g,this.$$smap[g]]}else if(g.key["$=="](a))return[g.key,g.value];return p});a.defn(b,"$clear",function(){a.hash_init(this);return this});
a.defn(b,"$clone",function(){var b=new this.$$class.$$alloc;a.hash_init(b);a.hash_clone(this,b);return b});a.defn(b,"$default",function(a){return void 0!==a&&this.proc!==p?this.proc.$call(this,a):this.none});a.defn(b,"$default=",function(a){this.proc=p;return this.none=a});a.defn(b,"$default_proc",function(){return this.proc});a.defn(b,"$default_proc=",function(a){a!==p&&(a=y.get("Opal")["$coerce_to!"](a,y.get("Proc"),"to_proc"),a["$lambda?"]()&&2!==a.$arity().$abs()&&this.$raise(y.get("TypeError"),
"default_proc takes two arguments"));this.none=p;return this.proc=a});a.defn(b,"$delete",t=function(b){var f=t.$$p||p;t.$$p=null;var h=a.hash_delete(this,b);return void 0!==h?h:f!==p?f.$call(b):p});a.defn(b,"$delete_if",n=function(){var b,f,h=n.$$p||p;n.$$p=null;if(!1===h||h===p)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"delete_if");b=0;for(var g=this.$$keys,l=g.length,c,u;b<l;b++){c=g[b];c.$$is_string?u=this.$$smap[c]:(u=c.value,c=c.key);
u=h(c,u);if(u===m)return m.$v;!1!==u&&u!==p&&void 0!==a.hash_delete(this,c)&&(l--,b--)}return this});a.alias(b,"dup","clone");a.defn(b,"$each",r=function(){var b,f,h=r.$$p||p;r.$$p=null;if(!1===h||h===p)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"each");b=0;for(var g=this.$$keys,l=g.length,c,u;b<l;b++)if(c=g[b],c.$$is_string?u=this.$$smap[c]:(u=c.value,c=c.key),c=a.yield1(h,[c,u]),c===m)return m.$v;return this});a.defn(b,"$each_key",l=function(){var a,
b,f=l.$$p||p;l.$$p=null;if(!1===f||f===p)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),a).call(this,"each_key");a=0;for(var h=this.$$keys,g=h.length,c;a<g;a++)if(c=h[a],f(c.$$is_string?c:c.key)===m)return m.$v;return this});a.alias(b,"each_pair","each");a.defn(b,"$each_value",g=function(){var a,b,f=g.$$p||p;g.$$p=null;if(!1===f||f===p)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),a).call(this,"each_value");a=0;for(var h=
this.$$keys,l=h.length,c;a<l;a++)if(c=h[a],f(c.$$is_string?this.$$smap[c]:c.value)===m)return m.$v;return this});a.defn(b,"$empty?",function(){return 0===this.$$keys.length});a.alias(b,"eql?","==");a.defn(b,"$fetch",u=function(b,f){var h=u.$$p||p;u.$$p=null;var g=a.hash_get(this,b);return void 0!==g?g:h!==p?(g=h(b),g===m?m.$v:g):void 0!==f?f:this.$raise(y.get("KeyError"),"key not found: "+b.$inspect())});a.defn(b,"$flatten",function(a){null==a&&(a=1);a=y.get("Opal")["$coerce_to!"](a,y.get("Integer"),
"to_int");for(var b=[],f=0,h=this.$$keys,g=h.length,l,c;f<g;f++)l=h[f],l.$$is_string?c=this.$$smap[l]:(c=l.value,l=l.key),b.push(l),c.$$is_array?1===a?b.push(c):b=b.concat(c.$flatten(a-2)):b.push(c);return b});a.defn(b,"$has_key?",function(b){return void 0!==a.hash_get(this,b)});a.defn(b,"$has_value?",function(a){for(var b=0,f=this.$$keys,h=f.length,g;b<h;b++)if(g=f[b],(g.$$is_string?this.$$smap[g]:g.value)["$=="](a))return!0;return!1});a.defn(b,"$hash",function(){var b=void 0===a.hash_ids,f=this.$object_id(),
h=["Hash"],g,l;try{b&&(a.hash_ids={});if(a.hash_ids.hasOwnProperty(f))return"self";for(g in a.hash_ids)if(a.hash_ids.hasOwnProperty(g)&&(l=a.hash_ids[g],this["$eql?"](l)))return"self";a.hash_ids[f]=this;for(var f=0,c=this.$$keys,u=c.length;f<u;f++)g=c[f],g.$$is_string?h.push([g,this.$$smap[g].$hash()]):h.push([g.key_hash,g.value.$hash()]);return h.sort().join()}finally{b&&delete a.hash_ids}});a.alias(b,"include?","has_key?");a.defn(b,"$index",function(a){for(var b=0,f=this.$$keys,h=f.length,g,l;b<
h;b++)if(g=f[b],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),l["$=="](a))return g;return p});a.defn(b,"$indexes",function(){var b=p,f=arguments.length-0;0>f&&(f=0);for(var h=Array(f),b=0;b<f;b++)h[b]=arguments[b+0];for(var b=[],f=0,g=h.length,l;f<g;f++)l=h[f],l=a.hash_get(this,l),void 0===l?b.push(this.$default()):b.push(l);return b});a.alias(b,"indices","indexes");var N;a.defn(b,"$inspect",function(){var a=void 0===N,b=this.$object_id(),f=[];try{a&&(N={});if(N.hasOwnProperty(b))return"{...}";
N[b]=!0;for(var b=0,h=this.$$keys,g=h.length,l,c;b<g;b++)l=h[b],l.$$is_string?c=this.$$smap[l]:(c=l.value,l=l.key),f.push(l.$inspect()+"=>"+c.$inspect());return"{"+f.join(", ")+"}"}finally{a&&(N=void 0)}});a.defn(b,"$invert",function(){for(var b=a.hash(),f=0,h=this.$$keys,g=h.length,l,c;f<g;f++)l=h[f],l.$$is_string?c=this.$$smap[l]:(c=l.value,l=l.key),a.hash_put(b,c,l);return b});a.defn(b,"$keep_if",A=function(){var b,f,h=A.$$p||p;A.$$p=null;if(!1===h||h===p)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||
this).$size()},f.$$s=this,f),b).call(this,"keep_if");b=0;for(var g=this.$$keys,l=g.length,c,u;b<l;b++){c=g[b];c.$$is_string?u=this.$$smap[c]:(u=c.value,c=c.key);u=h(c,u);if(u===m)return m.$v;!1!==u&&u!==p||void 0===a.hash_delete(this,c)||(l--,b--)}return this});a.alias(b,"key","index");a.alias(b,"key?","has_key?");a.defn(b,"$keys",function(){for(var a=[],b=0,f=this.$$keys,h=f.length,g;b<h;b++)g=f[b],g.$$is_string?a.push(g):a.push(g.key);return a});a.defn(b,"$length",function(){return this.$$keys.length});
a.alias(b,"member?","has_key?");a.defn(b,"$merge",C=function(a){var b,f,h=C.$$p||p;C.$$p=null;return(b=(f=this.$dup())["$merge!"],b.$$p=h.$to_proc(),b).call(f,a)});a.defn(b,"$merge!",h=function(b){var f=h.$$p||p;h.$$p=null;y.get("Hash")["$==="](b)||(b=y.get("Opal")["$coerce_to!"](b,y.get("Hash"),"to_hash"));var g,l=b.$$keys,c=l.length,u,w,e;if(f===p){for(g=0;g<c;g++)u=l[g],u.$$is_string?e=b.$$smap[u]:(e=u.value,u=u.key),a.hash_put(this,u,e);return this}for(g=0;g<c;g++)u=l[g],u.$$is_string?e=b.$$smap[u]:
(e=u.value,u=u.key),w=a.hash_get(this,u),void 0===w?a.hash_put(this,u,e):a.hash_put(this,u,f(u,w,e));return this});a.defn(b,"$rassoc",function(a){for(var b=0,f=this.$$keys,h=f.length,g,l;b<h;b++)if(g=f[b],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),l["$=="](a))return[g,l];return p});a.defn(b,"$rehash",function(){a.hash_rehash(this);return this});a.defn(b,"$reject",f=function(){var b,h,g=f.$$p||p;f.$$p=null;if(!1===g||g===p)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$size()},
h.$$s=this,h),b).call(this,"reject");b=a.hash();for(var l=0,c=this.$$keys,u=c.length,w,e,A;l<u;l++){w=c[l];w.$$is_string?e=this.$$smap[w]:(e=w.value,w=w.key);A=g(w,e);if(A===m)return m.$v;!1!==A&&A!==p||a.hash_put(b,w,e)}return b});a.defn(b,"$reject!",w=function(){var b,f,h=w.$$p||p;w.$$p=null;if(!1===h||h===p)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"reject!");b=!1;for(var g=0,l=this.$$keys,c=l.length,u,e;g<c;g++){u=l[g];u.$$is_string?e=
this.$$smap[u]:(e=u.value,u=u.key);e=h(u,e);if(e===m)return m.$v;!1!==e&&e!==p&&void 0!==a.hash_delete(this,u)&&(b=!0,c--,g--)}return b?this:p});a.defn(b,"$replace",function(b){var f;b=y.get("Opal")["$coerce_to!"](b,y.get("Hash"),"to_hash");a.hash_init(this);for(var h=0,g=b.$$keys,l=g.length,c,u;h<l;h++)c=g[h],c.$$is_string?u=b.$$smap[c]:(u=c.value,c=c.key),a.hash_put(this,c,u);(f=b.$default_proc())===p||f.$$is_boolean&&1!=f?(f=[b.$default()],b=this,b["$default="].apply(b,f)):(f=[b.$default_proc()],
b=this,b["$default_proc="].apply(b,f));f[f.length-1];return this});a.defn(b,"$select",z=function(){var b,f,h=z.$$p||p;z.$$p=null;if(!1===h||h===p)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"select");b=a.hash();for(var g=0,l=this.$$keys,c=l.length,u,w,e;g<c;g++){u=l[g];u.$$is_string?w=this.$$smap[u]:(w=u.value,u=u.key);e=h(u,w);if(e===m)return m.$v;!1!==e&&e!==p&&a.hash_put(b,u,w)}return b});a.defn(b,"$select!",D=function(){var b,f,h=D.$$p||
p;D.$$p=null;if(!1===h||h===p)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"select!");b=p;for(var g=0,l=this.$$keys,c=l.length,u,w;g<c;g++){u=l[g];u.$$is_string?w=this.$$smap[u]:(w=u.value,u=u.key);w=h(u,w);if(w===m)return m.$v;if(!1===w||w===p)void 0!==a.hash_delete(this,u)&&(c--,g--),b=this}return b});a.defn(b,"$shift",function(){var b=this.$$keys;return 0<b.length?(b=b[0],b=b.$$is_string?b:b.key,[b,a.hash_delete(this,b)]):this.$default(p)});
a.alias(b,"size","length");b.$alias_method("store","[]=");a.defn(b,"$to_a",function(){for(var a=[],b=0,f=this.$$keys,h=f.length,g,l;b<h;b++)g=f[b],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),a.push([g,l]);return a});a.defn(b,"$to_h",function(){if(this.$$class===a.Hash)return this;var b=new a.Hash.$$alloc;a.hash_init(b);a.hash_clone(this,b);return b});a.defn(b,"$to_hash",function(){return this});a.alias(b,"to_s","inspect");a.alias(b,"update","merge!");a.alias(b,"value?","has_value?");a.alias(b,
"values_at","indexes");return(a.defn(b,"$values",function(){for(var a=[],b=0,f=this.$$keys,h=f.length,g;b<h;b++)g=f[b],g.$$is_string?a.push(this.$$smap[g]):a.push(g.value);return a}),p)&&"values"}(a.base,null)};
Opal.modules["corelib/number"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}
a.dynamic_require_severity="warning";var c=a.top,b=a.nil,B=a.breaker,y=a.klass;a.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));c.$require("corelib/numeric");(function(c,$super){function n(){}var r=n=y(c,$super,"Number",n),l=r.$$scope,g,u,A,C,h,f,w,z,D,N;l.get("Opal").$bridge(r,Number);Number.prototype.$$is_number=
!0;a.defn(r,"$coerce",function(a){if(a!==b){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[l.get("Opal")["$coerce_to!"](a,l.get("Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(l.get("TypeError"),"can't convert "+a.$class()+" into Float")});a.defn(r,"$__id__",function(){return 2*this+1});a.alias(r,"object_id","__id__");a.defn(r,"$+",function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)});a.defn(r,"$-",function(a){return a.$$is_number?
this-a:this.$__coerced__("-",a)});a.defn(r,"$*",function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)});a.defn(r,"$/",function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)});a.alias(r,"fdiv","/");a.defn(r,"$%",function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(l.get("ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)});a.defn(r,"$&",function(a){return a.$$is_number?this&a:this.$__coerced__("&",
a)});a.defn(r,"$|",function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)});a.defn(r,"$^",function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)});a.defn(r,"$<",function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)});a.defn(r,"$<=",function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)});a.defn(r,"$>",function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)});a.defn(r,"$>=",function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)});a.defn(r,
"$<=>",function(f){try{return f.$$is_number?isNaN(this)||isNaN(f)?b:this>f?1:this<f?-1:0:this.$__coerced__("<=>",f)}catch(h){if(a.rescue(h,[l.get("ArgumentError")]))try{return b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw h;}});a.defn(r,"$<<",function(a){a=l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int");return 0<a?this<<a:this>>-a});a.defn(r,"$>>",function(a){a=l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int");return 0<a?this>>a:this<<-a});a.defn(r,"$[]",function(a){a=
l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int");return a<l.get("Integer").$$scope.get("MIN")||a>l.get("Integer").$$scope.get("MAX")?0:0>this?(~this+1>>a)%2:(this>>a)%2});a.defn(r,"$+@",function(){return+this});a.defn(r,"$-@",function(){return-this});a.defn(r,"$~",function(){return~this});a.defn(r,"$**",function(a){var f,h,g;return(f=l.get("Integer")["$==="](a))===b||f.$$is_boolean&&1!=f?(f=p(this,0)?!1!==(g=l.get("Float")["$==="](a))&&g!==b?g:l.get("Rational")["$==="](a):p(this,0))===b||
f.$$is_boolean&&1!=f?(f=null!=a.$$is_number)===b||f.$$is_boolean&&1!=f?this.$__coerced__("**",a):Math.pow(this,a):l.get("Complex").$new(this,0)["$**"](a.$to_f()):(f=!1!==(h=l.get("Integer")["$==="](this)["$!"]())&&h!==b?h:q(a,0))===b||f.$$is_boolean&&1!=f?l.get("Rational").$new(this,1)["$**"](a):Math.pow(this,a)});a.defn(r,"$==",function(a){return a.$$is_number?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1});a.defn(r,"$abs",function(){return Math.abs(this)});a.defn(r,"$abs2",function(){return Math.abs(this*
this)});a.defn(r,"$angle",function(){var a;return(a=this["$nan?"]())===b||a.$$is_boolean&&1!=a?0==this?0<1/this?0:Math.PI:0>this?Math.PI:0:this});a.alias(r,"arg","angle");a.alias(r,"phase","angle");a.defn(r,"$bit_length",function(){var a;((a=l.get("Integer")["$==="](this))===b||a.$$is_boolean&&1!=a)&&this.$raise(l.get("NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;a=0;for(var f=0>this?~this:this;0!=f;)a+=1,f>>>=1;return a});
a.defn(r,"$ceil",function(){return Math.ceil(this)});a.defn(r,"$chr",function(a){return String.fromCharCode(this)});a.defn(r,"$denominator",g=function(){var f,h,d=g.$$p,l=b,c=b;g.$$p=null;l=[];for(c=0;c<arguments.length;c++)l[c]=arguments[c];return(f=!1!==(h=this["$nan?"]())&&h!==b?h:this["$infinite?"]())===b||f.$$is_boolean&&1!=f?a.find_super_dispatcher(this,"denominator",g,d).apply(this,l):1});a.defn(r,"$downto",u=function(a){var f,h,g=u.$$p||b;u.$$p=null;if(g===b)return(f=this.$enum_for,f.$$p=
(h=function(){var f=h.$$s||this,g;((g=l.get("Numeric")["$==="](a))===b||g.$$is_boolean&&1!=g)&&f.$raise(l.get("ArgumentError"),"comparison of "+f.$class()+" with "+a.$class()+" failed");return(g=q(a,f))===b||g.$$is_boolean&&1!=g?m(e(f,a),1):0},h.$$s=this,h),f).call(this,"downto",a);a.$$is_number||this.$raise(l.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(f=this;f>=a;f--)if(g(f)===B)return B.$v;return this});a.alias(r,"eql?","==");a.defn(r,"$equal?",function(a){var f;
return!1!==(f=this["$=="](a))&&f!==b?f:isNaN(this)&&isNaN(a)});a.defn(r,"$even?",function(){return 0===this%2});a.defn(r,"$floor",function(){return Math.floor(this)});a.defn(r,"$gcd",function(a){var f;((f=l.get("Integer")["$==="](a))===b||f.$$is_boolean&&1!=f)&&this.$raise(l.get("TypeError"),"not an integer");f=Math.abs(this);for(a=Math.abs(a);0<f;){var h=f;f=a%f;a=h}return a});a.defn(r,"$gcdlcm",function(a){return[this.$gcd(),this.$lcm()]});a.defn(r,"$integer?",function(){return 0===this%1});a.defn(r,
"$is_a?",A=function(f){var h,g=A.$$p,d=b,c=b;A.$$p=null;d=[];for(c=0;c<arguments.length;c++)d[c]=arguments[c];return((h=f["$=="](l.get("Fixnum"))?l.get("Integer")["$==="](this):f["$=="](l.get("Fixnum")))===b||h.$$is_boolean&&1!=h)&&((h=f["$=="](l.get("Integer"))?l.get("Integer")["$==="](this):f["$=="](l.get("Integer")))===b||h.$$is_boolean&&1!=h)&&((h=f["$=="](l.get("Float"))?l.get("Float")["$==="](this):f["$=="](l.get("Float")))===b||h.$$is_boolean&&1!=h)?a.find_super_dispatcher(this,"is_a?",A,g).apply(this,
d):!0});a.alias(r,"kind_of?","is_a?");a.defn(r,"$instance_of?",C=function(f){var h,g=C.$$p,d=b,c=b;C.$$p=null;d=[];for(c=0;c<arguments.length;c++)d[c]=arguments[c];return((h=f["$=="](l.get("Fixnum"))?l.get("Integer")["$==="](this):f["$=="](l.get("Fixnum")))===b||h.$$is_boolean&&1!=h)&&((h=f["$=="](l.get("Integer"))?l.get("Integer")["$==="](this):f["$=="](l.get("Integer")))===b||h.$$is_boolean&&1!=h)&&((h=f["$=="](l.get("Float"))?l.get("Float")["$==="](this):f["$=="](l.get("Float")))===b||h.$$is_boolean&&
1!=h)?a.find_super_dispatcher(this,"instance_of?",C,g).apply(this,d):!0});a.defn(r,"$lcm",function(a){var f;((f=l.get("Integer")["$==="](a))===b||f.$$is_boolean&&1!=f)&&this.$raise(l.get("TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))});a.alias(r,"magnitude","abs");a.alias(r,"modulo","%");a.defn(r,"$next",function(){return this+1});a.defn(r,"$nonzero?",function(){return 0==this?b:this});a.defn(r,"$numerator",h=function(){var f,g,d=h.$$p,l=b,c=b;h.$$p=null;l=[];
for(c=0;c<arguments.length;c++)l[c]=arguments[c];return(f=!1!==(g=this["$nan?"]())&&g!==b?g:this["$infinite?"]())===b||f.$$is_boolean&&1!=f?a.find_super_dispatcher(this,"numerator",h,d).apply(this,l):this});a.defn(r,"$odd?",function(){return 0!==this%2});a.defn(r,"$ord",function(){return this});a.defn(r,"$pred",function(){return this-1});a.defn(r,"$quo",f=function(h){var g,d=f.$$p,c=b,u=b;f.$$p=null;c=[];for(u=0;u<arguments.length;u++)c[u]=arguments[u];return(g=l.get("Integer")["$==="](this))===b||
g.$$is_boolean&&1!=g?k(this,h):a.find_super_dispatcher(this,"quo",f,d).apply(this,c)});a.defn(r,"$rationalize",function(f){var h,g,c=b,u=b;1<arguments.length&&this.$raise(l.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if((h=l.get("Integer")["$==="](this))===b||h.$$is_boolean&&1!=h){if((h=this["$infinite?"]())===b||h.$$is_boolean&&1!=h){if((h=this["$nan?"]())===b||h.$$is_boolean&&1!=h){if((h=null==f)===b||h.$$is_boolean&&1!=h)return this.$to_r().$rationalize(f);
g=l.get("Math").$frexp(this);h=a.to_ary(g);c=null==h[0]?b:h[0];u=null==h[1]?b:h[1];g;c=l.get("Math").$ldexp(c,l.get("Float").$$scope.get("MANT_DIG")).$to_i();u=e(u,l.get("Float").$$scope.get("MANT_DIG"));return l.get("Rational").$new(d(2,c),1["$<<"](e(1,u))).$rationalize(l.get("Rational").$new(1,1["$<<"](e(1,u))))}return this.$raise(l.get("FloatDomainError"),"NaN")}return this.$raise(l.get("FloatDomainError"),"Infinity")}return l.get("Rational").$new(this,1)});a.defn(r,"$round",function(f){var h,
g,d=b;if((h=l.get("Integer")["$==="](this))===b||h.$$is_boolean&&1!=h){(h=(g=this["$nan?"](),!1!==g&&g!==b?null==f:g))===b||h.$$is_boolean&&1!=h||this.$raise(l.get("FloatDomainError"),"NaN");f=l.get("Opal")["$coerce_to!"](f||0,l.get("Integer"),"to_int");if((h="number"===typeof f?0>=f:f["$<="](0))===b||h.$$is_boolean&&1!=h){if(f["$=="](0))return Math.round(this);if((h=!1!==(g=this["$nan?"]())&&g!==b?g:this["$infinite?"]())!==b&&(!h.$$is_boolean||1==h))return this}else(h=this["$nan?"]())===b||h.$$is_boolean&&
1!=h?(h=this["$infinite?"]())===b||h.$$is_boolean&&1!=h||this.$raise(l.get("FloatDomainError"),"Infinity"):this.$raise(l.get("RangeError"),"NaN");g=l.get("Math").$frexp(this);h=a.to_ary(g);d=null==h[1]?b:h[1];g;var c=e(m(l.get("Float").$$scope.get("DIG"),2),(g=q(d,0))===b||g.$$is_boolean&&1!=g?e(k(d,3),1):k(d,4));return(h="number"===typeof f&&"number"===typeof c?f>=c:f["$>="](c))===b||h.$$is_boolean&&1!=h?(h=p(f,((g=q(d,0))===b||g.$$is_boolean&&1!=g?k(d,4):m(k(d,3),1))["$-@"]()))===b||h.$$is_boolean&&
1!=h?Math.round(this*Math.pow(10,f))/Math.pow(10,f):0:this}if((h=null==f)!==b&&(!h.$$is_boolean||1==h))return this;(h=(g=l.get("Float")["$==="](f),!1!==g&&g!==b?f["$infinite?"]():g))===b||h.$$is_boolean&&1!=h||this.$raise(l.get("RangeError"),"Infinity");f=l.get("Opal")["$coerce_to!"](f,l.get("Integer"),"to_int");(h=p(f,l.get("Integer").$$scope.get("MIN")))===b||h.$$is_boolean&&1!=h||this.$raise(l.get("RangeError"),"out of bounds");if((h=0<=f)!==b&&(!h.$$is_boolean||1==h))return this;f=f["$-@"]();
if(.415241*f-.125>this.$size())return 0;f=Math.pow(10,f);c=Math.floor((Math.abs(c)+f/2)/f)*f;return 0>this?-c:c});a.defn(r,"$step",w=function(a,f){var h,g=w.$$p||b;null==f&&(f=1);w.$$p=null;if(!1===g||g===b)return this.$enum_for("step",a,f);(h=0==f)===b||h.$$is_boolean&&1!=h||this.$raise(l.get("ArgumentError"),"step cannot be 0");h=this;if(Infinity===a||-Infinity===a)return g(h),this;if(0<f)for(;h<=a;)g(h),h+=f;else for(;h>=a;)g(h),h+=f;return this});a.alias(r,"succ","next");a.defn(r,"$times",z=function(){var a=
z.$$p||b;z.$$p=null;if(!1===a||a===b)return this.$enum_for("times");for(var f=0;f<this;f++)if(a(f)===B)return B.$v;return this});a.defn(r,"$to_f",function(){return this});a.defn(r,"$to_i",function(){return parseInt(this,10)});a.alias(r,"to_int","to_i");a.defn(r,"$to_r",function(){var f,h,g=b,c=b;return(f=l.get("Integer")["$==="](this))===b||f.$$is_boolean&&1!=f?(h=l.get("Math").$frexp(this),f=a.to_ary(h),g=null==f[0]?b:f[0],c=null==f[1]?b:f[1],h,g=l.get("Math").$ldexp(g,l.get("Float").$$scope.get("MANT_DIG")).$to_i(),
c=e(c,l.get("Float").$$scope.get("MANT_DIG")),d(g,l.get("Float").$$scope.get("RADIX")["$**"](c)).$to_r()):l.get("Rational").$new(this,1)});a.defn(r,"$to_s",function(a){var f,h;null==a&&(a=10);(f=!1!==(h=p(a,2))&&h!==b?h:q(a,36))===b||f.$$is_boolean&&1!=f||this.$raise(l.get("ArgumentError"),"base must be between 2 and 36");return this.toString(a)});a.alias(r,"truncate","to_i");a.alias(r,"inspect","to_s");a.defn(r,"$divmod",D=function(f){var h,g,d=D.$$p,c=b,u=b;D.$$p=null;c=[];for(u=0;u<arguments.length;u++)c[u]=
arguments[u];return(h=!1!==(g=this["$nan?"]())&&g!==b?g:f["$nan?"]())===b||h.$$is_boolean&&1!=h?(h=this["$infinite?"]())===b||h.$$is_boolean&&1!=h?a.find_super_dispatcher(this,"divmod",D,d).apply(this,c):this.$raise(l.get("FloatDomainError"),"Infinity"):this.$raise(l.get("FloatDomainError"),"NaN")});a.defn(r,"$upto",N=function(a){var f,h,g=N.$$p||b;N.$$p=null;if(g===b)return(f=this.$enum_for,f.$$p=(h=function(){var f=h.$$s||this,g;((g=l.get("Numeric")["$==="](a))===b||g.$$is_boolean&&1!=g)&&f.$raise(l.get("ArgumentError"),
"comparison of "+f.$class()+" with "+a.$class()+" failed");return(g=p(a,f))===b||g.$$is_boolean&&1!=g?m(e(a,f),1):0},h.$$s=this,h),f).call(this,"upto",a);a.$$is_number||this.$raise(l.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(f=this;f<=a;f++)if(g(f)===B)return B.$v;return this});a.defn(r,"$zero?",function(){return 0==this});a.defn(r,"$size",function(){return 4});a.defn(r,"$nan?",function(){return isNaN(this)});a.defn(r,"$finite?",function(){return Infinity!=
this&&-Infinity!=this&&!isNaN(this)});a.defn(r,"$infinite?",function(){return Infinity==this?1:-Infinity==this?-1:b});a.defn(r,"$positive?",function(){return Infinity==this||0<1/this});return(a.defn(r,"$negative?",function(){return-Infinity==this||0>1/this}),b)&&"negative?"})(a.base,a.get("Numeric"));a.cdecl(a,"Fixnum",a.get("Number"));(function(b,$super){function d(){}var c=d=y(b,$super,"Integer",d),l=c.$$scope;a.defs(c,"$===",function(a){return a.$$is_number?0===a%1:!1});a.cdecl(l,"MAX",Math.pow(2,
30)-1);return a.cdecl(l,"MIN",-Math.pow(2,30))})(a.base,a.get("Numeric"));return function(d,$super){function c(){}var e=c=y(d,$super,"Float",c),l=e.$$scope,g;a.defs(e,"$===",function(a){return!!a.$$is_number});a.cdecl(l,"INFINITY",Infinity);a.cdecl(l,"MAX",Number.MAX_VALUE);a.cdecl(l,"MIN",Number.MIN_VALUE);a.cdecl(l,"NAN",NaN);a.cdecl(l,"DIG",15);a.cdecl(l,"MANT_DIG",53);a.cdecl(l,"RADIX",2);return(g="undefined"!==typeof Number.EPSILON)===b||g.$$is_boolean&&1!=g?a.cdecl(l,"EPSILON",2.220446049250313E-16):
a.cdecl(l,"EPSILON",Number.EPSILON)}(a.base,a.get("Numeric"))};
Opal.modules["corelib/range"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="warning";var m=a.top,e=a.nil,k=a.breaker,d=a.klass;a.add_stubs("$require $include $attr_reader $<=> $raise $include? $<= $< $enum_for $upto $to_proc $succ $! $== $=== $exclude_end? $eql? $begin $end $- $abs $to_i $inspect".split(" "));m.$require("corelib/enumerable");return function(c,
$super){function m(){}var y=m=d(c,$super,"Range",m),x=y.$$proto,t=y.$$scope,n,r,l;x.begin=x.exclude=x.end=e;y.$include(t.get("Enumerable"));x.$$is_range=!0;y.$attr_reader("begin","end");a.defn(y,"$initialize",function(a,d,l){var c;null==l&&(l=!1);((c=a["$<=>"](d))===e||c.$$is_boolean&&1!=c)&&this.$raise(t.get("ArgumentError"));this.begin=a;this.end=d;return this.exclude=l});a.defn(y,"$==",function(a){return a.$$is_range?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1});a.defn(y,
"$===",function(a){return this["$include?"](a)});a.defn(y,"$cover?",function(a){var d,l;return d=q(this.begin,a),!1!==d&&d!==e?(l=this.exclude)===e||l.$$is_boolean&&1!=l?q(a,this.end):p(a,this.end):d});a.defn(y,"$each",n=function(){var g,d,l,c=n.$$p||e,h=e,f=e;n.$$p=null;if(c===e)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(t.get("TypeError"),"can't iterate from Float");d=this.begin;for(h=this.end+((g=this.exclude)===
e||g.$$is_boolean&&1!=g?1:0);d<h;d++)if(l=c(d),l===k)return k.$v;return this}if(this.begin.$$is_string&&this.end.$$is_string)return l=(g=(d=this.begin).$upto,g.$$p=c.$to_proc(),g).call(d,this.end,this.exclude),l===this.begin?this:l;h=this.begin;for(f=this.end;(l=p(h,f))!==e&&(!l.$$is_boolean||1==l);){if(a.yield1(c,h)===k)return k.$v;h=h.$succ()}return(g=(l=this.exclude["$!"](),!1!==l&&l!==e?h["$=="](f):l))===e||g.$$is_boolean&&1!=g||a.yield1(c,h)!==k?this:k.$v});a.defn(y,"$eql?",function(a){var d,
l;return(d=t.get("Range")["$==="](a))===e||d.$$is_boolean&&1!=d?!1:(d=(l=this.exclude["$==="](a["$exclude_end?"]()),!1!==l&&l!==e?this.begin["$eql?"](a.$begin()):l),!1!==d&&d!==e?this.end["$eql?"](a.$end()):d)});a.defn(y,"$exclude_end?",function(){return this.exclude});a.alias(y,"first","begin");a.alias(y,"include?","cover?");a.alias(y,"last","end");a.defn(y,"$max",r=function(){var g=r.$$p,d=g||e,l=e,c=e;r.$$p=null;l=[];for(c=0;c<arguments.length;c++)l[c]=arguments[c];return d!==e?a.find_super_dispatcher(this,
"max",r,g).apply(this,l):this.exclude?this.end-1:this.end});a.alias(y,"member?","cover?");a.defn(y,"$min",l=function(){var g=l.$$p,d=g||e,c=e,r=e;l.$$p=null;c=[];for(r=0;r<arguments.length;r++)c[r]=arguments[r];return d!==e?a.find_super_dispatcher(this,"min",l,g).apply(this,c):this.begin});a.alias(y,"member?","include?");a.defn(y,"$size",function(){var a,d,l=e,c=e,h=e,l=this.begin,c=this.end;(a=this.exclude)===e||a.$$is_boolean&&1!=a||(c="number"===typeof c?c-1:c["$-"](1));if((a=(d=t.get("Numeric")["$==="](l),
!1!==d&&d!==e?t.get("Numeric")["$==="](c):d))===e||a.$$is_boolean&&1!=a)return e;if((a=p(c,l))!==e&&(!a.$$is_boolean||1==a))return 0;h=t.get("Float").$$scope.get("INFINITY");return(a=!1!==(d=h["$=="](l.$abs()))&&d!==e?d:c.$abs()["$=="](h))===e||a.$$is_boolean&&1!=a?(Math.abs(c-l)+1).$to_i():h});a.defn(y,"$step",function(a){return this.$raise(t.get("NotImplementedError"))});a.defn(y,"$to_s",function(){return this.begin.$inspect()+(this.exclude?"...":"..")+this.end.$inspect()});return a.alias(y,"inspect",
"to_s")}(a.base,null)};
Opal.modules["corelib/proc"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.breaker,m=a.slice,e=a.klass;a.add_stubs(["$raise","$coerce_to!"]);return function(k,$super){function c(){}var b=c=e(k,$super,"Proc",c),B=b.$$proto,y=b.$$scope,x,t;B.$$is_proc=!0;B.$$is_lambda=!1;a.defs(b,"$new",x=function(){var a=x.$$p||q;x.$$p=null;!1!==a&&a!==q||this.$raise(y.get("ArgumentError"),"tried to create a Proc object without a block");return a});a.defn(b,"$call",t=function(){var b=t.$$p||q,c=
q,l=arguments.length-0;0>l&&(l=0);for(var g=Array(l),c=0;c<l;c++)g[c]=arguments[c+0];t.$$p=null;b!==q&&(this.$$p=b);b=this.$$is_lambda?this.apply(null,g):a.yieldX(this,g);return b===p?p.$v:b});a.alias(b,"[]","call");a.alias(b,"===","call");a.alias(b,"yield","call");a.defn(b,"$to_proc",function(){return this});a.defn(b,"$lambda?",function(){return!!this.$$is_lambda});a.defn(b,"$arity",function(){return this.$$is_curried?-1:this.$$arity?this.$$arity:this.length});a.defn(b,"$source_location",function(){return q});
a.defn(b,"$binding",function(){this.$$is_curried&&this.$raise(y.get("ArgumentError"),"Can't create Binding");return q});a.defn(b,"$parameters",function(){return this.$$is_curried?[["rest"]]:q});a.defn(b,"$curry",function(a){function b(){var g=m.call(arguments),c=g.length;c>a&&l.$$is_lambda&&!l.$$is_curried&&l.$raise(y.get("ArgumentError"),"wrong number of arguments ("+c+" for "+a+")");if(c>=a)return l.$call.apply(l,g);c=function(){return b.apply(null,g.concat(m.call(arguments)))};c.$$is_lambda=l.$$is_lambda;
c.$$is_curried=!0;return c}var l=this;void 0===a?a=l.length:(a=y.get("Opal")["$coerce_to!"](a,y.get("Integer"),"to_int"),l.$$is_lambda&&a!==l.length&&l.$raise(y.get("ArgumentError"),"wrong number of arguments ("+a+" for "+l.length+")"));b.$$is_lambda=l.$$is_lambda;b.$$is_curried=!0;return b});a.defn(b,"$dup",function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},l;for(l in this)this.hasOwnProperty(l)&&(b[l]=this[l]);return b});return a.alias(b,"clone","dup")}(a.base,
Function)};
Opal.modules["corelib/method"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.slice,m=a.klass;a.add_stubs(["$attr_reader","$class","$arity","$new","$name"]);(function(e,$super){function d(){}var c=d=m(e,$super,"Method",d),b=c.$$proto,B=c.$$scope,y;b.method=b.receiver=b.owner=b.name=q;c.$attr_reader("owner","receiver","name");a.defn(c,"$initialize",function(a,b,d){this.receiver=a;this.owner=a.$class();this.name=d;return this.method=b});a.defn(c,"$arity",function(){return this.method.$arity()});a.defn(c,
"$call",y=function(){var a=y.$$p||q,b=q,d=arguments.length-0;0>d&&(d=0);for(var c=Array(d),b=0;b<d;b++)c[b]=arguments[b+0];y.$$p=null;this.method.$$p=a;return this.method.apply(this.receiver,c)});a.alias(c,"[]","call");a.defn(c,"$unbind",function(){return B.get("UnboundMethod").$new(this.owner,this.method,this.name)});a.defn(c,"$to_proc",function(){var a=this,b=function(){return a.$call.apply(a,p.call(arguments))};b.$$unbound=a.method;b.$$is_lambda=!0;return b});return(a.defn(c,"$inspect",function(){return"#<Method: "+
this.receiver.$class()+"#"+this.name+">"}),q)&&"inspect"})(a.base,null);return function(e,$super){function d(){}var c=d=m(e,$super,"UnboundMethod",d),b=c.$$proto,p=c.$$scope;b.method=b.name=b.owner=q;c.$attr_reader("owner","name");a.defn(c,"$initialize",function(a,b,d){this.owner=a;this.method=b;return this.name=d});a.defn(c,"$arity",function(){return this.method.$arity()});a.defn(c,"$bind",function(a){return p.get("Method").$new(a,this.method,this.name)});return(a.defn(c,"$inspect",function(){return"#<UnboundMethod: "+
this.owner.$name()+"#"+this.name+">"}),q)&&"inspect"}(a.base,null)};Opal.modules["corelib/variables"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.gvars,m=a.hash2;a.add_stubs(["$new"]);p["&"]=p["~"]=p["`"]=p["'"]=q;p.LOADED_FEATURES=p['"']=a.loaded_features;p.LOAD_PATH=p[":"]=[];p["/"]="\n";p[","]=q;a.cdecl(a,"ARGV",[]);a.cdecl(a,"ARGF",a.get("Object").$new());a.cdecl(a,"ENV",m([],{}));p.VERBOSE=!1;p.DEBUG=!1;return p.SAFE=0};
Opal.modules["opal/mini"]=function(a){a.dynamic_require_severity="warning";var q=a.top;a.add_stubs(["$require"]);q.$require("opal/base");q.$require("corelib/nil");q.$require("corelib/boolean");q.$require("corelib/string");q.$require("corelib/comparable");q.$require("corelib/enumerable");q.$require("corelib/enumerator");q.$require("corelib/array");q.$require("corelib/hash");q.$require("corelib/number");q.$require("corelib/range");q.$require("corelib/proc");q.$require("corelib/method");q.$require("corelib/regexp");
return q.$require("corelib/variables")};
Opal.modules["corelib/array/inheritance"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.klass;a.add_stubs("$new $allocate $initialize $to_proc $__send__ $clone $respond_to? $== $eql? $inspect $hash $* $class $slice $uniq $flatten $- $+".split(" "));(function(m,$super){function k(){}var d=k=p(m,$super,"Array",k),c=d.$$scope;return(a.defs(d,"$inherited",function(a){var d=q,d=c.get("Class").$new(c.get("Array").$$scope.get("Wrapper"));a.$$proto=d.$$proto;a.$$proto.$$class=a;a.$$alloc=
d.$$alloc;a.$$parent=c.get("Array").$$scope.get("Wrapper");a.$allocate=d.$allocate;a.$new=d.$new;a["$[]"]=d["$[]"]}),q)&&"inherited"})(a.base,null);return function(m,$super){function k(){}var d=k=p(m,$super,"Wrapper",k),c=d.$$proto,b=d.$$scope,B,y,x,t,n;c.literal=q;c.$$is_array=!0;a.defs(d,"$allocate",B=function(b){var d=q;null==b&&(b=[]);B.$$p=null;d=a.find_super_dispatcher(this,"allocate",B,null,k).apply(this,[]);d.literal=b;return d});a.defs(d,"$new",y=function(){var b,d,g=y.$$p||q,c=q,c=q,A=arguments.length-
0;0>A&&(A=0);for(var k=Array(A),c=0;c<A;c++)k[c]=arguments[c+0];y.$$p=null;c=this.$allocate();(b=(d=c).$initialize,b.$$p=g.$to_proc(),b).apply(d,a.to_a(k));return c});a.defs(d,"$[]",function(){var a=q,b=arguments.length-0;0>b&&(b=0);for(var g=Array(b),a=0;a<b;a++)g[a]=arguments[a+0];return this.$allocate(g)});a.defn(d,"$initialize",x=function(){var d,l,g=x.$$p||q,c=q,A=arguments.length-0;0>A&&(A=0);for(var k=Array(A),c=0;c<A;c++)k[c]=arguments[c+0];x.$$p=null;return this.literal=(d=(l=b.get("Array")).$new,
d.$$p=g.$to_proc(),d).apply(l,a.to_a(k))});a.defn(d,"$method_missing",t=function(){var b,d,g=t.$$p||q,c=q,c=q,A=arguments.length-0;0>A&&(A=0);for(var k=Array(A),c=0;c<A;c++)k[c]=arguments[c+0];t.$$p=null;c=(b=(d=this.literal).$__send__,b.$$p=g.$to_proc(),b).apply(d,a.to_a(k));return(b=c===this.literal)===q||b.$$is_boolean&&1!=b?c:this});a.defn(d,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(d,"$respond_to?",n=function(b){var d,g=n.$$p,c=q,A=q;n.$$p=null;c=[];for(A=
0;A<arguments.length;A++)c[A]=arguments[A];return!1!==(d=a.find_super_dispatcher(this,"respond_to?",n,g).apply(this,c))&&d!==q?d:this.literal["$respond_to?"](b)});a.defn(d,"$==",function(a){return this.literal["$=="](a)});a.defn(d,"$eql?",function(a){return this.literal["$eql?"](a)});a.defn(d,"$to_a",function(){return this.literal});a.defn(d,"$to_ary",function(){return this});a.defn(d,"$inspect",function(){return this.literal.$inspect()});a.defn(d,"$hash",function(){return this.literal.$hash()});
a.defn(d,"$*",function(a){var b=this.literal;a="number"===typeof b&&"number"===typeof a?b*a:b["$*"](a);return a.$$is_array?this.$class().$allocate(a):a});a.defn(d,"$[]",function(a,b){var g=this.literal.$slice(a,b);return g.$$is_array&&(a.$$is_range||void 0!==b)?this.$class().$allocate(g):g});a.alias(d,"slice","[]");a.defn(d,"$uniq",function(){return this.$class().$allocate(this.literal.$uniq())});a.defn(d,"$flatten",function(a){return this.$class().$allocate(this.literal.$flatten(a))});a.defn(d,"$-",
function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b-a:b["$-"](a)});return(a.defn(d,"$+",function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)}),q)&&"+"}(a.get("Array"),null)};
Opal.modules["corelib/string/inheritance"]=function(a){a.dynamic_require_severity="warning";var q=a.top,p=a.nil,m=a.klass,e=a.gvars;a.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $%".split(" "));q.$require("corelib/string");(function(e,$super){function c(){}var b=c=m(e,$super,"String",c),q=b.$$scope;return(a.defs(b,"$inherited",function(a){var b=p,b=q.get("Class").$new(q.get("String").$$scope.get("Wrapper"));
a.$$proto=b.$$proto;a.$$proto.$$class=a;a.$$alloc=b.$$alloc;a.$$parent=q.get("String").$$scope.get("Wrapper");a.$allocate=b.$allocate;a.$new=b.$new}),p)&&"inherited"})(a.base,null);return function(k,$super){function c(){}var b=c=m(k,$super,"Wrapper",c),q=b.$$proto,y,x,t,n,r,l;q.literal=p;q.$$is_string=!0;a.defs(b,"$allocate",y=function(b){var l=p;null==b&&(b="");y.$$p=null;l=a.find_super_dispatcher(this,"allocate",y,null,c).apply(this,[]);l.literal=b;return l});a.defs(b,"$new",x=function(){var b,
l,c=x.$$p||p,e=p,e=p,h=arguments.length-0;0>h&&(h=0);for(var f=Array(h),e=0;e<h;e++)f[e]=arguments[e+0];x.$$p=null;e=this.$allocate();(b=(l=e).$initialize,b.$$p=c.$to_proc(),b).apply(l,a.to_a(f));return e});a.defs(b,"$[]",function(){var a=p,b=arguments.length-0;0>b&&(b=0);for(var l=Array(b),a=0;a<b;a++)l[a]=arguments[a+0];return this.$allocate(l)});a.defn(b,"$initialize",function(a){null==a&&(a="");return this.literal=a});a.defn(b,"$method_missing",t=function(){var b,l,c=t.$$p||p,e=p,e=p,h=arguments.length-
0;0>h&&(h=0);for(var f=Array(h),e=0;e<h;e++)f[e]=arguments[e+0];t.$$p=null;e=(b=(l=this.literal).$__send__,b.$$p=c.$to_proc(),b).apply(l,a.to_a(f));return(b=null!=e.$$is_string)===p||b.$$is_boolean&&1!=b?e:(b=e==this.literal)===p||b.$$is_boolean&&1!=b?this.$class().$allocate(e):this});a.defn(b,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(b,"$respond_to?",n=function(b){var l,c=n.$$p,e=p,h=p;n.$$p=null;e=[];for(h=0;h<arguments.length;h++)e[h]=arguments[h];return!1!==
(l=a.find_super_dispatcher(this,"respond_to?",n,c).apply(this,e))&&l!==p?l:this.literal["$respond_to?"](b)});a.defn(b,"$==",function(a){return this.literal["$=="](a)});a.alias(b,"eql?","==");a.alias(b,"===","==");a.defn(b,"$to_s",function(){return this.literal});a.alias(b,"to_str","to_s");a.defn(b,"$inspect",function(){return this.literal.$inspect()});a.defn(b,"$+",function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)});a.defn(b,"$*",function(a){var b=this.literal;
a="number"===typeof b&&"number"===typeof a?b*a:b["$*"](a);return a.$$is_string?this.$class().$allocate(a):a});a.defn(b,"$split",function(a,b){var l,c,h;return(l=(c=this.literal.$split(a,b)).$map,l.$$p=(h=function(a){var b=h.$$s||this;null==a&&(a=p);return b.$class().$allocate(a)},h.$$s=this,h),l).call(c)});a.defn(b,"$replace",function(a){return this.literal=a});a.defn(b,"$each_line",r=function(b){var l,c,k,h=r.$$p||p;null==e["/"]&&(e["/"]=p);null==b&&(b=e["/"]);r.$$p=null;return h===p?this.$enum_for("each_line",
b):(l=(c=this.literal).$each_line,l.$$p=(k=function(b){var g=k.$$s||this,l;null==b&&(b=p);return l=a.yield1(h,g.$class().$allocate(b)),l},k.$$s=this,k),l).call(c,b)});a.defn(b,"$lines",l=function(a){var b,c=l.$$p||p,k=p;null==e["/"]&&(e["/"]=p);null==a&&(a=e["/"]);l.$$p=null;k=(b=this.$each_line,b.$$p=c.$to_proc(),b).call(this,a);return!1!==c&&c!==p?this:k.$to_a()});return(a.defn(b,"$%",function(a){return this.literal["$%"](a)}),p)&&"%"}(a.get("String"),null)};
Opal.modules["corelib/string/encoding"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var p,m,e,k,d,c,b,B=a.top,y=a.nil,x=a.breaker,t=a.klass,n=a.hash2;a.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $const_get $=== $== $name $include? $names $constants $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));
B.$require("corelib/string");(function(b,$super){function g(){}var d=g=t(b,$super,"Encoding",g),c=d.$$proto,e=d.$$scope,h;c.ascii=c.dummy=c.name=y;a.defs(d,"$register",h=function(a,b){var g,d,c,u,A=h.$$p||y,k=y,r=y;null==b&&(b=n([],{}));h.$$p=null;k=q([a],!1!==(g=b["$[]"]("aliases"))&&g!==y?g:[]);r=(g=(d=e.get("Class")).$new,g.$$p=A.$to_proc(),g).call(d,this).$new(a,k,!1!==(g=b["$[]"]("ascii"))&&g!==y?g:!1,!1!==(g=b["$[]"]("dummy"))&&g!==y?g:!1);return(g=(c=k).$each,g.$$p=(u=function(a){var b=u.$$s||
this;null==a&&(a=y);return b.$const_set(a.$sub("-","_"),r)},u.$$s=this,u),g).call(c)});a.defs(d,"$find",function(b){try{var h,g,d,c=y,c=b.$upcase();(h=(g=this.$constants()).$each,h.$$p=(d=function(b){var f=d.$$s||this,h,g,u=y;null==b&&(b=y);u=f.$const_get(b);if((h=e.get("Encoding")["$==="](u))===y||h.$$is_boolean&&1!=h||(h=!1!==(g=u.$name()["$=="](c))&&g!==y?g:u.$names()["$include?"](c))===y||h.$$is_boolean&&1!=h)return y;a.ret(u)},d.$$s=this,d),h).call(g);return this.$raise(e.get("ArgumentError"),
"unknown encoding name - "+b)}catch(u){if(u===a.returner)return u.$v;throw u;}});(function(a){return a.$attr_accessor("default_external")})(a.get_singleton_class(d));d.$attr_reader("name","names");a.defn(d,"$initialize",function(a,b,h,g){this.name=a;this.names=b;this.ascii=h;return this.dummy=g});a.defn(d,"$ascii_compatible?",function(){return this.ascii});a.defn(d,"$dummy?",function(){return this.dummy});a.defn(d,"$to_s",function(){return this.name});a.defn(d,"$inspect",function(){var a;return"#<Encoding:"+
this.name+((a=this.dummy)===y||a.$$is_boolean&&1!=a?y:" (dummy)")+">"});a.defn(d,"$each_byte",function(){return this.$raise(e.get("NotImplementedError"))});a.defn(d,"$getbyte",function(){return this.$raise(e.get("NotImplementedError"))});a.defn(d,"$bytesize",function(){return this.$raise(e.get("NotImplementedError"))});(function(a,$super){function b(){}b=t(a,$super,"EncodingError",b);return y})(e.base,e.get("StandardError"));return function(a,$super){function b(){}b=t(a,$super,"CompatibilityError",
b);return y}(e.base,e.get("EncodingError"))})(a.base,null);(p=(m=a.get("Encoding")).$register,p.$$p=(e=function(){var b=e.$$s||this,d;a.def(b,"$each_byte",d=function(b){var c,e=d.$$p||y;d.$$p=null;for(var k=0,h=b.length;k<h;k++){var f=b.charCodeAt(k);if(127>=f)(c=a.yield1(e,f))===x?x.$v:c;else for(var f=encodeURIComponent(b.charAt(k)).substr(1).split("%"),w=0,r=f.length;w<r;w++)(c=a.yield1(e,parseInt(f[w],16)))===x?x.$v:c}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),y)&&
"bytesize"},e.$$s=B,e),p).call(m,"UTF-8",n(["aliases","ascii"],{aliases:["CP65001"],ascii:!0}));(p=(k=a.get("Encoding")).$register,p.$$p=(d=function(){var b=d.$$s||this,l;a.def(b,"$each_byte",l=function(b){var d,c=l.$$p||y;l.$$p=null;for(var e=0,h=b.length;e<h;e++){var f=b.charCodeAt(e);(d=a.yield1(c,f&255))===x?x.$v:d;(d=a.yield1(c,f>>8))===x?x.$v:d}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),y)&&"bytesize"},d.$$s=B,d),p).call(k,"UTF-16LE");(p=(c=a.get("Encoding")).$register,
p.$$p=(b=function(){var d=b.$$s||this,l;a.def(d,"$each_byte",l=function(b){var d,c=l.$$p||y;l.$$p=null;for(var e=0,h=b.length;e<h;e++)(d=a.yield1(c,b.charCodeAt(e)&255))===x?x.$v:d});return(a.def(d,"$bytesize",function(){return this.$bytes().$length()}),y)&&"bytesize"},b.$$s=B,b),p).call(c,"ASCII-8BIT",n(["aliases","ascii"],{aliases:["BINARY"],ascii:!0}));return function(b,$super){function g(){}var d=g=t(b,$super,"String",g),c=d.$$scope,e;d.$$proto.encoding=y;String.prototype.encoding=c.get("Encoding").$$scope.get("UTF_16LE");
a.defn(d,"$bytes",function(){return this.$each_byte().$to_a()});a.defn(d,"$bytesize",function(){return this.encoding.$bytesize(this)});a.defn(d,"$each_byte",e=function(){var a,b,g=e.$$p||y;e.$$p=null;if(g===y)return this.$enum_for("each_byte");(a=(b=this.encoding).$each_byte,a.$$p=g.$to_proc(),a).call(b,this);return this});a.defn(d,"$encode",function(a){return this.$dup().$force_encoding(a)});a.defn(d,"$encoding",function(){return this.encoding});a.defn(d,"$force_encoding",function(a){var b;a=c.get("Opal")["$coerce_to!"](a,
c.get("String"),"to_str");a=c.get("Encoding").$find(a);if(a["$=="](this.encoding))return this;(b=a["$nil?"]())===y||b.$$is_boolean&&1!=b||this.$raise(c.get("ArgumentError"),"unknown encoding name - "+a);b=new String(this);b.encoding=a;return b});return(a.defn(d,"$getbyte",function(a){return this.encoding.$getbyte(this,a)}),y)&&"getbyte"}(a.base,null)};
Opal.modules["corelib/math"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.module;a.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(m){m=p(m,"Math");var e=m.$$scope,k;a.cdecl(e,"E",Math.E);a.cdecl(e,"PI",Math.PI);a.cdecl(e,"DomainError",e.get("Class").$new(e.get("StandardError")));a.defs(m,"$checked",function(a){var c=q,b=arguments.length-1;0>b&&(b=0);for(var k=Array(b),c=0;c<
b;c++)k[c]=arguments[c+1];if(isNaN(k[0])||2==k.length&&isNaN(k[1]))return NaN;c=Math[a].apply(null,k);isNaN(c)&&this.$raise(e.get("DomainError"),'Numerical argument is out of domain - "'+a+'"');return c});a.defs(m,"$float!",function(d){try{return this.$Float(d)}catch(c){if(a.rescue(c,[e.get("ArgumentError")]))try{return this.$raise(e.get("Opal").$type_error(d,e.get("Float")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw c;}});a.defs(m,"$integer!",function(d){try{return this.$Integer(d)}catch(c){if(a.rescue(c,
[e.get("ArgumentError")]))try{return this.$raise(e.get("Opal").$type_error(d,e.get("Integer")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw c;}});m.$module_function();a.defn(m,"$acos",function(a){return e.get("Math").$checked("acos",e.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.acosh)===q||k.$$is_boolean&&1!=k)Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))};a.defn(m,"$acosh",function(a){return e.get("Math").$checked("acosh",e.get("Math")["$float!"](a))});
a.defn(m,"$asin",function(a){return e.get("Math").$checked("asin",e.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.asinh)===q||k.$$is_boolean&&1!=k)Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};a.defn(m,"$asinh",function(a){return e.get("Math").$checked("asinh",e.get("Math")["$float!"](a))});a.defn(m,"$atan",function(a){return e.get("Math").$checked("atan",e.get("Math")["$float!"](a))});a.defn(m,"$atan2",function(a,c){return e.get("Math").$checked("atan2",e.get("Math")["$float!"](a),
e.get("Math")["$float!"](c))});if((k="undefined"!==typeof Math.atanh)===q||k.$$is_boolean&&1!=k)Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))};a.defn(m,"$atanh",function(a){return e.get("Math").$checked("atanh",e.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.cbrt)===q||k.$$is_boolean&&1!=k)Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var c=a,b=0;.125>c;)c*=8,b--;for(;1<c;)c*=.125,b++;for(c=(-.46946116*c+1.072302)*c+.3812513;0>b;)c*=.5,b++;for(;0<b;)c*=
2,b--;c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);return 2/3*c+1/3*a/(c*c)};a.defn(m,"$cbrt",function(a){return e.get("Math").$checked("cbrt",e.get("Math")["$float!"](a))});a.defn(m,"$cos",function(a){return e.get("Math").$checked("cos",e.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.cosh)===q||k.$$is_boolean&&1!=k)Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2};a.defn(m,"$cosh",function(a){return e.get("Math").$checked("cosh",e.get("Math")["$float!"](a))});
if((k="undefined"!==typeof Math.erf)===q||k.$$is_boolean&&1!=k)Math.erf=function(a){var c=1;0>a&&(c=-1);a=Math.abs(a);var b=1/(1+.3275911*a);return c*(1-((((1.061405429*b+-1.453152027)*b+1.421413741)*b+-.284496736)*b+.254829592)*b*Math.exp(-a*a))};a.defn(m,"$erf",function(a){return e.get("Math").$checked("erf",e.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.erfc)===q||k.$$is_boolean&&1!=k)Math.erfc=function(a){var c=Math.abs(a),b=1/(.5*c+1),c=b*Math.exp(-c*c-1.26551223+b*(b*(b*(b*(b*
(b*(b*(b*(.17087277*b+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-c:c};a.defn(m,"$erfc",function(a){return e.get("Math").$checked("erfc",e.get("Math")["$float!"](a))});a.defn(m,"$exp",function(a){return e.get("Math").$checked("exp",e.get("Math")["$float!"](a))});a.defn(m,"$frexp",function(a){a=e.get("Math")["$float!"](a);if(isNaN(a))return[NaN,0];var c=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,c),c]});a.defn(m,
"$gamma",function(a){a=e.get("Math")["$float!"](a);var c,b,k,p;k=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(e.get("DomainError"),'Numerical argument is out of domain - "gamma"');
if(e.get("Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;b=a-2;for(--a;1<b;)a*=b,b--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*e.get("Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return b=a*a,c=b*a,k=c*a,p=k*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*b)-139/(51840*c)-571/(2488320*k)+163879/(209018880*p)+5246819/(75246796800*p*a));--a;b=k[0];for(c=1;c<k.length;++c)b+=k[c]/
(a+c);c=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,a+.5)*Math.exp(-c)*b});if((k="undefined"!==typeof Math.hypot)===q||k.$$is_boolean&&1!=k)Math.hypot=function(a,c){return Math.sqrt(a*a+c*c)};a.defn(m,"$hypot",function(a,c){return e.get("Math").$checked("hypot",e.get("Math")["$float!"](a),e.get("Math")["$float!"](c))});a.defn(m,"$ldexp",function(a,c){a=e.get("Math")["$float!"](a);c=e.get("Math")["$integer!"](c);isNaN(c)&&this.$raise(e.get("RangeError"),"float NaN out of range of integer");
return a*Math.pow(2,c)});a.defn(m,"$lgamma",function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(e.get("Math").$gamma(a))),0>e.get("Math").$gamma(a)?-1:1]});a.defn(m,"$log",function(a,c){var b;(b=e.get("String")["$==="](a))===q||b.$$is_boolean&&1!=b||this.$raise(e.get("Opal").$type_error(a,e.get("Float")));if((b=null==c)===q||b.$$is_boolean&&1!=b){(b=e.get("String")["$==="](c))===q||b.$$is_boolean&&1!=b||this.$raise(e.get("Opal").$type_error(c,e.get("Float")));b=e.get("Math").$checked("log",e.get("Math")["$float!"](a));
var k=e.get("Math").$checked("log",e.get("Math")["$float!"](c));return"number"===typeof b&&"number"===typeof k?b/k:b["$/"](k)}return e.get("Math").$checked("log",e.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.log10)===q||k.$$is_boolean&&1!=k)Math.log10=function(a){return Math.log(a)/Math.LN10};a.defn(m,"$log10",function(a){var c;(c=e.get("String")["$==="](a))===q||c.$$is_boolean&&1!=c||this.$raise(e.get("Opal").$type_error(a,e.get("Float")));return e.get("Math").$checked("log10",e.get("Math")["$float!"](a))});
if((k="undefined"!==typeof Math.log2)===q||k.$$is_boolean&&1!=k)Math.log2=function(a){return Math.log(a)/Math.LN2};a.defn(m,"$log2",function(a){var c;(c=e.get("String")["$==="](a))===q||c.$$is_boolean&&1!=c||this.$raise(e.get("Opal").$type_error(a,e.get("Float")));return e.get("Math").$checked("log2",e.get("Math")["$float!"](a))});a.defn(m,"$sin",function(a){return e.get("Math").$checked("sin",e.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.sinh)===q||k.$$is_boolean&&1!=k)Math.sinh=
function(a){return(Math.exp(a)-Math.exp(-a))/2};a.defn(m,"$sinh",function(a){return e.get("Math").$checked("sinh",e.get("Math")["$float!"](a))});a.defn(m,"$sqrt",function(a){return e.get("Math").$checked("sqrt",e.get("Math")["$float!"](a))});a.defn(m,"$tan",function(a){var c;a=e.get("Math")["$float!"](a);return(c=a["$infinite?"]())===q||c.$$is_boolean&&1!=c?e.get("Math").$checked("tan",e.get("Math")["$float!"](a)):e.get("Float").$$scope.get("NAN")});if((k="undefined"!==typeof Math.tanh)===q||k.$$is_boolean&&
1!=k)Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};a.defn(m,"$tanh",function(a){return e.get("Math").$checked("tanh",e.get("Math")["$float!"](a))})}(a.base)};
Opal.modules["corelib/complex"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="warning";var k=a.top,d=a.nil,c=a.klass,b=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $infinite?".split(" "));
k.$require("corelib/numeric");(function(b,$super){function k(){}var t=k=c(b,$super,"Complex",k),n=t.$$proto,r=t.$$scope;n.real=n.imag=d;a.defs(t,"$rect",function(a,b){var c,e,k,h;null==b&&(b=0);((c=(e=(k=(h=r.get("Numeric")["$==="](a),!1!==h&&h!==d?a["$real?"]():h),!1!==k&&k!==d?r.get("Numeric")["$==="](b):k),!1!==e&&e!==d?b["$real?"]():e))===d||c.$$is_boolean&&1!=c)&&this.$raise(r.get("TypeError"),"not a real");return this.$new(a,b)});(function(b){return a.alias(b,"rectangular","rect")})(a.get_singleton_class(t));
a.defs(t,"$polar",function(a,b){var c,e,k,h;null==b&&(b=0);((c=(e=(k=(h=r.get("Numeric")["$==="](a),!1!==h&&h!==d?a["$real?"]():h),!1!==k&&k!==d?r.get("Numeric")["$==="](b):k),!1!==e&&e!==d?b["$real?"]():e))===d||c.$$is_boolean&&1!=c)&&this.$raise(r.get("TypeError"),"not a real");return this.$new(q(a,r.get("Math").$cos(b)),q(a,r.get("Math").$sin(b)))});t.$attr_reader("real","imag");a.defn(t,"$initialize",function(a,b){null==b&&(b=0);this.real=a;return this.imag=b});a.defn(t,"$coerce",function(a){var b,
c;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():c))===d||b.$$is_boolean&&1!=b?this.$raise(r.get("TypeError"),""+a.$class()+" can't be coerced into Complex"):[r.get("Complex").$new(a,0),this]:[a,this]});a.defn(t,"$==",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():c))===d||b.$$is_boolean&&1!=b?a["$=="](this):this.real["$=="](a)?
this.imag["$=="](0):this.real["$=="](a):this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real())});a.defn(t,"$-@",function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())});a.defn(t,"$+",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():c))===d||b.$$is_boolean&&1!=b?this.$__coerced__("+",a):this.$Complex(p(this.real,a),this.imag):this.$Complex(p(this.real,a.$real()),
p(this.imag,a.$imag()))});a.defn(t,"$-",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():c))===d||b.$$is_boolean&&1!=b?this.$__coerced__("-",a):this.$Complex(m(this.real,a),this.imag):this.$Complex(m(this.real,a.$real()),m(this.imag,a.$imag()))});a.defn(t,"$*",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():
c))===d||b.$$is_boolean&&1!=b?this.$__coerced__("*",a):this.$Complex(q(this.real,a),q(this.imag,a)):this.$Complex(m(q(this.real,a.$real()),q(this.imag,a.$imag())),p(q(this.real,a.$imag()),q(this.imag,a.$real())))});a.defn(t,"$/",function(a){var b,c,k,n,h;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():c))===d||b.$$is_boolean&&1!=b?this.$__coerced__("/",a):this.$Complex(this.real.$quo(a),this.imag.$quo(a)):(b=!1!==(c=!1!==
(k=!1!==(n=(h=r.get("Number")["$==="](this.real),!1!==h&&h!==d?this.real["$nan?"]():h))&&n!==d?n:(h=r.get("Number")["$==="](this.imag),!1!==h&&h!==d?this.imag["$nan?"]():h))&&k!==d?k:(n=r.get("Number")["$==="](a.$real()),!1!==n&&n!==d?a.$real()["$nan?"]():n))&&c!==d?c:(k=r.get("Number")["$==="](a.$imag()),!1!==k&&k!==d?a.$imag()["$nan?"]():k))===d||b.$$is_boolean&&1!=b?e(q(this,a.$conj()),a.$abs2()):r.get("Complex").$new(r.get("Float").$$scope.get("NAN"),r.get("Float").$$scope.get("NAN"))});a.defn(t,
"$**",function(b){var g,c,k,n,h,f=d,w=d,z=d,D=d,t=d,D=z=w=f=t=f=d;if(b["$=="](0))return r.get("Complex").$new(1,0);if((g=r.get("Complex")["$==="](b))===d||g.$$is_boolean&&1!=g){if((g=r.get("Integer")["$==="](b))===d||g.$$is_boolean&&1!=g){if((g=!1!==(c=r.get("Float")["$==="](b))&&c!==d?c:r.get("Rational")["$==="](b))===d||g.$$is_boolean&&1!=g)return this.$__coerced__("**",b);c=this.$polar();g=a.to_ary(c);f=null==g[0]?d:g[0];w=null==g[1]?d:g[1];c;return r.get("Complex").$polar(f["$**"](b),q(w,b))}if((g=
"number"===typeof b?0<b:b["$>"](0))===d||g.$$is_boolean&&1!=g)return e(r.get("Rational").$new(1,1),this)["$**"](b["$-@"]());f=t=this;for(w=m(b,1);(c=w["$!="](0))!==d&&(!c.$$is_boolean||1==c);){for(;(k=(h=w.$divmod(2),n=a.to_ary(h),z=null==n[0]?d:n[0],D=null==n[1]?d:n[1],h,D["$=="](0)))!==d&&(!k.$$is_boolean||1==k);)t=this.$Complex(m(q(t.$real(),t.$real()),q(t.$imag(),t.$imag())),q(q(2,t.$real()),t.$imag())),w=z;f=q(f,t);w=m(w,1)}return f}c=this.$polar();g=a.to_ary(c);f=null==g[0]?d:g[0];w=null==g[1]?
d:g[1];c;z=b.$real();D=b.$imag();t=r.get("Math").$exp(m(q(z,r.get("Math").$log(f)),q(D,w)));f=p(q(w,z),q(D,r.get("Math").$log(f)));return r.get("Complex").$polar(t,f)});a.defn(t,"$abs",function(){return r.get("Math").$hypot(this.real,this.imag)});a.defn(t,"$abs2",function(){return p(q(this.real,this.real),q(this.imag,this.imag))});a.defn(t,"$angle",function(){return r.get("Math").$atan2(this.imag,this.real)});a.alias(t,"arg","angle");a.defn(t,"$conj",function(){return this.$Complex(this.real,this.imag["$-@"]())});
a.alias(t,"conjugate","conj");a.defn(t,"$denominator",function(){return this.real.$denominator().$lcm(this.imag.$denominator())});a.alias(t,"divide","/");a.defn(t,"$eql?",function(a){var b,c;return b=(c=r.get("Complex")["$==="](a),!1!==c&&c!==d?this.real.$class()["$=="](this.imag.$class()):c),!1!==b&&b!==d?this["$=="](a):b});a.defn(t,"$fdiv",function(a){var b;((b=r.get("Numeric")["$==="](a))===d||b.$$is_boolean&&1!=b)&&this.$raise(r.get("TypeError"),""+a.$class()+" can't be coerced into Complex");
return e(this,a)});a.defn(t,"$hash",function(){return"Complex:"+this.real+":"+this.imag});a.alias(t,"imaginary","imag");a.defn(t,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(t,"magnitude","abs");a.defn(t,"$numerator",function(){var a=d,a=this.$denominator();return this.$Complex(q(this.real.$numerator(),e(a,this.real.$denominator())),q(this.imag.$numerator(),e(a,this.imag.$denominator())))});a.alias(t,"phase","arg");a.defn(t,"$polar",function(){return[this.$abs(),this.$arg()]});a.alias(t,
"quo","/");a.defn(t,"$rationalize",function(a){var b;1<arguments.length&&this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");(b=this.imag["$!="](0))===d||b.$$is_boolean&&1!=b||this.$raise(r.get("RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)});a.defn(t,"$real?",function(){return!1});a.defn(t,"$rect",function(){return[this.real,this.imag]});a.alias(t,"rectangular","rect");a.defn(t,"$to_f",function(){this.imag["$=="](0)||
this.$raise(r.get("RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()});a.defn(t,"$to_i",function(){this.imag["$=="](0)||this.$raise(r.get("RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()});a.defn(t,"$to_r",function(){this.imag["$=="](0)||this.$raise(r.get("RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()});a.defn(t,"$to_s",function(){var a,b,c,e=d,e=this.real.$inspect(),e=(a=!1!==(b=(c=r.get("Number")["$==="](this.imag),
!1!==c&&c!==d?this.imag["$nan?"]():c))&&b!==d?b:this.imag["$positive?"]())===d||a.$$is_boolean&&1!=a?p(e,"-"):p(e,"+"),e=p(e,this.imag.$abs().$inspect());(a=(b=r.get("Number")["$==="](this.imag),!1!==b&&b!==d?!1!==(c=this.imag["$nan?"]())&&c!==d?c:this.imag["$infinite?"]():b))===d||a.$$is_boolean&&1!=a||(e=p(e,"*"));return p(e,"i")});return a.cdecl(r,"I",t.$new(0,1))})(a.base,a.get("Numeric"));return function(c){c=b(c,"Kernel");var e=c.$$scope;a.defn(c,"$Complex",function(a,b){null==b&&(b=d);return!1!==
b&&b!==d?e.get("Complex").$new(a,b):e.get("Complex").$new(a,0)})}(a.base)};
Opal.modules["corelib/rational"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var d=a.top,c=a.nil,b=a.klass,
B=a.module;a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));d.$require("corelib/numeric");(function(d,$super){function t(){}var n=t=b(d,$super,"Rational",t),r=n.$$proto,l=n.$$scope;r.num=r.den=c;a.defs(n,"$reduce",function(a,b){var d,e=c;a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(l.get("ZeroDivisionError"),
"divided by 0");else if((d=q(b,0))!==c&&(!d.$$is_boolean||1==d))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);e=a.$gcd(b);return this.$new(p(a,e),p(b,e))});a.defs(n,"$convert",function(a,b){var d,e,h;(d=!1!==(e=a["$nil?"]())&&e!==c?e:b["$nil?"]())===c||d.$$is_boolean&&1!=d||this.$raise(l.get("TypeError"),"cannot convert nil into Rational");if((d=(e=l.get("Integer")["$==="](a),!1!==e&&e!==c?l.get("Integer")["$==="](b):e))!==c&&(!d.$$is_boolean||1==d))return this.$reduce(a,b);
(d=!1!==(e=!1!==(h=l.get("Float")["$==="](a))&&h!==c?h:l.get("String")["$==="](a))&&e!==c?e:l.get("Complex")["$==="](a))===c||d.$$is_boolean&&1!=d||(a=a.$to_r());(d=!1!==(e=!1!==(h=l.get("Float")["$==="](b))&&h!==c?h:l.get("String")["$==="](b))&&e!==c?e:l.get("Complex")["$==="](b))===c||d.$$is_boolean&&1!=d||(b=b.$to_r());return(d=(e=b["$equal?"](1),!1!==e&&e!==c?l.get("Integer")["$==="](a)["$!"]():e))===c||d.$$is_boolean&&1!=d?(d=(e=l.get("Numeric")["$==="](a),!1!==e&&e!==c?l.get("Numeric")["$==="](b):
e))===c||d.$$is_boolean&&1!=d?this.$reduce(a,b):p(a,b):l.get("Opal")["$coerce_to!"](a,l.get("Rational"),"to_r")});n.$attr_reader("numerator","denominator");a.defn(n,"$initialize",function(a,b){this.num=a;return this.den=b});a.defn(n,"$numerator",function(){return this.num});a.defn(n,"$denominator",function(){return this.den});a.defn(n,"$coerce",function(a){var b=c,b=a;return l.get("Rational")["$==="](b)?[a,this]:l.get("Integer")["$==="](b)?[a.$to_r(),this]:l.get("Float")["$==="](b)?[a,this.$to_f()]:
c});a.defn(n,"$==",function(a){var b=c,b=a;return l.get("Rational")["$==="](b)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):l.get("Integer")["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):l.get("Float")["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)});a.defn(n,"$<=>",function(a){var b=c,b=a;return l.get("Rational")["$==="](b)?m(e(this.num,a.$denominator()),e(this.den,a.$numerator()))["$<=>"](0):l.get("Integer")["$==="](b)?
m(this.num,e(this.den,a))["$<=>"](0):l.get("Float")["$==="](b)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)});a.defn(n,"$+",function(a){var b=c,d=b=c;b=a;l.get("Rational")["$==="](b)?(b=k(e(this.num,a.$denominator()),e(this.den,a.$numerator())),d=e(this.den,a.$denominator()),a=this.$Rational(b,d)):a=l.get("Integer")["$==="](b)?this.$Rational(k(this.num,e(a,this.den)),this.den):l.get("Float")["$==="](b)?k(this.$to_f(),a):this.$__coerced__("+",a);return a});a.defn(n,"$-",function(a){var b=c,d=
b=c;b=a;l.get("Rational")["$==="](b)?(b=m(e(this.num,a.$denominator()),e(this.den,a.$numerator())),d=e(this.den,a.$denominator()),a=this.$Rational(b,d)):a=l.get("Integer")["$==="](b)?this.$Rational(m(this.num,e(a,this.den)),this.den):l.get("Float")["$==="](b)?m(this.$to_f(),a):this.$__coerced__("-",a);return a});a.defn(n,"$*",function(a){var b=c,d=b=c;b=a;l.get("Rational")["$==="](b)?(b=e(this.num,a.$numerator()),d=e(this.den,a.$denominator()),a=this.$Rational(b,d)):a=l.get("Integer")["$==="](b)?
this.$Rational(e(this.num,a),this.den):l.get("Float")["$==="](b)?e(this.$to_f(),a):this.$__coerced__("*",a);return a});a.defn(n,"$/",function(a){var b=c,d=b=c;b=a;l.get("Rational")["$==="](b)?(b=e(this.num,a.$denominator()),d=e(this.den,a.$numerator()),a=this.$Rational(b,d)):a=l.get("Integer")["$==="](b)?a["$=="](0)?p(this.$to_f(),0):this.$Rational(this.num,e(this.den,a)):l.get("Float")["$==="](b)?p(this.$to_f(),a):this.$__coerced__("/",a);return a});a.defn(n,"$**",function(a){var b,d=c,d=a;return l.get("Integer")["$==="](d)?
(b=this["$=="](0)?q(a,0):this["$=="](0))===c||b.$$is_boolean&&1!=b?(b="number"===typeof a?0<a:a["$>"](0))===c||b.$$is_boolean&&1!=b?(b=q(a,0))===c||b.$$is_boolean&&1!=b?this.$Rational(1,1):this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(this.num["$**"](a),this.den["$**"](a)):l.get("Float").$$scope.get("INFINITY"):l.get("Float")["$==="](d)?this.$to_f()["$**"](a):l.get("Rational")["$==="](d)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?(b=q(a,0))===
c||b.$$is_boolean&&1!=b?this.$Rational(this.num["$**"](a.$numerator()),this.den["$**"](a.$numerator())):this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):(b=this["$=="](0)?q(a,0):this["$=="](0))===c||b.$$is_boolean&&1!=b?this.$to_f()["$**"](a):this.$raise(l.get("ZeroDivisionError"),"divided by 0"):this.$__coerced__("**",a)});a.defn(n,"$abs",function(){return this.$Rational(this.num.$abs(),this.den.$abs())});a.defn(n,"$ceil",function(a){null==a&&(a=0);return a["$=="](0)?
p(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)});a.alias(n,"divide","/");a.defn(n,"$floor",function(a){null==a&&(a=0);return a["$=="](0)?p(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)});a.defn(n,"$hash",function(){return"Rational:"+this.num+":"+this.den});a.defn(n,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(n,"quo","/");a.defn(n,"$rationalize",function(a){1<arguments.length&&this.$raise(l.get("ArgumentError"),"wrong number of arguments ("+
arguments.length+" for 0..1)");if(null==a)return this;for(var b=a.$abs(),d=m(this,b),b=k(this,b),c=0,h=1,f=1,e=0,r,n,q;;){r=d.$ceil();if("number"===typeof r&&"number"===typeof b?r<=b:r["$<="](b))break;q=r-1;r=q*h+c;n=q*e+f;c=p(1,m(b,q));b=p(1,m(d,q));d=c;c=h;f=e;h=r;e=n}return this.$Rational(r*h+c,r*e+f)});a.defn(n,"$round",function(a){var b,d=c,l=c,d=c;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;d=k(e(this.num.$abs(),
2),this.den);l=e(this.den,2);d=p(d,l).$truncate();return(b=q(this.num,0))===c||b.$$is_boolean&&1!=b?d:d["$-@"]()});a.defn(n,"$to_f",function(){return p(this.num,this.den)});a.defn(n,"$to_i",function(){return this.$truncate()});a.defn(n,"$to_r",function(){return this});a.defn(n,"$to_s",function(){return""+this.num+"/"+this.den});a.defn(n,"$truncate",function(a){var b;null==a&&(a=0);return a["$=="](0)?(b=q(this.num,0))===c||b.$$is_boolean&&1!=b?this.$floor():this.$ceil():this.$with_precision("truncate",
a)});return(a.defn(n,"$with_precision",function(a,b){var d,k=c,h=c;((d=l.get("Integer")["$==="](b))===c||d.$$is_boolean&&1!=d)&&this.$raise(l.get("TypeError"),"not an Integer");k=10["$**"](b);h=e(this,k);return(d=q(b,1))===c||d.$$is_boolean&&1!=d?this.$Rational(h.$send(a),k):p(h.$send(a),k).$to_i()}),c)&&"with_precision"})(a.base,a.get("Numeric"));return function(b){b=B(b,"Kernel");var d=b.$$scope;a.defn(b,"$Rational",function(a,b){null==b&&(b=1);return d.get("Rational").$convert(a,b)})}(a.base)};
Opal.modules["corelib/time"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="warning";var k=a.top,d=a.nil,c=a.slice,b=a.klass,B=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
k.$require("corelib/comparable");return function(k,$super){function t(){}function n(a,b,g,c,e,k){a=a.$$is_string?parseInt(a,10):l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int");if(b===d)b=1;else if(!b.$$is_number)if(b["$respond_to?"]("to_str"))switch(b=b.$to_str(),b.toLowerCase()){case "jan":b=1;break;case "feb":b=2;break;case "mar":b=3;break;case "apr":b=4;break;case "may":b=5;break;case "jun":b=6;break;case "jul":b=7;break;case "aug":b=8;break;case "sep":b=9;break;case "oct":b=10;break;
case "nov":b=11;break;case "dec":b=12;break;default:b=b.$to_i()}else b=l.get("Opal")["$coerce_to!"](b,l.get("Integer"),"to_int");(1>b||12<b)&&r.$raise(l.get("ArgumentError"),"month out of range: "+b);--b;g=g===d?1:g.$$is_string?parseInt(g,10):l.get("Opal")["$coerce_to!"](g,l.get("Integer"),"to_int");(1>g||31<g)&&r.$raise(l.get("ArgumentError"),"day out of range: "+g);c=c===d?0:c.$$is_string?parseInt(c,10):l.get("Opal")["$coerce_to!"](c,l.get("Integer"),"to_int");(0>c||24<c)&&r.$raise(l.get("ArgumentError"),
"hour out of range: "+c);e=e===d?0:e.$$is_string?parseInt(e,10):l.get("Opal")["$coerce_to!"](e,l.get("Integer"),"to_int");(0>e||59<e)&&r.$raise(l.get("ArgumentError"),"min out of range: "+e);k===d?k=0:k.$$is_number||(k=k.$$is_string?parseInt(k,10):l.get("Opal")["$coerce_to!"](k,l.get("Integer"),"to_int"));(0>k||60<k)&&r.$raise(l.get("ArgumentError"),"sec out of range: "+k);return[a,b,g,c,e,k]}var r=t=b(k,$super,"Time",t),l=r.$$scope;r.$include(l.get("Comparable"));var g="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
u="Sun Mon Tue Wed Thu Fri Sat".split(" "),A="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),C="January February March April May June July August September October November December".split(" ");a.defs(r,"$at",function(a,b){var g;if(l.get("Time")["$==="](a))return void 0!==b&&this.$raise(l.get("TypeError"),"can't convert Time into an exact number"),g=new Date(a.getTime()),g.is_utc=a.is_utc,g;a.$$is_number||(a=l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int"));if(void 0===b)return new Date(1E3*
a);b.$$is_number||(b=l.get("Opal")["$coerce_to!"](b,l.get("Integer"),"to_int"));return new Date(1E3*a+b/1E3)});a.defs(r,"$new",function(a,b,g,c,e,k,v){null==b&&(b=d);null==g&&(g=d);null==c&&(c=d);null==e&&(e=d);null==k&&(k=d);null==v&&(v=d);if(void 0===a)return new Date;v!==d&&this.$raise(l.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");k=n(a,b,g,c,e,k);a=k[0];b=k[1];g=k[2];c=k[3];e=k[4];k=k[5];b=new Date(a,b,g,c,e,0,1E3*k);100>a&&b.setFullYear(a);return b});
a.defs(r,"$local",function(a,b,g,l,e,k,v,u,r,A){null==b&&(b=d);null==g&&(g=d);null==l&&(l=d);null==e&&(e=d);null==k&&(k=d);null==v&&(v=d);null==u&&(u=d);null==r&&(r=d);null==A&&(A=d);var p;10===arguments.length&&(p=c.call(arguments),a=p[5],b=p[4],g=p[3],l=p[2],e=p[1],k=p[0]);p=n(a,b,g,l,e,k);a=p[0];b=p[1];g=p[2];l=p[3];e=p[4];k=p[5];p=new Date(a,b,g,l,e,0,1E3*k);100>a&&p.setFullYear(a);return p});a.defs(r,"$gm",function(a,b,g,l,e,k,v,u,r,A){null==b&&(b=d);null==g&&(g=d);null==l&&(l=d);null==e&&(e=
d);null==k&&(k=d);null==v&&(v=d);null==u&&(u=d);null==r&&(r=d);null==A&&(A=d);var p;10===arguments.length&&(p=c.call(arguments),a=p[5],b=p[4],g=p[3],l=p[2],e=p[1],k=p[0]);p=n(a,b,g,l,e,k);a=p[0];b=p[1];g=p[2];l=p[3];e=p[4];k=p[5];p=new Date(Date.UTC(a,b,g,l,e,0,1E3*k));100>a&&p.setUTCFullYear(a);p.is_utc=!0;return p});(function(b){a.alias(b,"mktime","local");return a.alias(b,"utc","gm")})(a.get_singleton_class(r));a.defs(r,"$now",function(){return this.$new()});a.defn(r,"$+",function(a){var b;(b=
l.get("Time")["$==="](a))===d||b.$$is_boolean&&1!=b||this.$raise(l.get("TypeError"),"time + time?");a.$$is_number||(a=l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a});a.defn(r,"$-",function(a){var b;if((b=l.get("Time")["$==="](a))!==d&&(!b.$$is_boolean||1==b))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;
return a});a.defn(r,"$<=>",function(a){var b,g=d;return(b=l.get("Time")["$==="](a))===d||b.$$is_boolean&&1!=b?(g=a["$<=>"](this),(b=g["$nil?"]())===d||b.$$is_boolean&&1!=b?(b="number"===typeof g?0<g:g["$>"](0))===d||b.$$is_boolean&&1!=b?(b="number"===typeof g?0>g:g["$<"](0))===d||b.$$is_boolean&&1!=b?0:1:-1:d):this.$to_f()["$<=>"](a.$to_f())});a.defn(r,"$==",function(a){return this.$to_f()===a.$to_f()});a.defn(r,"$asctime",function(){return this.$strftime("%a %b %e %H:%M:%S %Y")});a.alias(r,"ctime",
"asctime");a.defn(r,"$day",function(){return this.is_utc?this.getUTCDate():this.getDate()});a.defn(r,"$yday",function(){var a=d,b=d,g=d,a=l.get("Time").$new(this.$year()).$to_i(),b=l.get("Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),g=86400;return q(p(m(b,a),g).$round(),1)});a.defn(r,"$isdst",function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())});a.alias(r,"dst?","isdst");
a.defn(r,"$dup",function(){var a=d,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a});a.defn(r,"$eql?",function(a){var b;return b=a["$is_a?"](l.get("Time")),!1!==b&&b!==d?this["$<=>"](a)["$zero?"]():b});a.defn(r,"$friday?",function(){return 5==this.$wday()});a.defn(r,"$hash",function(){return"Time:"+this.getTime()});a.defn(r,"$hour",function(){return this.is_utc?this.getUTCHours():this.getHours()});a.defn(r,"$inspect",function(){var a;return(a=this["$utc?"]())===
d||a.$$is_boolean&&1!=a?this.$strftime("%Y-%m-%d %H:%M:%S %z"):this.$strftime("%Y-%m-%d %H:%M:%S UTC")});a.alias(r,"mday","day");a.defn(r,"$min",function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()});a.defn(r,"$mon",function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1});a.defn(r,"$monday?",function(){return 1==this.$wday()});a.alias(r,"month","mon");a.defn(r,"$saturday?",function(){return 6==this.$wday()});a.defn(r,"$sec",function(){return this.is_utc?this.getUTCSeconds():
this.getSeconds()});a.defn(r,"$succ",function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a});a.defn(r,"$usec",function(){return 1E3*this.getMilliseconds()});a.defn(r,"$zone",function(){var a=this.toString(),b;b=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==b&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:b});a.defn(r,"$getgm",function(){var a=new Date(this.getTime());a.is_utc=!0;return a});a.alias(r,"getutc","getgm");a.defn(r,"$gmtime",
function(){this.is_utc=!0;return this});a.alias(r,"utc","gmtime");a.defn(r,"$gmt?",function(){return!0===this.is_utc});a.defn(r,"$gmt_offset",function(){return 60*-this.getTimezoneOffset()});a.defn(r,"$strftime",function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,h,d,c,l){c="";var e=-1!==h.indexOf("0"),k=-1===h.indexOf("-"),r=-1!==h.indexOf("_"),n=-1!==h.indexOf("^"),p=-1!==h.indexOf("#"),q=(h.match(":")||[]).length;d=parseInt(d,10);e&&r&&(h.indexOf("0")<h.indexOf("_")?
e=!1:r=!1);switch(l){case "Y":c+=b.$year();break;case "C":e=!r;c+=Math.round(b.$year()/100);break;case "y":e=!r;c+=b.$year()%100;break;case "m":e=!r;c+=b.$mon();break;case "B":c+=C[b.$mon()-1];break;case "b":case "h":r=!e;c+=A[b.$mon()-1];break;case "d":e=!r;c+=b.$day();break;case "e":r=!e;c+=b.$day();break;case "j":c+=b.$yday();break;case "H":e=!r;c+=b.$hour();break;case "k":r=!e;c+=b.$hour();break;case "I":e=!r;c+=b.$hour()%12||12;break;case "l":r=!e;c+=b.$hour()%12||12;break;case "P":c+=12<=b.$hour()?
"pm":"am";break;case "p":c+=12<=b.$hour()?"PM":"AM";break;case "M":e=!r;c+=b.$min();break;case "S":e=!r;c+=b.$sec();break;case "L":e=!r;d=isNaN(d)?3:d;c+=b.getMilliseconds();break;case "N":d=isNaN(d)?9:d;c+=b.getMilliseconds().toString().$rjust(3,"0");c=c.$ljust(d,"0");break;case "z":a=b.getTimezoneOffset();h=Math.floor(Math.abs(a)/60);l=Math.abs(a)%60;c=c+(0>a?"+":"-")+(10>h?"0":"");c+=h;0<q&&(c+=":");c+=10>l?"0":"";c+=l;1<q&&(c+=":00");break;case "Z":c+=b.$zone();break;case "A":c+=g[b.$wday()];
break;case "a":c+=u[b.$wday()];break;case "u":c+=b.$wday()+1;break;case "w":c+=b.$wday();break;case "V":c+=b.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":c+=b.$cweek_cyear()["$[]"](1);break;case "g":c+=b.$cweek_cyear()["$[]"](1)["$[]"](B(-2,-1,!1));break;case "s":c+=b.$to_i();break;case "n":c+="\n";break;case "t":c+="\t";break;case "%":c+="%";break;case "c":c+=b.$strftime("%a %b %e %T %Y");break;case "D":case "x":c+=b.$strftime("%m/%d/%y");break;case "F":c+=b.$strftime("%Y-%m-%d");
break;case "v":c+=b.$strftime("%e-%^b-%4Y");break;case "r":c+=b.$strftime("%I:%M:%S %p");break;case "R":c+=b.$strftime("%H:%M");break;case "T":case "X":c+=b.$strftime("%H:%M:%S");break;default:return a}n&&(c=c.toUpperCase());p&&(c=c.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));k&&(e||r)&&(c=c.$rjust(isNaN(d)?2:d,r?" ":"0"));return c})});a.defn(r,"$sunday?",function(){return 0==this.$wday()});a.defn(r,"$thursday?",function(){return 4==this.$wday()});
a.defn(r,"$to_a",function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]});a.defn(r,"$to_f",function(){return this.getTime()/1E3});a.defn(r,"$to_i",function(){return parseInt(this.getTime()/1E3,10)});a.alias(r,"to_s","inspect");a.defn(r,"$tuesday?",function(){return 2==this.$wday()});a.alias(r,"tv_sec","sec");a.alias(r,"tv_usec","usec");a.alias(r,"utc?","gmt?");a.alias(r,"gmtoff","gmt_offset");a.alias(r,"utc_offset",
"gmt_offset");a.defn(r,"$wday",function(){return this.is_utc?this.getUTCDay():this.getDay()});a.defn(r,"$wednesday?",function(){return 3==this.$wday()});a.defn(r,"$year",function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()});return(a.defn(r,"$cweek_cyear",function(){var a,b,g=d,c=d,k=c=c=g=d,k=d,g=l.get("Time").$new(this.$year(),1,1),c=g.$wday(),g=this.$year();(a=(b=e(c,4),!1!==b&&b!==d?c["$!="](0):b))===d||a.$$is_boolean&&1!=a?(c=m(m(c,7),1),c["$=="](-8)&&(c=-1)):c=m(c,1);c=p(q(this.$yday(),
c),7).$ceil();if((a=e(c,0))!==d&&(!a.$$is_boolean||1==a))return l.get("Time").$new(m(this.$year(),1),12,31).$cweek_cyear();c["$=="](53)&&(k=l.get("Time").$new(this.$year(),12,31),k=k.$wday(),(a=(b=e(k,3),!1!==b&&b!==d?k["$!="](0):b))===d||a.$$is_boolean&&1!=a||(c=1,g=q(g,1)));return[c,g]}),d)&&"cweek_cyear"}(a.base,Date)};
Opal.modules["corelib/struct"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function m(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="warning";var e=a.top,k=a.nil,d=a.klass,c=a.hash2;a.add_stubs("$require $include $== $[] $upcase $const_set $new $unshift $each $define_struct_attribute $class_eval $to_proc $allocate $initialize $raise $<< $members $define_method $instance_eval $each_with_index $[]= $class $hash $=== $< $-@ $size $>= $coerce_to! $include? $to_sym $instance_of? $__id__ $eql? $enum_for $length $map $+ $join $inspect $each_pair $inject $flatten $to_a".split(" "));
e.$require("corelib/enumerable");return function(b,$super){function e(){}var x=e=d(b,$super,"Struct",e),t=x.$$scope,n,r,l;x.$include(t.get("Enumerable"));a.defs(x,"$new",n=function(b){var c,d,l,h=n.$$p,f=h||k,w=k,r=w=k,r=arguments.length-1;0>r&&(r=0);for(var p=Array(r),w=0;w<r;w++)p[w]=arguments[w+1];n.$$p=null;w=[];for(r=0;r<arguments.length;r++)w[r]=arguments[r];if(!this["$=="](t.get("Struct")))return a.find_super_dispatcher(this,"new",n,h,e).apply(this,w);if(b["$[]"](0)["$=="](b["$[]"](0).$upcase()))return t.get("Struct").$const_set(b,
this.$new.apply(this,a.to_a(p)));p.$unshift(b);return(c=(d=t.get("Class")).$new,c.$$p=(l=function(){var b=l.$$s||this,h,g;(h=p.$each,h.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=k);return b.$define_struct_attribute(a)},g.$$s=b,g),h).call(p);!1!==f&&f!==k&&(h=b.$class_eval,h.$$p=f.$to_proc(),h).call(b);return function(b){a.defn(b,"$new",function(){var b,f=k,f=k,h=arguments.length-0;0>h&&(h=0);for(var g=Array(h),f=0;f<h;f++)g[f]=arguments[f+0];f=this.$allocate();f.$$data={};(b=f).$initialize.apply(b,
a.to_a(g));return f});return a.alias(b,"[]","new")}(a.get_singleton_class(b))},l.$$s=this,l),c).call(d,this)});a.defs(x,"$define_struct_attribute",function(a){var b,c,d;this["$=="](t.get("Struct"))&&this.$raise(t.get("ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);(b=this.$define_method,b.$$p=(c=function(){return(c.$$s||this).$$data[a]},c.$$s=this,c),b).call(this,a);return(b=this.$define_method,b.$$p=(d=function(b){var f=d.$$s||this;null==b&&(b=k);return f.$$data[a]=
b},d.$$s=this,d),b).call(this,""+a+"=")});a.defs(x,"$members",function(){var a;null==this.members&&(this.members=k);this["$=="](t.get("Struct"))&&this.$raise(t.get("ArgumentError"),"the Struct class has no members");return!1!==(a=this.members)&&a!==k?a:this.members=[]});a.defs(x,"$inherited",function(a){var b,c,d=k;null==this.members&&(this.members=k);d=this.members;return(b=a.$instance_eval,b.$$p=(c=function(){return(c.$$s||this).members=d},c.$$s=this,c),b).call(a)});a.defn(x,"$initialize",function(){var a,
b,c,d=k,h=arguments.length-0;0>h&&(h=0);for(var f=Array(h),d=0;d<h;d++)f[d]=arguments[d+0];return(a=(b=this.$members()).$each_with_index,a.$$p=(c=function(a,b){var h=c.$$s||this;null==a&&(a=k);null==b&&(b=k);return h["$[]="](a,f["$[]"](b))},c.$$s=this,c),a).call(b)});a.defn(x,"$members",function(){return this.$class().$members()});a.defn(x,"$hash",function(){return t.get("Hash").$new(this.$$data).$hash()});a.defn(x,"$[]",function(a){var b;(b=t.get("Integer")["$==="](a))===k||b.$$is_boolean&&1!=b?
(b=t.get("String")["$==="](a))===k||b.$$is_boolean&&1!=b?this.$raise(t.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):this.$$data.hasOwnProperty(a)||this.$raise(t.get("NameError").$new("no member '"+a+"' in struct",a)):((b=q(a,this.$members().$size()["$-@"]()))===k||b.$$is_boolean&&1!=b||this.$raise(t.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),(b=p(a,this.$members().$size()))===k||b.$$is_boolean&&1!=b||this.$raise(t.get("IndexError"),
"offset "+a+" too large for struct(size:"+this.$members().$size()+")"),a=this.$members()["$[]"](a));a=t.get("Opal")["$coerce_to!"](a,t.get("String"),"to_str");return this.$$data[a]});a.defn(x,"$[]=",function(a,b){var c;(c=t.get("Integer")["$==="](a))===k||c.$$is_boolean&&1!=c?(c=t.get("String")["$==="](a))===k||c.$$is_boolean&&1!=c?this.$raise(t.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((c=this.$members()["$include?"](a.$to_sym()))===k||c.$$is_boolean&&1!=c)&&this.$raise(t.get("NameError").$new("no member '"+
a+"' in struct",a)):((c=q(a,this.$members().$size()["$-@"]()))===k||c.$$is_boolean&&1!=c||this.$raise(t.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),(c=p(a,this.$members().$size()))===k||c.$$is_boolean&&1!=c||this.$raise(t.get("IndexError"),"offset "+a+" too large for struct(size:"+this.$members().$size()+")"),a=this.$members()["$[]"](a));a=t.get("Opal")["$coerce_to!"](a,t.get("String"),"to_str");return this.$$data[a]=b});a.defn(x,"$==",function(a){function b(a,
g){var c,l,e;d[a.$__id__()]=!0;h[g.$__id__()]=!0;for(c in a.$$data)if(l=a.$$data[c],e=g.$$data[c],t.get("Struct")["$==="](l)){if(!(d.hasOwnProperty(l.$__id__())&&h.hasOwnProperty(e.$__id__())||b(l,e)))return!1}else if(!l["$=="](e))return!1;return!0}var c;if((c=a["$instance_of?"](this.$class()))===k||c.$$is_boolean&&1!=c)return!1;var d={},h={};return b(this,a)});a.defn(x,"$eql?",function(a){function b(a,g){var c,l,e;d[a.$__id__()]=!0;h[g.$__id__()]=!0;for(c in a.$$data)if(l=a.$$data[c],e=g.$$data[c],
t.get("Struct")["$==="](l)){if(!(d.hasOwnProperty(l.$__id__())&&h.hasOwnProperty(e.$__id__())||b(l,e)))return!1}else if(!l["$eql?"](e))return!1;return!0}var c;if((c=a["$instance_of?"](this.$class()))===k||c.$$is_boolean&&1!=c)return!1;var d={},h={};return b(this,a)});a.defn(x,"$each",r=function(){var b,c,d,l,h=r.$$p||k;r.$$p=null;if(h===k)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),b).call(this,"each");(b=(d=this.$members()).$each,b.$$p=(l=function(b){var g=
l.$$s||this,c;null==b&&(b=k);return c=a.yield1(h,g["$[]"](b)),c},l.$$s=this,l),b).call(d);return this});a.defn(x,"$each_pair",l=function(){var b,c,d,e,h=l.$$p||k;l.$$p=null;if(h===k)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),b).call(this,"each_pair");(b=(d=this.$members()).$each,b.$$p=(e=function(b){var g=e.$$s||this,c;null==b&&(b=k);return c=a.yield1(h,[b,g["$[]"](b)]),c},e.$$s=this,e),b).call(d);return this});a.defn(x,"$length",function(){return this.$members().$length()});
a.alias(x,"size","length");a.defn(x,"$to_a",function(){var a,b,c;return(a=(b=this.$members()).$map,a.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=k);return b["$[]"](a)},c.$$s=this,c),a).call(b)});a.alias(x,"values","to_a");a.defn(x,"$inspect",function(){var a,b,c,d=k,d="#<struct ";this.$class()["$=="](t.get("Struct"))&&(d=m(d,""+this.$class()+" "));d=m(d,(a=(b=this.$each_pair()).$map,a.$$p=(c=function(a,b){null==a&&(a=k);null==b&&(b=k);return""+a+"="+b.$inspect()},c.$$s=this,c),a).call(b).$join(", "));
return d=m(d,">")});a.alias(x,"to_s","inspect");a.defn(x,"$to_h",function(){var a,b,d;return(a=(b=this.$members()).$inject,a.$$p=(d=function(a,b){var f=d.$$s||this;null==a&&(a=k);null==b&&(b=k);a["$[]="](b,f["$[]"](b));return a},d.$$s=this,d),a).call(b,c([],{}))});return(a.defn(x,"$values_at",function(){var a,b,c,d=k,h=arguments.length-0;0>h&&(h=0);for(var f=Array(h),d=0;d<h;d++)f[d]=arguments[d+0];f=(a=(b=f).$map,a.$$p=(c=function(a){null==a&&(a=k);return a.$$is_range?a.$to_a():a},c.$$s=this,c),
a).call(b).$flatten();a=[];b=0;for(c=f.length;b<c;b++)f[b].$$is_number||this.$raise(t.get("TypeError"),"no implicit conversion of "+f[b].$class()+" into Integer"),a.push(this["$[]"](f[b]));return a}),k)&&"values_at"}(a.base,null)};
Opal.modules["corelib/io"]=function(a){a.dynamic_require_severity="warning";var q,p,m=a.nil,e=a.klass,k=a.module,d=a.gvars;a.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $extend".split(" "));(function(c,$super){function p(){}var q=p=e(c,$super,"IO",p),x=q.$$proto,t=q.$$scope;x.tty=x.closed=m;a.cdecl(t,"SEEK_SET",0);a.cdecl(t,"SEEK_CUR",1);a.cdecl(t,"SEEK_END",2);a.defn(q,"$tty?",function(){return this.tty});a.defn(q,"$closed?",
function(){return this.closed});q.$attr_accessor("write_proc");a.defn(q,"$write",function(a){this.write_proc(a);return a.$size()});q.$attr_accessor("sync","tty");a.defn(q,"$flush",function(){return m});(function(c){c=k(c,"Writable");a.defn(c,"$<<",function(a){this.$write(a);return this});a.defn(c,"$print",function(){var a,c,g=m;null==d[","]&&(d[","]=m);var e=arguments.length-0;0>e&&(e=0);for(var k=Array(e),g=0;g<e;g++)k[g]=arguments[g+0];this.$write((a=k.$map,a.$$p=(c=function(a){var h=c.$$s||this;
null==a&&(a=m);return h.$String(a)},c.$$s=this,c),a).call(k).$join(d[","]));return m});a.defn(c,"$puts",function(){var a,c,g=m,g=m;null==d["/"]&&(d["/"]=m);var e=arguments.length-0;0>e&&(e=0);for(var k=Array(e),g=0;g<e;g++)k[g]=arguments[g+0];g=d["/"];(a=k["$empty?"]())===m||a.$$is_boolean&&1!=a?this.$write((a=k.$map,a.$$p=(c=function(a){var h=c.$$s||this;null==a&&(a=m);return h.$String(a).$chomp()},c.$$s=this,c),a).call(k).$concat([m]).$join(g)):this.$write(d["/"]);return m})})(t.base);return function(c){c=
k(c,"Readable");var e=c.$$scope;a.defn(c,"$readbyte",function(){return this.$getbyte()});a.defn(c,"$readchar",function(){return this.$getc()});a.defn(c,"$readline",function(a){null==d["/"]&&(d["/"]=m);return this.$raise(e.get("NotImplementedError"))});a.defn(c,"$readpartial",function(a,g){return this.$raise(e.get("NotImplementedError"))})}(t.base)})(a.base,null);a.cdecl(a,"STDERR",d.stderr=a.get("IO").$new());a.cdecl(a,"STDIN",d.stdin=a.get("IO").$new());a.cdecl(a,"STDOUT",d.stdout=a.get("IO").$new());
q=["object"===typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}];p=a.get("STDOUT");p["$write_proc="].apply(p,q);q[q.length-1];q=["object"===typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}];p=a.get("STDERR");p["$write_proc="].apply(p,q);q[q.length-1];a.get("STDOUT").$extend(a.get("IO").$$scope.get("Writable"));return a.get("STDERR").$extend(a.get("IO").$$scope.get("Writable"))};
Opal.modules["corelib/main"]=function(a){a.dynamic_require_severity="warning";var q=a.top,p=a.nil;a.add_stubs(["$include"]);a.defs(q,"$to_s",function(){return"main"});return(a.defs(q,"$include",function(p){return a.get("Object").$include(p)}),p)&&"include"};
Opal.modules["corelib/dir"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.klass;a.add_stubs(["$[]"]);return function(m,$super){function k(){}var d=k=p(m,$super,"Dir",k);return function(c){var b=c.$$scope,d;a.defn(c,"$chdir",d=function(b){var c,k=d.$$p||q,n=q;d.$$p=null;try{return n=a.current_dir,a.current_dir=b,c=a.yieldX(k,[]),c}finally{a.current_dir=n}});a.defn(c,"$pwd",function(){return a.current_dir||"."});a.alias(c,"getwd","pwd");return(a.defn(c,"$home",function(){var a;return!1!==
(a=b.get("ENV")["$[]"]("HOME"))&&a!==q?a:"."}),q)&&"home"}(a.get_singleton_class(d))}(a.base,null)};
Opal.modules["corelib/file"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.klass,m=a.range;a.add_stubs("$join $compact $split $== $first $[]= $home $each $pop $<< $[] $gsub $find $=~".split(" "));return function(e,$super){function d(){}var c=d=p(e,$super,"File",d),b=c.$$scope;a.cdecl(b,"Separator",a.cdecl(b,"SEPARATOR","/"));a.cdecl(b,"ALT_SEPARATOR",q);a.cdecl(b,"PATH_SEPARATOR",":");return function(b){var c=b.$$scope;a.defn(b,"$expand_path",function(a,b){var d,e,l,g=q,u=q;null==
b&&(b=q);a=[b,a].$compact().$join(c.get("SEPARATOR"));g=a.$split(c.get("SEPARATOR"));u=[];if(g.$first()["$=="]("~"))g["$[]="](0,c.get("Dir").$home());(d=(e=g).$each,d.$$p=(l=function(a){null==a&&(a=q);return a["$=="]("..")?u.$pop():u["$<<"](a)},l.$$s=this,l),d).call(e);return u.$join(c.get("SEPARATOR"))});a.alias(b,"realpath","expand_path");a.defn(b,"$dirname",function(a){return this.$split(a)["$[]"](m(0,-2,!1))});a.defn(b,"$basename",function(a){return this.$split(a)["$[]"](-1)});a.defn(b,"$exist?",
function(b){return null!=a.modules[b]});a.alias(b,"exists?","exist?");a.defn(b,"$directory?",function(b){var d,e,r,l=q,l=q,l=[],g;for(g in a.modules)l.push(g);b=b.$gsub(new RegExp("(^."+c.get("SEPARATOR")+"+|"+c.get("SEPARATOR")+"+$)"));return l=(d=(e=l).$find,d.$$p=(r=function(a){null==a&&(a=q);return a["$=~"](new RegExp("^"+b))},r.$$s=this,r),d).call(e)});a.defn(b,"$join",function(){var a=q,b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),a=0;a<b;a++)d[a]=arguments[a+0];return d.$join(c.get("SEPARATOR")).$gsub(new RegExp(""+
c.get("SEPARATOR")+"+"),c.get("SEPARATOR"))});return(a.defn(b,"$split",function(a){return a.$split(c.get("SEPARATOR"))}),q)&&"split"}(a.get_singleton_class(c))}(a.base,a.get("IO"))};
Opal.modules["corelib/process"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,p=a.klass;a.add_stubs(["$to_f","$now","$new"]);(function(m,$super){function k(){}var d=k=p(m,$super,"Process",k),c=d.$$scope;a.cdecl(c,"CLOCK_REALTIME",0);a.cdecl(c,"CLOCK_MONOTONIC",1);a.defs(d,"$pid",function(){return 0});a.defs(d,"$times",function(){var a=q,a=c.get("Time").$now().$to_f();return c.get("Benchmark").$$scope.get("Tms").$new(a,a,a,a,a)});return(a.defs(d,"$clock_gettime",function(a,d){return c.get("Time").$now().$to_f()}),
q)&&"clock_gettime"})(a.base,null);(function(m,$super){function k(){}var d=k=p(m,$super,"Signal",k);return(a.defs(d,"$trap",function(){return q}),q)&&"trap"})(a.base,null);return function(m,$super){function k(){}var d=k=p(m,$super,"GC",k);return(a.defs(d,"$start",function(){return q}),q)&&"start"}(a.base,null)};
Opal.modules["corelib/unsupported"]=function(a){function q(a){d[a]||(d[a]=!0,p.$warn(a))}a.dynamic_require_severity="warning";var p=a.top,m=a.nil,e=a.klass,k=a.module;a.add_stubs(["$warn","$raise","$%","$module_function"]);var d={};(function(c,$super){function d(){}var k=d=e(c,$super,"String",d),p=k.$$scope;a.defn(k,"$<<",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))});a.defn(k,"$capitalize!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))});a.defn(k,"$chomp!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))});a.defn(k,"$chop!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))});a.defn(k,"$downcase!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))});a.defn(k,"$gsub!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))});a.defn(k,"$lstrip!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))});a.defn(k,"$next!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))});a.defn(k,"$reverse!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))});a.defn(k,"$slice!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))});a.defn(k,"$squeeze!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))});a.defn(k,"$strip!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))});a.defn(k,"$sub!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))});a.defn(k,"$succ!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))});a.defn(k,"$swapcase!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))});a.defn(k,"$tr!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))});a.defn(k,"$tr_s!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))});return(a.defn(k,"$upcase!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))}),m)&&"upcase!"})(a.base,null);(function(c){c=k(c,"Kernel");var b=c.$$scope;a.defn(c,"$freeze",function(){!0===m?this.$raise(b.get("NotImplementedError"),"Object freezing is not supported by Opal"):q("Object freezing is not supported by Opal");
return this});a.defn(c,"$frozen?",function(){!0===m?this.$raise(b.get("NotImplementedError"),"Object freezing is not supported by Opal"):q("Object freezing is not supported by Opal");return!1})})(a.base);(function(c){c=k(c,"Kernel");var b=c.$$scope;a.defn(c,"$taint",function(){!0===m?this.$raise(b.get("NotImplementedError"),"Object tainting is not supported by Opal"):q("Object tainting is not supported by Opal");return this});a.defn(c,"$untaint",function(){!0===m?this.$raise(b.get("NotImplementedError"),
"Object tainting is not supported by Opal"):q("Object tainting is not supported by Opal");return this});a.defn(c,"$tainted?",function(){!0===m?this.$raise(b.get("NotImplementedError"),"Object tainting is not supported by Opal"):q("Object tainting is not supported by Opal");return!1})})(a.base);(function(c){c=k(c,"Marshal");var b=c.$$scope;c.$module_function();a.defn(c,"$dump",function(){return this.$raise(b.get("NotImplementedError"),"Marshalling is not supported by Opal")});a.defn(c,"$load",function(){return this.$raise(b.get("NotImplementedError"),
"Marshalling is not supported by Opal")});a.defn(c,"$restore",function(){return this.$raise(b.get("NotImplementedError"),"Marshalling is not supported by Opal")})})(a.base);(function(c,$super){function d(){}var k=d=e(c,$super,"Module",d);a.defn(k,"$public",function(){var a=m,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),a=0;a<c;a++)d[a]=arguments[a+0];0===d.length&&(this.$$module_function=!1);return m});a.alias(k,"private","public");a.alias(k,"protected","public");a.alias(k,"nesting","public");
a.defn(k,"$private_class_method",function(){return this});a.alias(k,"public_class_method","private_class_method");a.defn(k,"$private_method_defined?",function(a){return!1});a.defn(k,"$private_constant",function(){return m});a.alias(k,"protected_method_defined?","private_method_defined?");a.alias(k,"public_instance_methods","instance_methods");return a.alias(k,"public_method_defined?","method_defined?")})(a.base,null);(function(c){c=k(c,"Kernel");a.defn(c,"$private_methods",function(){return[]});a.alias(c,
"private_instance_methods","private_methods")})(a.base);return function(c){c=k(c,"Kernel");var b=c.$$scope;a.defn(c,"$eval",function(){return this.$raise(b.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+b.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))})}(a.base)};
(function(a){a.dynamic_require_severity="warning";var q=a.top;a.add_stubs(["$require"]);q.$require("opal/base");q.$require("opal/mini");q.$require("corelib/array/inheritance");q.$require("corelib/string/inheritance");q.$require("corelib/string/encoding");q.$require("corelib/math");q.$require("corelib/complex");q.$require("corelib/rational");q.$require("corelib/time");q.$require("corelib/struct");q.$require("corelib/io");q.$require("corelib/main");q.$require("corelib/dir");q.$require("corelib/file");
q.$require("corelib/process");return q.$require("corelib/unsupported")})(Opal);
Opal.modules.set=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="ignore";var m=a.nil,e=a.breaker,k=a.klass,d=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));(function(c,
$super){function d(){}var y=d=k(c,$super,"Set",d),x=y.$$scope,t,n,r,l,g;y.$$proto.hash=m;y.$include(x.get("Enumerable"));a.defs(y,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var g=Array(a),c=0;c<a;c++)g[c]=arguments[c+0];return this.$new(g)});a.defn(y,"$initialize",t=function(a){var g,c,h,f=t.$$p||m;null==a&&(a=m);t.$$p=null;this.hash=x.get("Hash").$new();if((g=a["$nil?"]())!==m&&(!g.$$is_boolean||1==g))return m;((g=x.get("Enumerable")["$==="](a))===m||g.$$is_boolean&&1!=g)&&this.$raise(x.get("ArgumentError"),
"value must be enumerable");return!1!==f&&f!==m?(g=(c=a).$each,g.$$p=(h=function(a){var g=h.$$s||this;null==a&&(a=m);return g.$add(f.$call(a))},h.$$s=this,h),g).call(c):this.$merge(a)});a.defn(y,"$dup",function(){var a=m,a=this.$class().$new();return a.$merge(this)});a.defn(y,"$-",function(a){var g;((g=a["$respond_to?"]("each"))===m||g.$$is_boolean&&1!=g)&&this.$raise(x.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)});a.alias(y,"difference","-");a.defn(y,"$inspect",
function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"});a.defn(y,"$==",function(a){var g,c,h;return(g=this["$equal?"](a))===m||g.$$is_boolean&&1!=g?(g=a["$instance_of?"](this.$class()))===m||g.$$is_boolean&&1!=g?(g=(c=a["$is_a?"](x.get("Set")),!1!==c&&c!==m?this.$size()["$=="](a.$size()):c))===m||g.$$is_boolean&&1!=g?!1:(g=(c=a)["$all?"],g.$$p=(h=function(a){var g=h.$$s||this;null==g.hash&&(g.hash=m);null==a&&(a=m);return g.hash["$include?"](a)},h.$$s=this,h),g).call(c):this.hash["$=="](a.$instance_variable_get("@hash")):
!0});a.defn(y,"$add",function(a){this.hash["$[]="](a,!0);return this});a.alias(y,"<<","add");a.defn(y,"$classify",n=function(){var g,c,d,h,f=n.$$p||m,l=m;n.$$p=null;if(f===m)return this.$enum_for("classify");l=(g=(c=x.get("Hash")).$new,g.$$p=(d=function(a,f){var h=d.$$s||this;null==a&&(a=m);null==f&&(f=m);return a["$[]="](f,h.$class().$new())},d.$$s=this,d),g).call(c);(g=this.$each,g.$$p=(h=function(h){var g;null==h&&(h=m);return l["$[]"]((g=a.yield1(f,h))===e?e.$v:g).$add(h)},h.$$s=this,h),g).call(this);
return l});a.defn(y,"$collect!",r=function(){var g,c,d=r.$$p||m,h=m;r.$$p=null;if(d===m)return this.$enum_for("collect!");h=this.$class().$new();(g=this.$each,g.$$p=(c=function(f){var g;null==f&&(f=m);return h["$<<"]((g=a.yield1(d,f))===e?e.$v:g)},c.$$s=this,c),g).call(this);return this.$replace(h)});a.alias(y,"map!","collect!");a.defn(y,"$delete",function(a){this.hash.$delete(a);return this});a.defn(y,"$delete?",function(a){var g;if((g=this["$include?"](a))===m||g.$$is_boolean&&1!=g)return m;this.$delete(a);
return this});a.defn(y,"$delete_if",l=function(){try{var g,c,d,h,f,e=l.$$p||m;l.$$p=null;!1!==(g=e!==m)&&g!==m?g:a.ret(this.$enum_for("delete_if"));(g=(c=(h=this.$select,h.$$p=(f=function(f){var h;null==f&&(f=m);return h=a.yield1(e,f),h},f.$$s=this,f),h).call(this)).$each,g.$$p=(d=function(a){var f=d.$$s||this;null==f.hash&&(f.hash=m);null==a&&(a=m);return f.hash.$delete(a)},d.$$s=this,d),g).call(c);return this}catch(k){if(k===a.returner)return k.$v;throw k;}});a.defn(y,"$add?",function(a){var g;
return(g=this["$include?"](a))===m||g.$$is_boolean&&1!=g?this.$add(a):m});a.defn(y,"$each",g=function(){var a,c,d=g.$$p||m;g.$$p=null;if(d===m)return this.$enum_for("each");(a=(c=this.hash).$each_key,a.$$p=d.$to_proc(),a).call(c);return this});a.defn(y,"$empty?",function(){return this.hash["$empty?"]()});a.defn(y,"$eql?",function(a){var g,c;return this.hash["$eql?"]((g=a.$instance_eval,g.$$p=(c=function(){var a=c.$$s||this;null==a.hash&&(a.hash=m);return a.hash},c.$$s=this,c),g).call(a))});a.defn(y,
"$clear",function(){this.hash.$clear();return this});a.defn(y,"$include?",function(a){return this.hash["$include?"](a)});a.alias(y,"member?","include?");a.defn(y,"$merge",function(a){var g,c;(g=a.$each,g.$$p=(c=function(a){var f=c.$$s||this;null==a&&(a=m);return f.$add(a)},c.$$s=this,c),g).call(a);return this});a.defn(y,"$replace",function(a){this.$clear();this.$merge(a);return this});a.defn(y,"$size",function(){return this.hash.$size()});a.alias(y,"length","size");a.defn(y,"$subtract",function(a){var g,
c;(g=a.$each,g.$$p=(c=function(a){var f=c.$$s||this;null==a&&(a=m);return f.$delete(a)},c.$$s=this,c),g).call(a);return this});a.defn(y,"$|",function(a){var g;((g=a["$respond_to?"]("each"))===m||g.$$is_boolean&&1!=g)&&this.$raise(x.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)});a.defn(y,"$superset?",function(a){var g,c;!1!==(g=a["$is_a?"](x.get("Set")))&&g!==m?g:this.$raise(x.get("ArgumentError"),"value must be a set");return q(this.$size(),a.$size())?!1:(g=a["$all?"],
g.$$p=(c=function(a){var f=c.$$s||this;null==a&&(a=m);return f["$include?"](a)},c.$$s=this,c),g).call(a)});a.alias(y,">=","superset?");a.defn(y,"$proper_superset?",function(a){var g,c;!1!==(g=a["$is_a?"](x.get("Set")))&&g!==m?g:this.$raise(x.get("ArgumentError"),"value must be a set");return p(this.$size(),a.$size())?!1:(g=a["$all?"],g.$$p=(c=function(a){var f=c.$$s||this;null==a&&(a=m);return f["$include?"](a)},c.$$s=this,c),g).call(a)});a.alias(y,">","proper_superset?");a.defn(y,"$subset?",function(a){var g,
c;!1!==(g=a["$is_a?"](x.get("Set")))&&g!==m?g:this.$raise(x.get("ArgumentError"),"value must be a set");return q(a.$size(),this.$size())?!1:(g=this["$all?"],g.$$p=(c=function(h){null==h&&(h=m);return a["$include?"](h)},c.$$s=this,c),g).call(this)});a.alias(y,"<=","subset?");a.defn(y,"$proper_subset?",function(a){var g,c;!1!==(g=a["$is_a?"](x.get("Set")))&&g!==m?g:this.$raise(x.get("ArgumentError"),"value must be a set");return p(a.$size(),this.$size())?!1:(g=this["$all?"],g.$$p=(c=function(h){null==
h&&(h=m);return a["$include?"](h)},c.$$s=this,c),g).call(this)});a.alias(y,"<","proper_subset?");a.alias(y,"+","|");a.alias(y,"union","|");return(a.defn(y,"$to_a",function(){return this.hash.$keys()}),m)&&"to_a"})(a.base,null);return function(c){c=d(c,"Enumerable");var b=c.$$scope,e;a.defn(c,"$to_set",e=function(c){var d,k,n=e.$$p||m,r=arguments.length-1;0>r&&(r=0);for(var l=Array(r),g=0;g<r;g++)l[g]=arguments[g+1];null==c&&(c=b.get("Set"));e.$$p=null;return(d=(k=c).$new,d.$$p=n.$to_proc(),d).apply(k,
[this].concat(a.to_a(l)))})}(a.base)};
Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var q=a.nil,p=a.klass;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $private".split(" "));return function(m,$super){function k(){}var d=k=p(m,$super,"StringScanner",k),c=d.$$proto;c.pos=c.string=c.working=c.matched=c.prev_pos=c.match=q;d.$attr_reader("pos");d.$attr_reader("matched");a.defn(d,"$initialize",function(a){this.string=a;this.pos=0;this.matched=q;this.working=a;return this.match=[]});d.$attr_reader("string");
a.defn(d,"$beginning_of_line?",function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)});a.alias(d,"bol?","beginning_of_line?");a.defn(d,"$scan",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=q:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):q});a.defn(d,"$scan_until",
function(a){a=this.$anchor(a);for(var c=this.pos,d=this.working,k;;)if(k=a.exec(d),c+=1,d=d.substr(1),null==k){if(0===d.length)return this.matched=q}else return this.matched=this.string.substr(this.pos,c-this.pos-1+k[0].length),this.prev_pos=c-1,this.pos=c,this.working=d.substr(k[0].length),this.matched});a.defn(d,"$[]",function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?q:c[a]});a.defn(d,"$check",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?
this.matched=q:this.matched=a[0]});a.defn(d,"$check_until",function(a){var c=this.prev_pos,d=this.pos;a=this.$scan_until(a);a!==q&&(this.matched=a.substr(-1),this.working=this.string.substr(d));this.prev_pos=c;this.pos=d;return a});a.defn(d,"$peek",function(a){return this.working.substring(0,a)});a.defn(d,"$eos?",function(){return 0===this.working.length});a.defn(d,"$exist?",function(a){a=a.exec(this.working);return null==a?q:0==a.index?0:a.index+1});a.defn(d,"$skip",function(a){a=this.$anchor(a);
a=a.exec(this.working);if(null==a)return this.matched=q;a=a[0];var c=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c});a.defn(d,"$skip_until",function(a){a=this.$scan_until(a);if(a===q)return q;this.matched=a.substr(-1);return a.length});a.defn(d,"$get_byte",function(){var a=q;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=q;return a});
a.alias(d,"getch","get_byte");a.defn(d,"$match?",function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return q;this.prev_pos=this.pos;return a[0].length});a.defn(d,"$pos=",function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)});a.defn(d,"$post_match",function(){return this.matched===q?q:this.string.substr(this.pos)});a.defn(d,"$pre_match",function(){return this.matched===q?q:this.string.substr(0,this.prev_pos)});a.defn(d,"$reset",function(){this.working=
this.string;this.matched=q;return this.pos=0});a.defn(d,"$rest",function(){return this.working});a.defn(d,"$rest?",function(){return 0!==this.working.length});a.defn(d,"$rest_size",function(){return this.$rest().$size()});a.defn(d,"$terminate",function(){var a;this.match=q;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]});a.defn(d,"$unscan",function(){this.pos=this.prev_pos;this.match=this.prev_pos=q;return this});d.$private();return(a.defn(d,"$anchor",function(a){return new RegExp("^"+
a.toString().substr(1,a.toString().length-2))}),q)&&"anchor"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/file"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var p=a.nil,m=a.breaker,e=a.module,k=a.klass,d=a.gvars,c=a.range;a.add_stubs("$new $attr_reader $read $size $to_enum $chomp $each_line $* $rindex $[] $+ $- $nil_or_empty? $nil? $===".split(" "));(function(b){b=e(b,"Kernel");var c=b.$$scope,d;a.defn(b,"$open",d=function(b){var e,k,r=d.$$p||p,l=p,l=arguments.length-1;0>l&&(l=0);for(var g=
Array(l),u=0;u<l;u++)g[u]=arguments[u+1];d.$$p=null;l=(e=c.get("File")).$new.apply(e,[b].concat(a.to_a(g)));return r!==p?(k=a.yield1(r,l),k):l})})(a.base);(function(b,$super){function e(){}var x=e=k(b,$super,"File",e),t=x.$$proto,n=x.$$scope,r;t.eof=t.path=p;a.cdecl(n,"SEPARATOR","/");a.cdecl(n,"ALT_SEPARATOR",p);x.$attr_reader("eof");x.$attr_reader("lineno");x.$attr_reader("path");a.defn(x,"$initialize",function(a,b){this.path=a;this.contents=p;this.eof=!1;return this.lineno=0});a.defn(x,"$read",
function(){var a,b=p;return(a=this.eof)===p||a.$$is_boolean&&1!=a?(b=n.get("File").$read(this.path),this.eof=!0,this.lineno=b.$size(),b):""});a.defn(x,"$each_line",r=function(b){var g,c=r.$$p||p,e=p;null==d["/"]&&(d["/"]=p);null==b&&(b=d["/"]);r.$$p=null;if((g=this.eof)!==p&&(!g.$$is_boolean||1==g))return c!==p?this:[].$to_enum();if(c!==p){e=n.get("File").$read(this.path);this.eof=!1;this.lineno=0;for(var k=e.$chomp(),e=e.length!=k.length,k=k.split(b),h=0,f=k.length;h<f;h++)this.lineno+=1,h<f-1||
e?(g=a.yield1(c,k[h]+b))===m?m.$v:g:(g=a.yield1(c,k[h]))===m?m.$v:g;this.eof=!0;return this}return this.$read().$each_line()});a.defs(x,"$expand_path",function(a){return a});a.defs(x,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];a=n.get("SEPARATOR");return"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)});a.defs(x,"$basename",function(a){var b,d=p;return(b=d=a.$rindex(n.get("SEPARATOR")))===p||b.$$is_boolean&&1!=b?a:a["$[]"](c(q(d,
1),-1,!1))});a.defs(x,"$dirname",function(a){var b,d=p;return(b=d=a.$rindex(n.get("SEPARATOR")))===p||b.$$is_boolean&&1!=b?".":a["$[]"](c(0,"number"===typeof d?d-1:d["$-"](1),!1))});a.defs(x,"$extname",function(a){var b,d=p;if((b=a["$nil_or_empty?"]())!==p&&(!b.$$is_boolean||1==b))return"";d=a["$[]"](c(1,-1,!1)).$rindex(".");return(b=d["$nil?"]())===p||b.$$is_boolean&&1!=b?a["$[]"](c(q(d,1),-1,!1)):""});a.defs(x,"$file?",function(a){return!0});a.defs(x,"$readable?",function(a){return!0});return(a.defs(x,
"$read",function(a){var b=p;return function(){b=n.get("JAVASCRIPT_PLATFORM");if("node"["$==="](b))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](b)){var c=Java.type("java.nio.file.Paths"),d=[];Java.type("java.nio.file.Files").readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){d.push(a)});return d.join("\n")}if("browser"["$==="](b)){var d="",e=-1;try{c=new XMLHttpRequest,c.open("GET",a,!1),c.addEventListener("load",function(){e=this.status;
if(0==e||200==e)d=this.responseText}),c.overrideMimeType("text/plain"),c.send()}catch(h){e=0}if(404==e||0==e&&""==d)throw n.get("IOError").$new("No such file or directory: "+a);return d}return"standalone"["$==="](b)?read(a):""}()}),p)&&"read"})(a.base,null);return function(b,$super){function c(){}var d=c=k(b,$super,"IO",c),e=d.$$scope;return(a.defs(d,"$read",function(a){return e.get("File").$read(a)}),p)&&"read"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,p=a.klass;a.add_stubs(["$[]="]);return function(m,$super){function k(){}var d=k=p(m,$super,"MatchData",k);d.$$proto.matches=q;return(a.defn(d,"$[]=",function(a,b){return this.matches["$[]="](a,b)}),q)&&"[]="}(a.base,null)};Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,p=a.module;return function(m){m=p(m,"Kernel");a.defn(m,"$freeze",function(){return q})}(a.base)};
Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){a.dynamic_require_severity="ignore";var q;q=a.nil;var p=a.gvars;null==p.stdout&&(p.stdout=q);null==p.stderr&&(p.stderr=q);a.add_stubs(["$write_proc="]);a=[function(a){print(a)}];q=p.stdout;q["$write_proc="].apply(q,a);a[a.length-1];return a=[function(a){print(a)}],q=p.stderr,q["$write_proc="].apply(q,a),a[a.length-1]};
Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var q=a.top,p=a.nil,m=p;a.add_stubs(["$require","$==="]);var m="undefined"!==typeof window,e="undefined"!==typeof Java&&Java.type,k="undefined"!==typeof java;a.cdecl(a,"JAVASCRIPT_PLATFORM","undefined"!==typeof module&&module.exports&&!m?"node":m?"browser":e?"java-nashorn":k?"java-rhino":"standalone");q.$require("strscan");q.$require("asciidoctor/opal_ext/file");q.$require("asciidoctor/opal_ext/match_data");q.$require("asciidoctor/opal_ext/kernel");
m=a.get("JAVASCRIPT_PLATFORM");a="java-nashorn"["$==="](m)?q.$require("asciidoctor/opal_ext/nashorn/io"):p;return a};Opal.modules["asciidoctor/version"]=function(a){a.dynamic_require_severity="ignore";var q=a.module,q=q(a.base,"Asciidoctor").$$scope;a.cdecl(q,"VERSION","1.5.4")};
Opal.modules["asciidoctor/timings"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var e=a.nil,k=a.module,d=a.klass,c=a.hash2,b=a.gvars;a.add_stubs("$[]= $now $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(B){(function(k,
$super){function t(){}var n=t=d(k,$super,"Timings",t),r=n.$$proto;r.timers=r.log=e;a.defn(n,"$initialize",function(){this.log=c([],{});return this.timers=c([],{})});a.defn(n,"$start",function(b){return this.timers["$[]="](b,a.get("Time").$now())});a.defn(n,"$record",function(b){return this.log["$[]="](b,q(a.get("Time").$now(),this.timers.$delete(b)))});a.defn(n,"$read_parse",function(){var a,b=e;return p(b=m(!1!==(a=this.log["$[]"]("read"))&&a!==e?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==e?a:0),
0)?b:e});a.defn(n,"$convert",function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==e?a:0});a.defn(n,"$read_parse_convert",function(){var a,b=e;return p(b=m(m(!1!==(a=this.log["$[]"]("read"))&&a!==e?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==e?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==e?a:0),0)?b:e});a.defn(n,"$total",function(){var a,b=e;return p(b=m(m(m(!1!==(a=this.log["$[]"]("read"))&&a!==e?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==e?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==
e?a:0),!1!==(a=this.log["$[]"]("write"))&&a!==e?a:0),0)?b:e});return(a.defn(n,"$print_report",function(a,g){null==b.stdout&&(b.stdout=e);null==a&&(a=b.stdout);null==g&&(g=e);!1!==g&&g!==e&&a.$puts("Input file: "+g);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))}),e)&&"print_report"})(k(B,
"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/core_ext/object/nil_or_empty"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,p=a.klass;a.add_stubs(["$respond_to?"]);(function(m,$super){function k(){}var d=k=p(m,$super,"NilClass",k),c;return(c=d["$respond_to?"]("nil_or_empty?"))===q||c.$$is_boolean&&1!=c?a.alias(d,"nil_or_empty?","nil?"):q})(a.base,null);(function(m,$super){function k(){}var d=k=p(m,$super,"String",k),c;return(c=d["$respond_to?"]("nil_or_empty?"))===q||c.$$is_boolean&&1!=c?a.alias(d,"nil_or_empty?",
"empty?"):q})(a.base,null);(function(m,$super){function k(){}var d=k=p(m,$super,"Array",k),c;return(c=d["$respond_to?"]("nil_or_empty?"))===q||c.$$is_boolean&&1!=c?a.alias(d,"nil_or_empty?","empty?"):q})(a.base,null);(function(m,$super){function k(){}var d=k=p(m,$super,"Hash",k),c;return(c=d["$respond_to?"]("nil_or_empty?"))===q||c.$$is_boolean&&1!=c?a.alias(d,"nil_or_empty?","empty?"):q})(a.base,null);return function(m,$super){function k(){}var d=k=p(m,$super,"Numeric",k),c;return(c=d["$respond_to?"]("nil_or_empty?"))===
q||c.$$is_boolean&&1!=c?a.alias(d,"nil_or_empty?","nil?"):q}(a.base,null)};Opal.modules["asciidoctor/core_ext"]=function(a){a.dynamic_require_severity="ignore";var q=a.top,p=a.nil;a.add_stubs(["$require","$=="]);q.$require("asciidoctor/core_ext/object/nil_or_empty");if(a.get("RUBY_ENGINE")["$=="]("opal"))return p};
Opal.modules["asciidoctor/helpers"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,p=a.module,m=a.range,e=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $rstrip $lines $encode $force_encoding $join $[]= $encoding $nil_or_empty? $each_line $include? $=~ $gsub $sprintf $each_byte $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));return function(k){(function(d){d=
p(d,"Helpers");var c=d.$$scope;a.defs(d,"$require_library",function(b,c,d){var e=q,k=q;null==c&&(c=!0);null==d&&(d="abort");try{return this.$require(b)}catch(n){if(a.rescue(n,[a.get("LoadError")])){e=n;try{if(!1!==c&&c!==q)return c["$=="](!0)&&(c=b),k=d,"abort"["$==="](k)?this.$fail("asciidoctor: FAILED: required gem '"+c+"' is not installed. Processing aborted."):"warn"["$==="](k)?this.$warn("asciidoctor: WARNING: optional gem '"+c+"' is not installed. Functionality disabled."):q;k=d;return"abort"["$==="](k)?
this.$fail("asciidoctor: FAILED: "+e.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](k)?this.$warn("asciidoctor: WARNING: "+e.$message().$chomp(".")+". Functionality disabled."):q}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw n;}});a.defs(d,"$normalize_lines",function(b){return b.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(b):this.$normalize_lines_array(b)});a.defs(d,"$normalize_lines_array",function(b){var d,e,k,p,n,r,l=q,g=q,u=q,A=q;if((d=b["$empty?"]())!==
q&&(!d.$$is_boolean||1==d))return[];l=(g=b["$[]"](0))["$[]"](m(0,2,!1)).$bytes().$to_a();if((d=c.get("COERCE_ENCODING"))===q||d.$$is_boolean&&1!=d){if(l["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,g["$[]"](m(3,-1,!1)));return(d=b.$map,d.$$p=(r=function(a){null==a&&(a=q);return a.$rstrip()},r.$$s=this,r),d).call(b)}u=a.get("Encoding").$$scope.get("UTF_8");if((A=l["$[]"](m(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE")))return(d=(e=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](m(1,
-1,!1)).$encode(u).$lines()).$map,d.$$p=(k=function(a){null==a&&(a=q);return a.$rstrip()},k.$$s=this,k),d).call(e);if(A["$=="](c.get("BOM_BYTES_UTF_16BE")))return b["$[]="](0,g.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](m(1,-1,!1))),(d=b.$map,d.$$p=(p=function(b){null==b&&(b=q);return""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(u).$rstrip()},p.$$s=this,p),d).call(b);if(l["$[]"](m(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,g.$force_encoding(u)["$[]"](m(1,
-1,!1)));return(d=b.$map,d.$$p=(n=function(a){null==a&&(a=q);return a.$encoding()["$=="](u)?a.$rstrip():a.$force_encoding(u).$rstrip()},n.$$s=this,n),d).call(b)});a.defs(d,"$normalize_lines_from_string",function(b){var d,e,k,p=q,n=q,r=q;if((d=b["$nil_or_empty?"]())!==q&&(!d.$$is_boolean||1==d))return[];(d=c.get("COERCE_ENCODING"))===q||d.$$is_boolean&&1!=d?b["$[]"](m(0,2,!1)).$bytes().$to_a()["$=="](c.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](m(3,-1,!1))):(p=a.get("Encoding").$$scope.get("UTF_8"),n=b["$[]"](m(0,
2,!1)).$bytes().$to_a(),(r=n["$[]"](m(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](m(1,-1,!1)).$encode(p):r["$=="](c.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](m(1,-1,!1)).$encode(p):n["$[]"](m(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8"))?b=b.$encoding()["$=="](p)?b["$[]"](m(1,-1,!1)):b.$force_encoding(p)["$[]"](m(1,-1,!1)):b.$encoding()["$=="](p)||(b=b.$force_encoding(p)));return(d=
(e=b.$each_line()).$map,d.$$p=(k=function(a){null==a&&(a=q);return a.$rstrip()},k.$$s=this,k),d).call(e)});a.defs(d,"$uriish?",function(a){var d;return d=a["$include?"](":"),!1!==d&&d!==q?a["$=~"](c.get("UriSniffRx")):d});a.defs(d,"$uri_prefix",function(a){var d,k;return(d=(k=a["$include?"](":"),!1!==k&&k!==q?a["$=~"](c.get("UriSniffRx")):k))===q||d.$$is_boolean&&1!=d?q:(d=e["~"])===q?q:d["$[]"](0)});a.cdecl(c,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(d,"$encode_uri",function(a){var d,
k;return(d=a.$gsub,d.$$p=(k=function(){var a=k.$$s||this,b,c,d,l;return(b=(c=((l=e["~"])===q?q:l["$[]"](0)).$each_byte()).$map,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=q);return b.$sprintf("%%%02X",a)},d.$$s=a,d),b).call(c).$join()},k.$$s=this,k),d).call(a,c.get("REGEXP_ENCODE_URI_CHARS"))});a.defs(d,"$rootname",function(b){var c,d=q;return(c=(d=a.get("File").$extname(b))["$empty?"]())===q||c.$$is_boolean&&1!=c?b["$[]"](m(0,d.$length()["$-@"](),!0)):b});a.defs(d,"$basename",function(b,c){var d;
null==c&&(c=!1);return!1!==c&&c!==q?a.get("File").$basename(b,!1!==(d=a.get("File").$extname(b))&&d!==q?d:""):a.get("File").$basename(b)});a.defs(d,"$mkdir_p",function(b){var c,d,e=q;return(c=a.get("File")["$directory?"](b))===q||c.$$is_boolean&&1!=c?(e=a.get("File").$dirname(b),(c=(d=a.get("File")["$directory?"](e=a.get("File").$dirname(b))["$!"](),!1!==d&&d!==q?e["$!="]("."):d))===q||c.$$is_boolean&&1!=c||this.$mkdir_p(e),a.get("Dir").$mkdir(b)):q})})(p(k,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/substitutors"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var k=a.nil,d=a.breaker,c=a.slice,b=a.module,B=a.hash2,y=a.gvars,x=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $[]= $size $unescape_brackets $resolve_pass_subs $> $- $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $gsub! $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $config $process_method $regexp $instance $inline_macros $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $id $references $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_lines_to_highlight $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
return function(t){(function(n){n=b(n,"Substitutors");var r=n.$$scope;a.cdecl(r,"SPECIAL_CHARS",B(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(r,"SPECIAL_CHARS_PATTERN",new RegExp("["+r.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(r,"SUBS",B("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),
header:["specialcharacters","attributes"],pass:[]}));a.cdecl(r,"COMPOSITE_SUBS",B(["none","normal","verbatim","specialchars"],{none:[],normal:r.get("SUBS")["$[]"]("normal"),verbatim:r.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(r,"SUB_SYMBOLS",B("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(r,"SUB_OPTIONS",B(["block","inline"],{block:q(q(r.get("COMPOSITE_SUBS").$keys(),
r.get("SUBS")["$[]"]("normal")),["callouts"]),inline:q(r.get("COMPOSITE_SUBS").$keys(),r.get("SUBS")["$[]"]("normal"))}));a.cdecl(r,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(r,"PASS_START","\u0096");a.cdecl(r,"PASS_END","\u0097");a.cdecl(r,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(r,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);n.$attr_reader("passthroughs");a.defn(n,"$apply_subs",function(b,c,d){var e,n,h,f,w,z=k,m=k,t=k,v=k;null==this.passthroughs&&
(this.passthroughs=k);null==c&&(c="normal");null==d&&(d=!1);if((e=c["$!"]())!==k&&(!e.$$is_boolean||1==e))return b;c["$=="]("normal")?c=r.get("SUBS")["$[]"]("normal"):!1!==d&&d!==k&&((e=a.get("Symbol")["$==="](c))===k||e.$$is_boolean&&1!=e?(z=[],(e=(n=c).$each,e.$$p=(h=function(a){var b;null==a&&(a=k);return(b=r.get("COMPOSITE_SUBS")["$has_key?"](a))===k||b.$$is_boolean&&1!=b?z["$<<"](a):z=q(z,r.get("COMPOSITE_SUBS")["$[]"](a))},h.$$s=this,h),e).call(n),c=z):c=!1!==(e=r.get("COMPOSITE_SUBS")["$[]"](c))&&
e!==k?e:[c]);if((e=c["$empty?"]())!==k&&(!e.$$is_boolean||1==e))return b;m=(e=t=a.get("Array")["$==="](b))===k||e.$$is_boolean&&1!=e?b:p(b,r.get("EOL"));(e=v=c["$include?"]("macros"))===k||e.$$is_boolean&&1!=e||(m=this.$extract_passthroughs(m),(e=this.passthroughs["$empty?"]())===k||e.$$is_boolean&&1!=e||(v=!1));(e=(f=c).$each,e.$$p=(w=function(a){var b=w.$$s||this,f,h=k;null==a&&(a=k);h=a;return"specialcharacters"["$==="](h)?m=b.$sub_specialchars(m):"quotes"["$==="](h)?m=b.$sub_quotes(m):"attributes"["$==="](h)?
m=p(b.$sub_attributes(m.$split(r.get("EOL"))),r.get("EOL")):"replacements"["$==="](h)?m=b.$sub_replacements(m):"macros"["$==="](h)?m=b.$sub_macros(m):"highlight"["$==="](h)?m=b.$highlight_source(m,c["$include?"]("callouts")):"callouts"["$==="](h)?(f=c["$include?"]("highlight"))===k||f.$$is_boolean&&1!=f?m=b.$sub_callouts(m):k:"post_replacements"["$==="](h)?m=b.$sub_post_replacements(m):b.$warn("asciidoctor: WARNING: unknown substitution type "+a)},w.$$s=this,w),e).call(f);!1!==v&&v!==k&&(m=this.$restore_passthroughs(m));
return!1!==t&&t!==k?m.$split(r.get("EOL")):m});a.defn(n,"$apply_normal_subs",function(b){var c;return this.$apply_subs((c=a.get("Array")["$==="](b))===k||c.$$is_boolean&&1!=c?b:p(b,r.get("EOL")))});a.defn(n,"$apply_title_subs",function(a){return this.$apply_subs(a,r.get("SUBS")["$[]"]("title"))});a.defn(n,"$apply_header_subs",function(a){return this.$apply_subs(a,r.get("SUBS")["$[]"]("header"))});a.defn(n,"$extract_passthroughs",function(b){var c,d,n,q,h,f,w,z,D=k,t=k,v=k,L=k;null==this.document&&
(this.document=k);D=this.document.$compat_mode();(c=!1!==(d=!1!==(n=b["$include?"]("++"))&&n!==k?n:b["$include?"]("$$"))&&d!==k?d:b["$include?"]("ss:"))===k||c.$$is_boolean&&1!=c||(b=(c=(d=b).$gsub,c.$$p=(q=function(){var b=q.$$s||this,f,h=k,c=k,g=k,d=g=k,l=k,v=k,w=k,h=k;null==b.passthroughs&&(b.passthroughs=k);null==y["~"]&&(y["~"]=k);h=y["~"];c=k;if((f=(g=h["$[]"](4))["$nil_or_empty?"]())===k||f.$$is_boolean&&1!=f){if((f=!1!==D&&D!==k?g["$=="]("++"):D)!==k&&(!f.$$is_boolean||1==f))return(f=h["$[]"](2)["$nil_or_empty?"]())===
k||f.$$is_boolean&&1!=f?""+h["$[]"](1)+"["+h["$[]"](2)+"]"+h["$[]"](3)+"++"+b.$extract_passthroughs(h["$[]"](5))+"++":""+h["$[]"](1)+h["$[]"](3)+"++"+b.$extract_passthroughs(h["$[]"](5))+"++";d=h["$[]"](2);(f=a.get("RUBY_ENGINE_OPAL"))===k||f.$$is_boolean&&1!=f||d["$=="]("")&&(d=k);l=h["$[]"](3).$size();v=h["$[]"](5);w=!1;if(!1!==d&&d!==k){if(m(l,0))return""+h["$[]"](1)+"["+d+"]"+p("\\",e(l,1))+g+h["$[]"](5)+g+")";h["$[]"](1)["$=="]("\\")?(c="["+d+"]",d=k):((f=g["$=="]("++")?d["$end_with?"]("x-"):
g["$=="]("++"))===k||f.$$is_boolean&&1!=f||(w=!0,d=d["$[]"](x(0,-2,!0))),d=b.$parse_attributes(d))}else if(m(l,0))return""+h["$[]"](1)+"["+d+"]"+p("\\",e(l,1))+g+h["$[]"](5)+g;h=g["$=="]("+++")?[]:["specialcharacters"];g=b.passthroughs.$size();if(!1!==d&&d!==k)if(!1!==w&&w!==k)b.passthroughs["$[]="](g,B(["text","subs","type","attributes"],{text:v,subs:r.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:d}));else b.passthroughs["$[]="](g,B(["text","subs","type","attributes"],{text:v,subs:h,
type:"unquoted",attributes:d}));else b.passthroughs["$[]="](g,B(["text","subs"],{text:v,subs:h}))}else{if(h["$[]"](6)["$=="]("\\"))return h["$[]"](0)["$[]"](x(1,-1,!1));b.passthroughs["$[]="](g=b.passthroughs.$size(),B(["text","subs"],{text:b.$unescape_brackets(h["$[]"](8)),subs:(f=h["$[]"](7)["$nil_or_empty?"]())===k||f.$$is_boolean&&1!=f?b.$resolve_pass_subs(h["$[]"](7)):[]}))}return""+c+r.get("PASS_START")+g+r.get("PASS_END")},q.$$s=this,q),c).call(d,r.get("PassInlineMacroRx")));c=a.to_ary(r.get("PassInlineRx")["$[]"](D));
t=null==c[0]?k:c[0];v=null==c[1]?k:c[1];L=null==c[2]?k:c[2];(c=!1!==(n=b["$include?"](t))&&n!==k?n:(h=!1!==v&&v!==k)?b["$include?"](v):v)===k||c.$$is_boolean&&1!=c||(b=(c=(n=b).$gsub,c.$$p=(f=function(){var b=f.$$s||this,h,c=k,g=k,d=k,l=k,e=k,v=k,w=k,e=c=k;null==b.passthroughs&&(b.passthroughs=k);null==y["~"]&&(y["~"]=k);c=y["~"];g=c["$[]"](1);d=c["$[]"](2);l=(h=c["$[]"](3)["$start_with?"]("\\"))===k||h.$$is_boolean&&1!=h?k:"\\";e=c["$[]"](4);v=c["$[]"](5);(h=a.get("RUBY_ENGINE_OPAL"))===k||h.$$is_boolean&&
1!=h||d["$=="]("")&&(d=k);!1!==D&&D!==k?w=!0:(h=w=!1!==d&&d!==k?d["$end_with?"]("x-"):d)===k||h.$$is_boolean&&1!=h||(d=d["$[]"](x(0,-2,!0)));if(!1!==d&&d!==k){if((h=e["$=="]("`")?w["$!"]():e["$=="]("`"))!==k&&(!h.$$is_boolean||1==h))return""+g+"["+d+"]"+l+"`"+b.$extract_passthroughs(v)+"`";if(!1!==l&&l!==k)return""+g+"["+d+"]"+c["$[]"](3)["$[]"](x(1,-1,!1));g["$=="]("\\")?(g="["+d+"]",d=k):d=b.$parse_attributes(d)}else{if((h=e["$=="]("`")?w["$!"]():e["$=="]("`"))!==k&&(!h.$$is_boolean||1==h))return""+
g+l+"`"+b.$extract_passthroughs(v)+"`";if(!1!==l&&l!==k)return""+g+c["$[]"](3)["$[]"](x(1,-1,!1))}c=b.passthroughs.$size();if(!1!==D&&D!==k)b.passthroughs["$[]="](c,B(["text","subs","attributes","type"],{text:v,subs:["specialcharacters"],attributes:d,type:"monospaced"}));else if(!1!==d&&d!==k)if(!1!==w&&w!==k)e=e["$=="]("`")?["specialcharacters"]:r.get("SUBS")["$[]"]("normal"),b.passthroughs["$[]="](c,B(["text","subs","attributes","type"],{text:v,subs:e,attributes:d,type:"monospaced"}));else b.passthroughs["$[]="](c,
B(["text","subs","attributes","type"],{text:v,subs:["specialcharacters"],attributes:d,type:"unquoted"}));else b.passthroughs["$[]="](c,B(["text","subs"],{text:v,subs:["specialcharacters"]}));return""+g+r.get("PASS_START")+c+r.get("PASS_END")},f.$$s=this,f),c).call(n,L));(c=(h=b["$include?"](":"),!1!==h&&h!==k?!1!==(w=b["$include?"]("stem:"))&&w!==k?w:b["$include?"]("math:"):h))===k||c.$$is_boolean&&1!=c||(b=(c=(h=b).$gsub,c.$$p=(z=function(){var a=z.$$s||this,b,f=k,h=k,c=k,g=k,d=f=k;null==a.document&&
(a.document=k);null==a.passthroughs&&(a.passthroughs=k);null==y["~"]&&(y["~"]=k);f=y["~"];if((b=f["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return f["$[]"](0)["$[]"](x(1,-1,!1));(h=f["$[]"](1).$to_sym())["$=="]("stem")&&(h=((b=(c=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===k||b.$$is_boolean&&1!=b?c:"asciimath").$to_sym());g=a.$unescape_brackets(f["$[]"](3));f=(b=f["$[]"](2)["$nil_or_empty?"]())===k||b.$$is_boolean&&1!=b?a.$resolve_pass_subs(f["$[]"](2)):
(b=a.document["$basebackend?"]("html"))===k||b.$$is_boolean&&1!=b?[]:["specialcharacters"];a.passthroughs["$[]="](d=a.passthroughs.$size(),B(["text","subs","type"],{text:g,subs:f,type:h}));return""+r.get("PASS_START")+d+r.get("PASS_END")},z.$$s=this,z),c).call(h,r.get("StemInlineMacroRx")));return b});a.defn(n,"$restore_passthroughs",function(a,b){var c,d,e,h;null==this.passthroughs&&(this.passthroughs=k);null==b&&(b=!0);try{return(c=(d=!1!==b&&b!==k)?!1!==(e=this.passthroughs["$empty?"]())&&e!==
k?e:a["$include?"](r.get("PASS_START"))["$!"]():b)===k||c.$$is_boolean&&1!=c?(c=(d=a).$gsub,c.$$p=(h=function(){var a=h.$$s||this,b,c=k,g=k,d=k,l=k;null==a.passthroughs&&(a.passthroughs=k);null==y["~"]&&(y["~"]=k);c=a.passthroughs["$[]"](y["~"]["$[]"](1).$to_i());g=(b=d=c["$[]"]("subs"))===k||b.$$is_boolean&&1!=b?c["$[]"]("text"):a.$apply_subs(c["$[]"]("text"),d);(b=l=c["$[]"]("type"))===k||b.$$is_boolean&&1!=b||(g=r.get("Inline").$new(a,"quoted",g,B(["type","attributes"],{type:l,attributes:c["$[]"]("attributes")})).$convert());
return(b=g["$include?"](r.get("PASS_START")))===k||b.$$is_boolean&&1!=b?g:a.$restore_passthroughs(g,!1)},h.$$s=this,h),c).call(d,r.get("PASS_MATCH")):a}finally{!1!==b&&b!==k&&this.passthroughs.$clear()}});a.defn(n,"$sub_specialchars",function(a){var b,c;return(b=r.get("SUPPORTS_GSUB_RESULT_HASH"))===k||b.$$is_boolean&&1!=b?(b=a.$gsub,b.$$p=(c=function(){var a;return r.get("SPECIAL_CHARS")["$[]"]((a=y["~"])===k?k:a["$[]"](0))},c.$$s=this,c),b).call(a,r.get("SPECIAL_CHARS_PATTERN")):a.$gsub(r.get("SPECIAL_CHARS_PATTERN"),
r.get("SPECIAL_CHARS"))});a.alias(n,"sub_specialcharacters","sub_specialchars");a.defn(n,"$sub_quotes",function(b){var c,d,e,n,h,f=k;null==this.document&&(this.document=k);(c=a.get("RUBY_ENGINE_OPAL"))===k||c.$$is_boolean&&1!=c?(f=""+b,(c=(n=r.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,c.$$p=(h=function(a,b,c){var g=h.$$s||this,d,l,e;null==a&&(a=k);null==b&&(b=k);null==c&&(c=k);return(d=(l=f)["$gsub!"],d.$$p=(e=function(){var f=e.$$s||this;null==y["~"]&&(y["~"]=k);return f.$convert_quoted_text(y["~"],
a,b)},e.$$s=g,e),d).call(l,c)},h.$$s=this,h),c).call(n)):(f=b,(c=(d=r.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,c.$$p=(e=function(a,b,h){var c=e.$$s||this,g,d,l;null==a&&(a=k);null==b&&(b=k);null==h&&(h=k);return f=(g=(d=f).$gsub,g.$$p=(l=function(){var f=l.$$s||this;null==y["~"]&&(y["~"]=k);return f.$convert_quoted_text(y["~"],a,b)},l.$$s=c,l),g).call(d,h)},e.$$s=this,e),c).call(d));return f});a.defn(n,"$sub_replacements",function(b){var c,d,e,n,h,f=k;(c=a.get("RUBY_ENGINE_OPAL"))===
k||c.$$is_boolean&&1!=c?(f=""+b,(c=(n=r.get("REPLACEMENTS")).$each,c.$$p=(h=function(a,b,c){var g=h.$$s||this,d,l,e;null==a&&(a=k);null==b&&(b=k);null==c&&(c=k);return(d=(l=f)["$gsub!"],d.$$p=(e=function(){var a=e.$$s||this;null==y["~"]&&(y["~"]=k);return a.$do_replacement(y["~"],b,c)},e.$$s=g,e),d).call(l,a)},h.$$s=this,h),c).call(n)):(f=b,(c=(d=r.get("REPLACEMENTS")).$each,c.$$p=(e=function(a,b,h){var c=e.$$s||this,g,d,l;null==a&&(a=k);null==b&&(b=k);null==h&&(h=k);return f=(g=(d=f).$gsub,g.$$p=
(l=function(){var a=l.$$s||this;null==y["~"]&&(y["~"]=k);return a.$do_replacement(y["~"],b,h)},l.$$s=c,l),g).call(d,a)},e.$$s=this,e),c).call(d));return f});a.defn(n,"$do_replacement",function(a,b,c){var d,e=k,e=k;(d=(e=a["$[]"](0))["$include?"]("\\"))===k||d.$$is_boolean&&1!=d?(e=c,a="none"["$==="](e)?b:"leading"["$==="](e)?""+a["$[]"](1)+b:"bounding"["$==="](e)?""+a["$[]"](1)+b+a["$[]"](2):k):a=e.$tr("\\","");return a});a.defn(n,"$sub_attributes",function(b,c){var e,n,m,h=k,f=k,w=k,z=k;null==this.document&&
(this.document=k);null==c&&(c=B([],{}));if((e=b["$nil_or_empty?"]())!==k&&(!e.$$is_boolean||1==e))return b;(e=h=a.get("String")["$==="](b))===k||e.$$is_boolean&&1!=e||(b=[b]);f=this.document.$attributes();w=k;z=[];(e=(n=b).$each,e.$$p=(m=function(b){var h=m.$$s||this,l,e,n,p,u=k,E=k;null==b&&(b=k);E=u=!1;(l=b["$include?"]("{"))===k||l.$$is_boolean&&1!=l||(b=(l=(e=b).$gsub,l.$$p=(n=function(){var b=n.$$s||this,h,l,e=k,v=k,p=k,z=k,m=k,L=k,A=k,t=k,O=k;null==b.document&&(b.document=k);null==y["~"]&&(y["~"]=
k);e=y["~"];if((h=!1!==(l=e["$[]"](1)["$=="]("\\"))&&l!==k?l:e["$[]"](4)["$=="]("\\"))===k||h.$$is_boolean&&1!=h){if((h=e["$[]"](3)["$nil_or_empty?"]()["$!"]())===k||h.$$is_boolean&&1!=h)return(h=f["$key?"](O=e["$[]"](2).$downcase()))===k||h.$$is_boolean&&1!=h?(h=r.get("INTRINSIC_ATTRIBUTES")["$key?"](O))===k||h.$$is_boolean&&1!=h?function(){m=!1!==(h=w)&&h!==k?h:w=!1!==(l=c["$[]"]("attribute_missing"))&&l!==k?l:f.$fetch("attribute-missing",r.get("Compliance").$attribute_missing());if("skip"["$==="](m))return e["$[]"](0);
if("drop-line"["$==="](m))return b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+O),u=!0,d.$v="",d;if("warn"["$==="](m))return b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+O),e["$[]"](0);E=!0;return""}():r.get("INTRINSIC_ATTRIBUTES")["$[]"](O):f["$[]"](O);v=q((p=e["$[]"](3)).$length(),1);z=e["$[]"](2)["$[]"](x(v,-1,!1));return function(){m=p;if("set"["$==="](m)){L=z.$split(":");h=a.to_ary(r.get("Parser").$store_attribute(L["$[]"](0),
!1!==(l=L["$[]"](1))&&l!==k?l:"",b.document));A=null==h[1]?k:h[1];if((!1===A||A===k)&&f.$fetch("attribute-undefined",r.get("Compliance").$attribute_undefined())["$=="]("drop-line"))return u=!0,d.$v="",d;E=!0;return""}if("counter"["$==="](m)||"counter2"["$==="](m))return L=z.$split(":"),t=b.document.$counter(L["$[]"](0),L["$[]"](1)),p["$=="]("counter2")?(E=!0,""):t;b.$warn("asciidoctor: WARNING: illegal attribute directive: "+e["$[]"](3));return e["$[]"](0)}()}return"{"+e["$[]"](2)+"}"},n.$$s=h,n),
l).call(e,r.get("AttributeReferenceRx")));return(l=!1!==(p=u)&&p!==k?p:!1!==E&&E!==k?b["$empty?"]():E)===k||l.$$is_boolean&&1!=l?z["$<<"](b):k},m.$$s=this,m),e).call(n);return!1!==h&&h!==k?p(z,r.get("EOL")):z});a.defn(n,"$sub_macros",function(b){var g,d,e,n,h,f,w,p,m,q,v,L,J,t,R,E,ca,H,aa,I,S=k,T=k,ba=k,K=k,M=k,P=k;null==this.document&&(this.document=k);if((g=b["$nil_or_empty?"]())!==k&&(!g.$$is_boolean||1==g))return b;S=B([],{});S["$[]="]("square_bracket",b["$include?"]("["));S["$[]="]("round_bracket",
b["$include?"]("("));S["$[]="]("colon",T=b["$include?"](":"));S["$[]="]("macroish",(g=S["$[]"]("square_bracket"),!1!==g&&g!==k?T:g));S["$[]="]("macroish_short_form",(g=(d=S["$[]"]("square_bracket"),!1!==d&&d!==k?T:d),!1!==g&&g!==k?b["$include?"](":["):g));ba=this.document.$attributes()["$has_key?"]("linkattrs");K=this.document.$attributes()["$has_key?"]("experimental");M=""+b;!1!==K&&K!==k&&((g=(d=S["$[]"]("macroish_short_form"),!1!==d&&d!==k?!1!==(e=M["$include?"]("kbd:"))&&e!==k?e:M["$include?"]("btn:"):
d))===k||g.$$is_boolean&&1!=g||(M=(g=(d=M).$gsub,g.$$p=(n=function(){var a=n.$$s||this,b,f,h,c=k,d=k,c=c=k;null==y["~"]&&(y["~"]=k);c=y["~"];if((b=(d=c["$[]"](0))["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return d["$[]"](x(1,-1,!1));if((b=d["$start_with?"]("kbd"))===k||b.$$is_boolean&&1!=b){if((b=d["$start_with?"]("btn"))===k||b.$$is_boolean&&1!=b)return k;c=a.$unescape_bracketed_text(c["$[]"](1));return r.get("Inline").$new(a,"button",c).$convert()}c=a.$unescape_bracketed_text(c["$[]"](1));
c=c["$=="]("+")?["+"]:(b=(f=c.$split(r.get("KbdDelimiterRx"))).$inject,b.$$p=(h=function(a,b){var f;null==a&&(a=k);null==b&&(b=k);if((f=b["$end_with?"]("++"))===k||f.$$is_boolean&&1!=f)a["$<<"](b.$strip());else a["$<<"](b["$[]"](x(0,-3,!1)).$strip()),a["$<<"]("+");return a},h.$$s=a,h),b).call(f,[]);return r.get("Inline").$new(a,"kbd",k,B(["attributes"],{attributes:B(["keys"],{keys:c})})).$convert()},n.$$s=this,n),g).call(d,r.get("KbdBtnInlineMacroRx"))),(g=(e=S["$[]"]("macroish"),!1!==e&&e!==k?M["$include?"]("menu:"):
e))===k||g.$$is_boolean&&1!=g||(M=(g=(e=M).$gsub,g.$$p=(h=function(){var a=h.$$s||this,b,f,c,d=k,g=k,l=d=g=k,l=d=k;null==y["~"]&&(y["~"]=k);d=y["~"];if((b=(g=d["$[]"](0))["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return g["$[]"](x(1,-1,!1));g=d["$[]"](1);d=d["$[]"](2);(b=d["$!"]())===k||b.$$is_boolean&&1!=b?(b=l=(f=d["$include?"]("&gt;"))===k||f.$$is_boolean&&1!=f?(f=d["$include?"](","))===k||f.$$is_boolean&&1!=f?k:",":"&gt;")===k||b.$$is_boolean&&1!=b?(l=[],d=d.$rstrip()):(l=(b=(f=d.$split(l)).$map,
b.$$p=(c=function(a){null==a&&(a=k);return a.$strip()},c.$$s=a,c),b).call(f),d=l.$pop()):(l=[],d=k);return r.get("Inline").$new(a,"menu",k,B(["attributes"],{attributes:B(["menu","submenus","menuitem"],{menu:g,submenus:l,menuitem:d})})).$convert()},h.$$s=this,h),g).call(e,r.get("MenuInlineMacroRx"))),(g=(f=M["$include?"]('"'),!1!==f&&f!==k?M["$include?"]("&gt;"):f))===k||g.$$is_boolean&&1!=g||(M=(g=(f=M).$gsub,g.$$p=(w=function(){var b=w.$$s||this,f,h,d,g,l=k,e=k,v=e=l=l=k;null==y["~"]&&(y["~"]=k);
l=y["~"];if((f=(e=l["$[]"](0))["$start_with?"]("\\"))!==k&&(!f.$$is_boolean||1==f))return e["$[]"](x(1,-1,!1));l=l["$[]"](1);f=a.to_ary((h=(d=l.$split("&gt;")).$map,h.$$p=(g=function(a){null==a&&(a=k);return a.$strip()},g.$$s=b,g),h).call(d));l=null==f[0]?k:f[0];e=c.call(f,1);v=e.$pop();return r.get("Inline").$new(b,"menu",k,B(["attributes"],{attributes:B(["menu","submenus","menuitem"],{menu:l,submenus:e,menuitem:v})})).$convert()},w.$$s=this,w),g).call(f,r.get("MenuInlineRx"))));(g=(p=P=this.document.$extensions(),
!1!==p&&p!==k?P["$inline_macros?"]():p))===k||g.$$is_boolean&&1!=g||(g=(p=P.$inline_macros()).$each,g.$$p=(m=function(a){var b=m.$$s||this,f,h,c;null==a&&(a=k);return M=(f=(h=M).$gsub,f.$$p=(c=function(){var b=c.$$s||this,f,h=k,d=k,h=k;null==y["~"]&&(y["~"]=k);h=y["~"];if((f=h["$[]"](0)["$start_with?"]("\\"))!==k&&(!f.$$is_boolean||1==f))return h["$[]"](0)["$[]"](x(1,-1,!1));d=h["$[]"](1);h=a.$config()["$[]"]("format")["$=="]("short")?B([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?
b.$parse_attributes(h["$[]"](2),!1!==(f=a.$config()["$[]"]("pos_attrs"))&&f!==k?f:[],B(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):B(["text"],{text:b.$unescape_bracketed_text(h["$[]"](2))});return a.$process_method()["$[]"](b,d,h)},c.$$s=b,c),f).call(h,a.$instance().$regexp())},m.$$s=this,m),g).call(p);(g=(q=S["$[]"]("macroish"),!1!==q&&q!==k?!1!==(v=M["$include?"]("image:"))&&v!==k?v:M["$include?"]("icon:"):q))===k||g.$$is_boolean&&1!=g||(M=(g=(q=M).$gsub,g.$$p=(L=function(){var a=
L.$$s||this,b,f,h,c=k,d=f=k,g=k,g=c=k;null==a.document&&(a.document=k);null==y["~"]&&(y["~"]=k);c=y["~"];if((b=c["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return c["$[]"](0)["$[]"](x(1,-1,!1));f=a.$unescape_bracketed_text(c["$[]"](2));(b=c["$[]"](0)["$start_with?"]("icon:"))===k||b.$$is_boolean&&1!=b?(d="image",g=["alt","width","height"]):(d="icon",g=["size"]);c=a.$sub_attributes(c["$[]"](1));d["$=="]("icon")||a.document.$register("images",c);g=a.$parse_attributes(f,g);b="alt";
f=g;!1!==(h=f["$[]"](b))&&h!==k?h:f["$[]="](b,r.get("Helpers").$basename(c,!0).$tr("_-"," "));return r.get("Inline").$new(a,"image",k,B(["type","target","attributes"],{type:d,target:c,attributes:g})).$convert()},L.$$s=this,L),g).call(q,r.get("ImageInlineMacroRx")));(g=!1!==(v=S["$[]"]("macroish_short_form"))&&v!==k?v:S["$[]"]("round_bracket"))===k||g.$$is_boolean&&1!=g||(M=(g=(v=M).$gsub,g.$$p=(J=function(){var b=J.$$s||this,f,h,c=k,d=k,g=k,l=k,c=c=k;null==b.document&&(b.document=k);null==y["~"]&&
(y["~"]=k);c=y["~"];if((f=c["$[]"](0)["$start_with?"]("\\"))!==k&&(!f.$$is_boolean||1==f))return c["$[]"](0)["$[]"](x(1,-1,!1));if((f=a.get("RUBY_ENGINE_OPAL"))!==k&&(!f.$$is_boolean||1==f)&&c["$[]"](1)["$=="](""))c["$[]="](1,k);d=0;g=k;if((f=l=c["$[]"](1))===k||f.$$is_boolean&&1!=f)g=c["$[]"](3),(f=(h=g["$start_with?"]("("),!1!==h&&h!==k?g["$end_with?"](")"):h))===k||f.$$is_boolean&&1!=f?d=2:(g=g["$[]"](x(1,-1,!0)),d=3);if((f=!1!==(h=l["$=="]("indexterm"))&&h!==k?h:d["$=="](3))===k||f.$$is_boolean&&
1!=f)return c=(f=l["$!"]())===k||f.$$is_boolean&&1!=f?b.$normalize_string(c["$[]"](2),!0):b.$normalize_string(g),b.document.$register("indexterms",[c]),r.get("Inline").$new(b,"indexterm",c,B(["type"],{type:"visible"})).$convert();c=(f=l["$!"]())===k||f.$$is_boolean&&1!=f?b.$split_simple_csv(b.$normalize_string(c["$[]"](2),!0)):b.$split_simple_csv(b.$normalize_string(g));b.document.$register("indexterms",[].concat(a.to_a(c)));return r.get("Inline").$new(b,"indexterm",k,B(["attributes"],{attributes:B(["terms"],
{terms:c})})).$convert()},J.$$s=this,J),g).call(v,r.get("IndextermInlineMacroRx")));(g=(b=!1!==T&&T!==k)?M["$include?"]("://"):T)===k||g.$$is_boolean&&1!=g||(M=(g=(b=M).$gsub,g.$$p=(t=function(){var b=t.$$s||this,f,h,c,d,g=k,l=k,e=k,v=k,w=k,n=w=k,g=k;null==b.document&&(b.document=k);null==y["~"]&&(y["~"]=k);g=y["~"];if((f=g["$[]"](2)["$start_with?"]("\\"))!==k&&(!f.$$is_boolean||1==f))return""+g["$[]"](1)+g["$[]"](2)["$[]"](x(1,-1,!1))+g["$[]"](3);if((f=a.get("RUBY_ENGINE_OPAL"))!==k&&(!f.$$is_boolean||
1==f)&&g["$[]"](3)["$=="](""))g["$[]="](3,k);if((f=(h=g["$[]"](1)["$=="]("link:"))?g["$[]"](3)["$!"]():g["$[]"](1)["$=="]("link:"))!==k&&(!f.$$is_boolean||1==f))return g["$[]"](0);l=(f=g["$[]"](1)["$!="]("link:"))===k||f.$$is_boolean&&1!=f?"":g["$[]"](1);e=g["$[]"](2);v="";if((f=!1!==(h=g["$[]"](3))&&h!==k?h:e["$!~"](r.get("UriTerminator")))===k||f.$$is_boolean&&1!=f)w=y["~"]["$[]"](0),")"["$==="](w)?(e=e["$[]"](x(0,-2,!1)),v=")"):";"["$==="](w)?(f=(h=l["$start_with?"]("&lt;"),!1!==h&&h!==k?e["$end_with?"]("&gt;"):
h))===k||f.$$is_boolean&&1!=f?(f=e["$end_with?"](");"))===k||f.$$is_boolean&&1!=f?(e=e["$[]"](x(0,-2,!1)),v=";"):(e=e["$[]"](x(0,-3,!1)),v=");"):(l=l["$[]"](x(4,-1,!1)),e=e["$[]"](x(0,-5,!1))):":"["$==="](w)&&((f=e["$end_with?"]("):"))===k||f.$$is_boolean&&1!=f?(e=e["$[]"](x(0,-2,!1)),v=":"):(e=e["$[]"](x(0,-3,!1)),v="):"));b.document.$register("links",e);w=B(["type","target"],{type:"link",target:e});n=k;if((f=g["$[]"](3)["$nil_or_empty?"]())===k||f.$$is_boolean&&1!=f){if((f=!1!==ba&&ba!==k?!1!==
(c=g["$[]"](3)["$start_with?"]('"'))&&c!==k?c:(d=g["$[]"](3)["$include?"](","),!1!==d&&d!==k?g["$[]"](3)["$include?"]("="):d):ba)===k||f.$$is_boolean&&1!=f)g=b.$sub_attributes(g["$[]"](3).$gsub("\\]","]"));else{n=b.$parse_attributes(b.$sub_attributes(g["$[]"](3).$gsub("\\]","]")),[]);if((f=n["$has_key?"]("id"))!==k&&(!f.$$is_boolean||1==f))w["$[]="]("id",n.$delete("id"));g=!1!==(f=n["$[]"](1))&&f!==k?f:""}(f=g["$end_with?"]("^"))===k||f.$$is_boolean&&1!=f||(g=g.$chop(),!1!==n&&n!==k?(f="window",h=
n,!1!==(c=h["$[]"](f))&&c!==k?c:h["$[]="](f,"_blank")):n=B(["window"],{window:"_blank"}))}else g="";if((f=g["$empty?"]())!==k&&(!f.$$is_boolean||1==f))if(g=(f=b.document["$attr?"]("hide-uri-scheme"))===k||f.$$is_boolean&&1!=f?e:e.$sub(r.get("UriSniffRx"),""),!1!==n&&n!==k)n["$[]="]("role",("bare "+n["$[]"]("role")).$chomp(" "));else n=B(["role"],{role:"bare"});if(!1!==n&&n!==k)w["$[]="]("attributes",n);return""+l+r.get("Inline").$new(b,"anchor",g,w).$convert()+v},t.$$s=this,t),g).call(b,r.get("LinkInlineRx")));
(g=!1!==(R=(E=S["$[]"]("macroish"),!1!==E&&E!==k?M["$include?"]("link:"):E))&&R!==k?R:M["$include?"]("mailto:"))===k||g.$$is_boolean&&1!=g||(M=(g=(R=M).$gsub,g.$$p=(ca=function(){var a=ca.$$s||this,b,f,h,c=k,g=k,d=k,l=f=k,e=k,c=k;null==a.document&&(a.document=k);null==y["~"]&&(y["~"]=k);c=y["~"];if((b=c["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return c["$[]"](0)["$[]"](x(1,-1,!1));g=c["$[]"](1);d=c["$[]"](0)["$start_with?"]("mailto:");f=!1!==d&&d!==k?"mailto:"+g:g;l=B(["type",
"target"],{type:"link",target:f});e=k;if((b=!1!==ba&&ba!==k?!1!==(h=c["$[]"](2)["$start_with?"]('"'))&&h!==k?h:c["$[]"](2)["$include?"](","):ba)===k||b.$$is_boolean&&1!=b)c=a.$sub_attributes(c["$[]"](2).$gsub("\\]","]"));else{e=a.$parse_attributes(a.$sub_attributes(c["$[]"](2).$gsub("\\]","]")),[]);if((b=e["$key?"]("id"))!==k&&(!b.$$is_boolean||1==b))l["$[]="]("id",e.$delete("id"));!1===d||d===k||(b=e["$key?"](2))===k||b.$$is_boolean&&1!=b||(f=l["$[]="]("target",""+f+"?subject="+r.get("Helpers").$encode_uri(e["$[]"](2))),
(b=e["$key?"](3))===k||b.$$is_boolean&&1!=b||(f=l["$[]="]("target",""+f+"&amp;body="+r.get("Helpers").$encode_uri(e["$[]"](3)))));c=e["$[]"](1)}a.document.$register("links",f);(b=c["$end_with?"]("^"))===k||b.$$is_boolean&&1!=b||(c=c.$chop(),!1!==e&&e!==k?(b="window",f=e,!1!==(h=f["$[]"](b))&&h!==k?h:f["$[]="](b,"_blank")):e=B(["window"],{window:"_blank"}));if((b=c["$empty?"]())!==k&&(!b.$$is_boolean||1==b))if(!1!==d&&d!==k)c=g;else if(c=(b=a.document["$attr?"]("hide-uri-scheme"))===k||b.$$is_boolean&&
1!=b?g:g.$sub(r.get("UriSniffRx"),""),!1!==e&&e!==k)e["$[]="]("role",("bare "+e["$[]"]("role")).$chomp(" "));else e=B(["role"],{role:"bare"});if(!1!==e&&e!==k)l["$[]="]("attributes",e);return r.get("Inline").$new(a,"anchor",c,l).$convert()},ca.$$s=this,ca),g).call(R,r.get("LinkInlineMacroRx")));(g=M["$include?"]("@"))===k||g.$$is_boolean&&1!=g||(M=(g=(E=M).$gsub,g.$$p=(H=function(){var a=H.$$s||this,b,f=k,h=k,f=f=k;null==a.document&&(a.document=k);null==y["~"]&&(y["~"]=k);f=y["~"];h=f["$[]"](0);if((b=
f=f["$[]"](1))!==k&&(!b.$$is_boolean||1==b))return"\\"["$==="](f)?h["$[]"](x(1,-1,!1)):h;f="mailto:"+h;a.document.$register("links",f);return r.get("Inline").$new(a,"anchor",h,B(["type","target"],{type:"link",target:f})).$convert()},H.$$s=this,H),g).call(E,r.get("EmailInlineMacroRx")));(g=(aa=S["$[]"]("macroish_short_form"),!1!==aa&&aa!==k?M["$include?"]("footnote"):aa))===k||g.$$is_boolean&&1!=g||(M=(g=(aa=M).$gsub,g.$$p=(I=function(){var b=I.$$s||this,f,h,c,g,d=k,l=k,e=k,v=d=k,w=k,e=k;null==b.document&&
(b.document=k);null==y["~"]&&(y["~"]=k);d=y["~"];if((f=d["$[]"](0)["$start_with?"]("\\"))!==k&&(!f.$$is_boolean||1==f))return d["$[]"](0)["$[]"](x(1,-1,!1));d["$[]"](1)["$=="]("footnote")?(l=k,e=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(d["$[]"](2),!0))),!1),d=b.document.$counter("footnote-number"),b.document.$register("footnotes",r.get("Document").$$scope.get("Footnote").$new(d,l,e)),w=v=k):(f=a.to_ary(d["$[]"](2).$split(",",2)),l=null==f[0]?k:f[0],e=null==
f[1]?k:f[1],l=l.$strip(),(f=e["$nil_or_empty?"]())===k||f.$$is_boolean&&1!=f?(e=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(e,!0))),!1),d=b.document.$counter("footnote-number"),b.document.$register("footnotes",r.get("Document").$$scope.get("Footnote").$new(d,l,e)),v="ref",w=k):((f=e=(h=(c=b.document.$references()["$[]"]("footnotes")).$find,h.$$p=(g=function(a){null==a&&(a=k);return a.$id()["$=="](l)},g.$$s=b,g),h).call(c))===k||f.$$is_boolean&&1!=f?(d=k,e=
l):(d=e.$index(),e=e.$text()),w=l,l=k,v="xref"));return r.get("Inline").$new(b,"footnote",e,B(["attributes","id","target","type"],{attributes:B(["index"],{index:d}),id:l,target:w,type:v})).$convert()},I.$$s=this,I),g).call(aa,r.get("FootnoteInlineMacroRx")));return this.$sub_inline_xrefs(this.$sub_inline_anchors(M,S),S)});a.defn(n,"$sub_inline_anchors",function(b,c){var d,e,n,h,f,w,p;null==c&&(c=k);(d=(e=!1!==(n=c["$!"]())&&n!==k?n:c["$[]"]("square_bracket"),!1!==e&&e!==k?b["$include?"]("[[["):e))===
k||d.$$is_boolean&&1!=d||(b=(d=(e=b).$gsub,d.$$p=(h=function(){var a=h.$$s||this,b,f=k,c=f=k;null==y["~"]&&(y["~"]=k);f=y["~"];if((b=f["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return f["$[]"](0)["$[]"](x(1,-1,!1));f=c=f["$[]"](1);return r.get("Inline").$new(a,"anchor",c,B(["type","target"],{type:"bibref",target:f})).$convert()},h.$$s=this,h),d).call(e,r.get("InlineBiblioAnchorRx")));(d=!1!==(n=(f=!1!==(w=c["$!"]())&&w!==k?w:c["$[]"]("square_bracket"),!1!==f&&f!==k?b["$include?"]("[["):
f))&&n!==k?n:(f=!1!==(w=c["$!"]())&&w!==k?w:c["$[]"]("macroish"),!1!==f&&f!==k?b["$include?"]("anchor:"):f))===k||d.$$is_boolean&&1!=d||(b=(d=(n=b).$gsub,d.$$p=(p=function(){var b=p.$$s||this,f,h,c=k,d=k,c=k;null==y["~"]&&(y["~"]=k);c=y["~"];if((f=c["$[]"](0)["$start_with?"]("\\"))!==k&&(!f.$$is_boolean||1==f))return c["$[]"](0)["$[]"](x(1,-1,!1));if((f=a.get("RUBY_ENGINE_OPAL"))!==k&&(!f.$$is_boolean||1==f)){if(c["$[]"](1)["$=="](""))c["$[]="](1,k);if(c["$[]"](2)["$=="](""))c["$[]="](2,k);if(c["$[]"](4)["$=="](""))c["$[]="](4,
k)}d=!1!==(f=c["$[]"](1))&&f!==k?f:c["$[]"](3);c=!1!==(f=!1!==(h=c["$[]"](2))&&h!==k?h:c["$[]"](4))&&f!==k?f:"["+d+"]";return r.get("Inline").$new(b,"anchor",c,B(["type","target"],{type:"ref",target:d})).$convert()},p.$$s=this,p),d).call(n,r.get("InlineAnchorRx")));return b});a.defn(n,"$sub_inline_xrefs",function(b,c){var d,e,n,h;null==c&&(c=k);(d=!1!==(e=!1!==(n=c["$!"]())&&n!==k?n:c["$[]"]("macroish"))&&e!==k?e:b["$include?"]("&lt;&lt;"))===k||d.$$is_boolean&&1!=d||(b=(d=(e=b).$gsub,d.$$p=(h=function(){var b=
h.$$s||this,c,d,g,l,e,n,p=k,q=k,m=k,E=q=p=k,u=k,E=k;null==b.document&&(b.document=k);null==y["~"]&&(y["~"]=k);p=y["~"];if((c=p["$[]"](0)["$start_with?"]("\\"))!==k&&(!c.$$is_boolean||1==c))return p["$[]"](0)["$[]"](x(1,-1,!1));if((c=a.get("RUBY_ENGINE_OPAL"))!==k&&(!c.$$is_boolean||1==c)&&p["$[]"](1)["$=="](""))p["$[]="](1,k);if((c=p["$[]"](1))===k||c.$$is_boolean&&1!=c){if(q=p["$[]"](2),(c=p["$[]"](3)["$nil_or_empty?"]())===k||c.$$is_boolean&&1!=c)m=p["$[]"](3)}else c=a.to_ary((d=(g=p["$[]"](1).$split(",",
2)).$map,d.$$p=(l=function(a){null==a&&(a=k);return a.$strip()},l.$$s=b,l),d).call(g)),q=null==c[0]?k:c[0],m=null==c[1]?k:c[1],q=q.$sub(r.get("DoubleQuotedRx"),"\\2"),m=(c=m["$nil_or_empty?"]())===k||c.$$is_boolean&&1!=c?m.$sub(r.get("DoubleQuotedMultiRx"),"\\2"):k;(c=q["$include?"]("#"))===k||c.$$is_boolean&&1!=c?p=k:(c=a.to_ary(q.$split("#")),p=null==c[0]?k:c[0],q=null==c[1]?k:c[1]);!1!==p&&p!==k?(p=r.get("Helpers").$rootname(p),(c=!1!==(d=b.document.$attributes()["$[]"]("docname")["$=="](p))&&
d!==k?d:b.document.$references()["$[]"]("includes")["$include?"](p))===k||c.$$is_boolean&&1!=c?(E=!1!==q&&q!==k?""+p+"#"+q:p,p=""+b.document.$attributes()["$[]"]("relfileprefix")+p+b.document.$attributes().$fetch("outfilesuffix",".html"),u=!1!==q&&q!==k?""+p+"#"+q:p):(E=q,p=k,u="#"+q)):((c=(d=(e=b.document.$references()["$[]"]("ids")["$has_key?"](q)["$!"](),!1!==e&&e!==k?!1!==(n=q["$include?"](" "))&&n!==k?n:q.$downcase()["$!="](q):e),!1!==d&&d!==k?E=(e=r.get("RUBY_MIN_VERSION_1_9"))===k||e.$$is_boolean&&
1!=e?b.document.$references()["$[]"]("ids").$index(q):b.document.$references()["$[]"]("ids").$key(q):d))===k||c.$$is_boolean&&1!=c||(q=E),E=q,u="#"+q);return r.get("Inline").$new(b,"anchor",m,B(["type","target","attributes"],{type:"xref",target:u,attributes:B(["path","fragment","refid"],{path:p,fragment:q,refid:E})})).$convert()},h.$$s=this,h),d).call(e,r.get("XrefInlineMacroRx")));return b});a.defn(n,"$sub_callouts",function(b){var c,d,e=k,e=(c=this["$attr?"]("line-comment"))===k||c.$$is_boolean&&
1!=c?r.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+r.get("CalloutSourceRxt"));return(c=b.$gsub,c.$$p=(d=function(){var a=d.$$s||this,b=k;null==a.document&&(a.document=k);null==y["~"]&&(y["~"]=k);b=y["~"];return b["$[]"](1)["$=="]("\\")?b["$[]"](0).$sub("\\",""):r.get("Inline").$new(a,"callout",b["$[]"](3),B(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},d.$$s=this,d),c).call(b,e)});a.defn(n,"$sub_post_replacements",function(a){var b,
c,d,e,h=k,f=k;null==this.document&&(this.document=k);null==this.attributes&&(this.attributes=k);if((b=!1!==(c=this.document.$attributes()["$has_key?"]("hardbreaks"))&&c!==k?c:this.attributes["$has_key?"]("hardbreaks-option"))===k||b.$$is_boolean&&1!=b)return(b=a["$include?"]("+"))===k||b.$$is_boolean&&1!=b?a:(b=a.$gsub,b.$$p=(e=function(){var a=e.$$s||this;null==y["~"]&&(y["~"]=k);return r.get("Inline").$new(a,"break",y["~"]["$[]"](1),B(["type"],{type:"line"})).$convert()},e.$$s=this,e),b).call(a,
r.get("LineBreakRx"));h=a.$split(r.get("EOL"));if(h.$size()["$=="](1))return a;f=h.$pop();return p((b=(c=h).$map,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=k);return r.get("Inline").$new(b,"break",a.$rstrip().$chomp(r.get("LINE_BREAK")),B(["type"],{type:"line"})).$convert()},d.$$s=this,d),b).call(c).$push(f),r.get("EOL"))});a.defn(n,"$convert_quoted_text",function(a,b,c){var d,e=k,h=k,f=e=k,e=k;if((d=a["$[]"](0)["$start_with?"]("\\"))!==k&&(!d.$$is_boolean||1==d)){if((d=c["$=="]("constrained")?
(h=a["$[]"](2))["$nil_or_empty?"]()["$!"]():c["$=="]("constrained"))===k||d.$$is_boolean&&1!=d)return a["$[]"](0)["$[]"](x(1,-1,!1));e="["+h+"]"}if(c["$=="]("constrained")){if(!1!==e&&e!==k)return""+e+r.get("Inline").$new(this,"quoted",a["$[]"](3),B(["type"],{type:b})).$convert();(d=e=this.$parse_quoted_text_attributes(a["$[]"](2)))===k||d.$$is_boolean&&1!=d?f=k:(f=e.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+r.get("Inline").$new(this,"quoted",a["$[]"](3),B(["type","id",
"attributes"],{type:b,id:f,attributes:e})).$convert()}(d=e=this.$parse_quoted_text_attributes(a["$[]"](1)))===k||d.$$is_boolean&&1!=d?f=k:(f=e.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return r.get("Inline").$new(this,"quoted",a["$[]"](2),B(["type","id","attributes"],{type:b,id:f,attributes:e})).$convert()});a.defn(n,"$parse_quoted_text_attributes",function(b){var d,e,n,q=k,h=k,f=k,f=q=k;if(!1===b||b===k)return k;if((d=b["$empty?"]())!==k&&(!d.$$is_boolean||1==d))return B([],{});(d=b["$include?"]("{"))===
k||d.$$is_boolean&&1!=d||(b=this.$sub_attributes(b));b=b.$strip();(d=b["$include?"](","))===k||d.$$is_boolean&&1!=d||(d=a.to_ary(b.$split(",",2)),b=null==d[0]?k:d[0]);if((d=b["$empty?"]())===k||d.$$is_boolean&&1!=d){if((d=(e=!1!==(n=b["$start_with?"]("."))&&n!==k?n:b["$start_with?"]("#"),!1!==e&&e!==k?r.get("Compliance").$shorthand_property_syntax():e))===k||d.$$is_boolean&&1!=d)return B(["role"],{role:b});q=b.$split("#",2);m(q.$length(),1)?(d=a.to_ary(q["$[]"](1).$split(".")),h=null==d[0]?k:d[0],
f=c.call(d,1)):(h=k,f=[]);q=(d=q["$[]"](0)["$empty?"]())===k||d.$$is_boolean&&1!=d?q["$[]"](0).$split("."):[];m(q.$length(),1)&&q.$shift();m(f.$length(),0)&&q.$concat(f);f=B([],{});if(!1!==h&&h!==k)f["$[]="]("id",h);if((d=q["$empty?"]())===k||d.$$is_boolean&&1!=d)f["$[]="]("role",p(q," "));return f}return B([],{})});a.defn(n,"$parse_attributes",function(a,b,c){var d,e=k,h=k;null==this.document&&(this.document=k);null==b&&(b=["role"]);null==c&&(c=B([],{}));if(!1===a||a===k)return k;if((d=a["$empty?"]())!==
k&&(!d.$$is_boolean||1==d))return B([],{});(d=c["$[]"]("sub_input"))===k||d.$$is_boolean&&1!=d||(a=this.document.$sub_attributes(a));(d=c["$[]"]("unescape_input"))===k||d.$$is_boolean&&1!=d||(a=this.$unescape_bracketed_text(a));e=k;(d=c.$fetch("sub_result",!0))===k||d.$$is_boolean&&1!=d||(e=this);return(d=h=c["$[]"]("into"))===k||d.$$is_boolean&&1!=d?r.get("AttributeList").$new(a,e).$parse(b):r.get("AttributeList").$new(a,e).$parse_into(h,b)});a.defn(n,"$unescape_bracketed_text",function(a){var b;
return(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?a.$strip().$tr(r.get("EOL")," ").$gsub("\\]","]"):""});a.defn(n,"$normalize_string",function(a,b){var c;null==b&&(b=!1);return(c=a["$empty?"]())===k||c.$$is_boolean&&1!=c?!1!==b&&b!==k?this.$unescape_brackets(a.$strip().$tr(r.get("EOL")," ")):a.$strip().$tr(r.get("EOL")," "):""});a.defn(n,"$unescape_brackets",function(a){var b;return(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""});a.defn(n,"$split_simple_csv",function(a){var b,
c,d,e,h=k,f=k,w=k;(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===k||b.$$is_boolean&&1!=b?h=(b=(d=a.$split(",")).$map,b.$$p=(e=function(a){null==a&&(a=k);return a.$strip()},e.$$s=this,e),b).call(d):(h=[],f=[],w=!1,(b=a.$each_char,b.$$p=(c=function(a){var b=k;null==a&&(a=k);return function(){b=a;if(","["$==="](b)){if(!1!==w&&w!==k)return f.$push(a);h["$<<"](f.$join().$strip());return f=[]}return'"'["$==="](b)?w=w["$!"]():f.$push(a)}()},c.$$s=this,c),b).call(a),h["$<<"](f.$join().$strip())):
h=[];return h});a.defn(n,"$resolve_subs",function(a,b,c,d){var n,h,f,w=k,z=k,t=k,N=k;null==b&&(b="block");null==c&&(c=k);null==d&&(d=k);if((n=a["$nil_or_empty?"]())!==k&&(!n.$$is_boolean||1==n))return[];w=k;z=r.get("SubModifierSniffRx")["$=~"](a);(n=(h=a.$tr(" ","").$split(",")).$each,n.$$p=(f=function(a){var f,h,d,l=k,n=h=h=h=k,l=k;null==a&&(a=k);l=k;!1!==z&&z!==k&&((h=a.$chr())["$=="]("+")?(l="append",a=a["$[]"](x(1,-1,!1))):h["$=="]("-")?(l="remove",a=a["$[]"](x(1,-1,!1))):(f=a["$end_with?"]("+"))===
k||f.$$is_boolean&&1!=f||(l="prepend",a=a.$chop()));a=a.$to_sym();(f=(h=b["$=="]("inline"))?!1!==(d=a["$=="]("verbatim"))&&d!==k?d:a["$=="]("v"):b["$=="]("inline"))===k||f.$$is_boolean&&1!=f?(f=r.get("COMPOSITE_SUBS")["$key?"](a))===k||f.$$is_boolean&&1!=f?(f=(h=b["$=="]("inline")?a.$length()["$=="](1):b["$=="]("inline"),!1!==h&&h!==k?r.get("SUB_SYMBOLS")["$key?"](a):h))===k||f.$$is_boolean&&1!=f?h=[a]:(h=r.get("SUB_SYMBOLS")["$[]"](a),h=(f=n=r.get("COMPOSITE_SUBS")["$[]"](h))===k||f.$$is_boolean&&
1!=f?[h]:n):h=r.get("COMPOSITE_SUBS")["$[]"](a):h=["specialcharacters"];if(!1!==l&&l!==k)return!1!==(f=w)&&f!==k?f:w=!1!==c&&c!==k?c.$dup():[],"append"["$==="](l)?w=q(w,h):"prepend"["$==="](l)?w=q(h,w):"remove"["$==="](l)?w=e(w,h):k;!1!==(f=w)&&f!==k?f:w=[];return w=q(w,h)},f.$$s=this,f),n).call(h);t=w["$&"](r.get("SUB_OPTIONS")["$[]"](b));if((n=e(w,t)["$empty?"]())===k||n.$$is_boolean&&1!=n)N=e(w,t),this.$warn("asciidoctor: WARNING: invalid substitution type"+(m(N.$size(),1)?"s":"")+(!1!==d&&d!==
k?" for ":k)+d+": "+p(N,", "));return t});a.defn(n,"$resolve_block_subs",function(a,b,c){return this.$resolve_subs(a,"block",b,c)});a.defn(n,"$resolve_pass_subs",function(a){return this.$resolve_subs(a,"inline",k,"passthrough macro")});a.defn(n,"$highlight_source",function(b,c,d){var e,n,h,f,w,m=k,t=k,N=k,v=k,L=k,J=k,O=k,R=t=k,E=k,ca=m=k,H=k;null==this.document&&(this.document=k);null==this.passthroughs&&(this.passthroughs=k);null==d&&(d=k);m=!1!==(e=d)&&e!==k?e:d=this.document.$attributes()["$[]"]("source-highlighter");
if("coderay"["$==="](m)){if((e=!1!==(n=t=null==a.Object.$$scope.CodeRay?k:"constant")&&n!==k?n:this.document.$attributes()["$[]"]("coderay-unavailable"))===k||e.$$is_boolean&&1!=e)(e=r.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===k||e.$$is_boolean&&1!=e?t=!0:this.document.$set_attr("coderay-unavailable",!0)}else if("pygments"["$==="](m)){if((e=!1!==(n=t=null==a.Object.$$scope.Pygments?k:"constant")&&n!==k?n:this.document.$attributes()["$[]"]("pygments-unavailable"))===k||e.$$is_boolean&&
1!=e)(e=r.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===k||e.$$is_boolean&&1!=e?t=!0:this.document.$set_attr("pygments-unavailable",!0)}else t=!1;if(!1===t||t===k)return this.$sub_source(b,c);N=0;v=!1;!1!==c&&c!==k?(L=B([],{}),J=-1,O=(e=this["$attr?"]("line-comment"))===k||e.$$is_boolean&&1!=e?r.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+r.get("CalloutExtractRxt")),b=p((e=(n=b.$split(r.get("EOL"))).$map,e.$$p=
(h=function(a){var b=h.$$s||this,f,c,d;null==a&&(a=k);N=q(N,1);return(f=(c=a).$gsub,f.$$p=(d=function(){var a,b,f,h=k;null==y["~"]&&(y["~"]=k);h=y["~"];if(h["$[]"](1)["$=="]("\\"))return h["$[]"](0).$sub("\\","");(a=N,b=L,!1!==(f=b["$[]"](a))&&f!==k?f:b["$[]="](a,[]))["$<<"](h["$[]"](3));J=N;return k},d.$$s=b,d),f).call(c,O)},h.$$s=this,h),e).call(n),r.get("EOL")),v=J["$=="](N),(e=L["$empty?"]())===k||e.$$is_boolean&&1!=e||(L=k)):L=k;R=t=k;m=d;if("coderay"["$==="](m))(e=t=(f=this["$attr?"]("linenums"))===
k||f.$$is_boolean&&1!=f?k:(!1!==(f=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&f!==k?f:"table").$to_sym())===k||e.$$is_boolean&&1!=e||(e=this["$attr?"]("highlight",k,!1))===k||e.$$is_boolean&&1!=e||(R=this.$resolve_lines_to_highlight(this.$attr("highlight",k,!1))),E=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",B(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(e=this.document.$attributes()["$[]"]("coderay-css"))&&
e!==k?e:"class").$to_sym(),line_numbers:t,line_number_anchors:!1,highlight_lines:R,bold_every:!1})).$highlight(b);else if("pygments"["$==="](m)){m=!1!==(e=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",k,!1)))&&e!==k?e:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");ca=B(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});(!1!==(e=this.document.$attributes()["$[]"]("pygments-css"))&&e!==k?e:"class")["$=="]("class")||(ca["$[]="]("noclasses",
!0),ca["$[]="]("style",!1!==(e=this.document.$attributes()["$[]"]("pygments-style"))&&e!==k?e:r.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE")));if((e=this["$attr?"]("highlight",k,!1))!==k&&(!e.$$is_boolean||1==e)&&((e=(R=this.$resolve_lines_to_highlight(this.$attr("highlight",k,!1)))["$empty?"]())===k||e.$$is_boolean&&1!=e))ca["$[]="]("hl_lines",p(R," "));(e=this["$attr?"]("linenums"))===k||e.$$is_boolean&&1!=e?(ca["$[]="]("nowrap",!0),E=m.$highlight(b,B(["options"],{options:ca}))):ca["$[]="]("linenos",
!1!==(e=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&e!==k?e:"table")["$=="]("table")?(t="table",E=m.$highlight(b,B(["options"],{options:ca})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):E=m.$highlight(b,B(["options"],{options:ca})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")}if((e=this.passthroughs["$empty?"]())===k||e.$$is_boolean&&1!=e)E=E.$gsub(r.get("PASS_MATCH_HI"),""+r.get("PASS_START")+"\\1"+r.get("PASS_END"));
if((e=(f=!1!==c&&c!==k)?L:c)===k||e.$$is_boolean&&1!=e)return E;N=0;H=t["$!="]("table");return p((e=(f=E.$split(r.get("EOL"))).$map,e.$$p=(w=function(a){var b=w.$$s||this,f,h,c,d=k,g=k,e=k,d=k;null==b.document&&(b.document=k);null==a&&(a=k);if(!1===H||H===k){if((f=a["$include?"]('<td class="code">'))===k||f.$$is_boolean&&1!=f)return a;H=!0}N=q(N,1);if((f=d=L.$delete(N))===k||f.$$is_boolean&&1!=f)return a;g=k;(f=(h=!1!==v&&v!==k)?L["$empty?"]():v)===k||f.$$is_boolean&&1!=f||((f=e=a.$index("</pre>"))===
k||f.$$is_boolean&&1!=f?a=""+a.$chomp(" ")+" ":(g=a["$[]"](x(e,-1,!1)),a=""+a["$[]"](x(0,e,!0)).$chomp(" ")+" "));if(d.$size()["$=="](1))return""+a+r.get("Inline").$new(b,"callout",d["$[]"](0),B(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()+g;d=p((f=(h=d).$map,f.$$p=(c=function(a){var b=c.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return r.get("Inline").$new(b,"callout",a,B(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},c.$$s=b,c),f).call(h)," ");
return""+a+d+g},w.$$s=this,w),e).call(f),r.get("EOL"))});a.defn(n,"$resolve_lines_to_highlight",function(b){var c,d,n,p=k,p=[];(c=(d=b.$delete(" ").$split(r.get("DataDelimiterRx"))).$map,c.$$p=(n=function(b){var f,c=k,d=k,g=k,d=k;null==b&&(b=k);c=!1;(f=b["$start_with?"]("!"))===k||f.$$is_boolean&&1!=f||(b=b["$[]"](x(1,-1,!1)),c=!0);if((f=b["$include?"]("-"))===k||f.$$is_boolean&&1!=f)return!1!==c&&c!==k?p.$delete(b.$to_i()):p["$<<"](b.$to_i());f=a.to_ary(b.$split("-",2));d=null==f[0]?k:f[0];g=null==
f[1]?k:f[1];d=x(d.$to_i(),g.$to_i(),!1).$to_a();return!1!==c&&c!==k?p=e(p,d):p.$concat(d)},n.$$s=this,n),c).call(d);return p.$sort().$uniq()});a.defn(n,"$sub_source",function(a,b){return!1!==b&&b!==k?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)});a.defn(n,"$lock_in_subs",function(){var a,b,c,d,e,h=k,f=h=k;null==this.default_subs&&(this.default_subs=k);null==this.content_model&&(this.content_model=k);null==this.context&&(this.context=k);null==this.attributes&&(this.attributes=
k);null==this.style&&(this.style=k);null==this.document&&(this.document=k);null==this.subs&&(this.subs=k);if((a=this.default_subs)===k||a.$$is_boolean&&1!=a)if(h=this.content_model,"simple"["$==="](h))h=r.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](h))h=(a=!1!==(b=this.context["$=="]("listing"))&&b!==k?b:(c=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===k||a.$$is_boolean&&1!=a?this.context["$=="]("verse")?r.get("SUBS")["$[]"]("normal"):
r.get("SUBS")["$[]"]("basic"):r.get("SUBS")["$[]"]("verbatim");else if("raw"["$==="](h))h=this.context["$=="]("stem")?r.get("SUBS")["$[]"]("basic"):r.get("SUBS")["$[]"]("pass");else return k;else h=this.default_subs;(a=f=this.attributes["$[]"]("subs"))===k||a.$$is_boolean&&1!=a?this.subs=h.$dup():this.subs=this.$resolve_block_subs(f,h,this.context);return(a=(b=(c=(d=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==d&&d!==k?this.attributes["$[]"]("language"):
d),!1!==c&&c!==k?this.document["$basebackend?"]("html"):c),!1!==b&&b!==k?r.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):b))===k||a.$$is_boolean&&1!=a?k:this.subs=(a=(b=this.subs).$map,a.$$p=(e=function(a){null==a&&(a=k);return a["$=="]("specialcharacters")?"highlight":a},e.$$s=this,e),a).call(b)})})(b(t,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/abstract_node"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}a.dynamic_require_severity="ignore";var m=a.nil,e=a.module,k=a.klass,d=a.hash2,c=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $is_root? $join $base_dir $system_path $relative_path".split(" "));
return function(b){(function(b,$super){function e(){}var t=e=k(b,$super,"AbstractNode",e),n=t.$$proto,r=t.$$scope;n.document=n.attributes=n.path_resolver=n.style=m;t.$include(r.get("Substitutors"));t.$attr_reader("parent");t.$attr_reader("document");t.$attr_reader("context");t.$attr_reader("node_name");t.$attr_accessor("id");t.$attr_reader("attributes");a.defn(t,"$initialize",function(a,b,c){var e;null==c&&(c=d([],{}));b["$=="]("document")?this.document=a:!1!==a&&a!==m?(this.parent=a,this.document=
a.$document()):this.document=this.parent=m;this.context=b;this.node_name=b.$to_s();this.attributes=(e=c["$key?"]("attributes"))===m||e.$$is_boolean&&1!=e?d([],{}):c["$[]"]("attributes").$dup();return this.passthroughs=d([],{})});a.defn(t,"$parent=",function(a){this.parent=a;this.document=a.$document();return m});a.defn(t,"$inline?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(t,"$block?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(t,"$attr",function(b,
c,d){var e,k;null==c&&(c=m);null==d&&(d=!0);(e=a.get("Symbol")["$==="](b))===m||e.$$is_boolean&&1!=e||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return!1!==d&&d!==m?!1!==(e=!1!==(k=this.attributes["$[]"](b))&&k!==m?k:this.document.$attributes()["$[]"](b))&&e!==m?e:c:!1!==(e=this.attributes["$[]"](b))&&e!==m?e:c});a.defn(t,"$attr?",function(b,c,d){var e;null==c&&(c=m);null==d&&(d=!0);(e=a.get("Symbol")["$==="](b))===m||e.$$is_boolean&&1!=e||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return(e=
c["$nil?"]())===m||e.$$is_boolean&&1!=e?!1!==d&&d!==m?c["$=="](!1!==(e=this.attributes["$[]"](b))&&e!==m?e:this.document.$attributes()["$[]"](b)):c["$=="](this.attributes["$[]"](b)):!1!==(e=this.attributes["$has_key?"](b))&&e!==m?e:!1!==d&&d!==m?this.document.$attributes()["$has_key?"](b):d});a.defn(t,"$set_attr",function(a,b,c){var d;null==c&&(c=!0);return(d=c["$=="](!1)?this.attributes["$key?"](a):c["$=="](!1))===m||d.$$is_boolean&&1!=d?(this.attributes["$[]="](a,b),!0):!1});a.defn(t,"$set_option",
function(a){var b;if((b=this.attributes["$has_key?"]("options"))===m||b.$$is_boolean&&1!=b)this.attributes["$[]="]("options",a);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+","+a);return this.attributes["$[]="](""+a+"-option","")});a.defn(t,"$option?",function(a){return this.attributes["$has_key?"](""+a+"-option")});a.defn(t,"$update_attributes",function(a){this.attributes.$update(a);return m});a.defn(t,"$converter",function(){return this.document.$converter()});a.defn(t,
"$role?",function(a){var b;null==a&&(a=m);return!1!==a&&a!==m?a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==m?b:this.document.$attributes()["$[]"]("role")):!1!==(b=this.attributes["$has_key?"]("role"))&&b!==m?b:this.document.$attributes()["$has_key?"]("role")});a.defn(t,"$role",function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==m?a:this.document.$attributes()["$[]"]("role")});a.defn(t,"$has_role?",function(a){var b,c,d=m;return(b=d=!1!==(c=this.attributes["$[]"]("role"))&&
c!==m?c:this.document.$attributes()["$[]"]("role"))===m||b.$$is_boolean&&1!=b?!1:d.$split(" ")["$include?"](a)});a.defn(t,"$roles",function(){var a,b,c=m;return(a=c=!1!==(b=this.attributes["$[]"]("role"))&&b!==m?b:this.document.$attributes()["$[]"]("role"))===m||a.$$is_boolean&&1!=a?[]:c.$split(" ")});a.defn(t,"$add_role",function(a){var b,c,d=m;return(b=(d=(!1!==(c=this.attributes["$[]"]("role"))&&c!==m?c:"").$split(" "))["$include?"](a))===m||b.$$is_boolean&&1!=b?this.attributes["$[]="]("role",
q(d.$push(a)," ")):m});a.defn(t,"$remove_role",function(a){var b,c,d=m;if((b=(d=(!1!==(c=this.attributes["$[]"]("role"))&&c!==m?c:"").$split(" "))["$include?"](a))===m||b.$$is_boolean&&1!=b)return m;d.$delete(a);return this.attributes["$[]="]("role",q(d," "))});a.defn(t,"$reftext?",function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==m?a:this.document.$attributes()["$has_key?"]("reftext")});a.defn(t,"$reftext",function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&
a!==m?a:this.document.$attributes()["$[]"]("reftext")});a.defn(t,"$icon_uri",function(b){var c,d=m;return(c=this["$attr?"]("icon"))===m||c.$$is_boolean&&1!=c?this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir"):(c=a.get("File").$extname(d=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===m||c.$$is_boolean&&1!=c?d:""+d+"."+this.document.$attr("icontype","png")});a.defn(t,"$media_uri",function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&
b!==m?this.document.$attr(b):m)});a.defn(t,"$image_uri",function(a,b){var c,d,e,h,f=m,k=m;null==b&&(b="imagesdir");return(c=p((f=this.document).$safe(),r.get("SafeMode").$$scope.get("SECURE"))?f["$attr?"]("data-uri"):p((f=this.document).$safe(),r.get("SafeMode").$$scope.get("SECURE")))===m||c.$$is_boolean&&1!=c?this.$normalize_web_path(a,!1!==b&&b!==m?f.$attr(b):m):(c=!1!==(d=r.get("Helpers")["$uriish?"](a))&&d!==m?d:(e=(h=!1!==b&&b!==m?k=f.$attr(b):b,!1!==h&&h!==m?r.get("Helpers")["$uriish?"](k):
h),!1!==e&&e!==m?a=this.$normalize_web_path(a,k,!1):e))===m||c.$$is_boolean&&1!=c?this.$generate_data_uri(a,b):(c=f["$attr?"]("allow-uri-read"))===m||c.$$is_boolean&&1!=c?a:this.$generate_data_uri_from_uri(a,f["$attr?"]("cache-uri"))});a.defn(t,"$generate_data_uri",function(b,g){var e,k,n,h=m,f=h=m,w=m;null==g&&(g=m);h=a.get("File").$extname(b);h=h["$=="](".svg")?"image/svg+xml":"image/"+h["$[]"](c(1,-1,!1));f=!1!==g&&g!==m?this.$normalize_system_path(b,this.document.$attr(g),m,d(["target_name"],
{target_name:"image"})):this.$normalize_system_path(b);if((e=a.get("File")["$readable?"](f))===m||e.$$is_boolean&&1!=e)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+f),"data:"+h+":base64,";w=m;w=(e=a.get("IO")["$respond_to?"]("binread"))===m||e.$$is_boolean&&1!=e?(e=(k=a.get("File")).$open,e.$$p=(n=function(a){null==a&&(a=m);return a.$read()},n.$$s=this,n),e).call(k,f,"rb"):a.get("IO").$binread(f);return"data:"+h+";base64,"+a.get("Base64").$encode64(w).$delete(r.get("EOL"))});
a.defn(t,"$generate_data_uri_from_uri",function(b,c){var d,e,k=m,h=m;null==c&&(c=!1);!1!==c&&c!==m?r.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(d=a.get("RUBY_ENGINE_OPAL")["$!"]())===m||d.$$is_boolean&&1!=d||a.get("OpenURI");try{return k=m,h=(d=this.$open,d.$$p=(e=function(a){null==a&&(a=m);k=a.$content_type();return a.$read()},e.$$s=this,e),d).call(this,b,"rb"),"data:"+k+";base64,"+a.get("Base64").$encode64(h).$delete(r.get("EOL"))}catch(f){try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+
b),b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(t,"$read_contents",function(b,c){var e,k,n,h,f,w=m,p=m,t=m;null==c&&(c=d([],{}));w=this.document;if((e=!1!==(k=r.get("Helpers")["$uriish?"](b))&&k!==m?k:(n=(h=p=c["$[]"]("start"),!1!==h&&h!==m?r.get("Helpers")["$uriish?"](p):h),!1!==n&&n!==m?b=(!1!==(h=this.path_resolver)&&h!==m?h:this.path_resolver=r.get("PathResolver").$new()).$web_path(b,p):n))===m||e.$$is_boolean&&1!=e)b=this.$normalize_system_path(b,c["$[]"]("start"),m,d(["target_name"],
{target_name:!1!==(e=c["$[]"]("label"))&&e!==m?e:"asset"})),t=this.$read_asset(b,d(["normalize","warn_on_failure"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0)}));else if((e=w["$attr?"]("allow-uri-read"))===m||e.$$is_boolean&&1!=e)(e=c.$fetch("warn_on_failure",!0))===m||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(e=c["$[]"]("label"))&&e!==m?e:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),t=m;else{(e=
w["$attr?"]("cache-uri"))===m||e.$$is_boolean&&1!=e||r.get("Helpers").$require_library("open-uri/cached","open-uri-cached");try{t=(e=(k=a.get("OpenURI")).$open_uri,e.$$p=(f=function(a){null==a&&(a=m);return a.$read()},f.$$s=this,f),e).call(k,b),(e=c["$[]"]("normalize"))===m||e.$$is_boolean&&1!=e||(t=q(r.get("Helpers").$normalize_lines_from_string(t),r.get("EOL")))}catch(N){try{(e=c.$fetch("warn_on_failure",!0))===m||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+
(!1!==(e=c["$[]"]("label"))&&e!==m?e:"asset")+" at URI: "+b),t=m}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}return t});a.defn(t,"$read_asset",function(b,c){var e;null==c&&(c=d([],{}));if((e=a.get("Hash")["$==="](c))===m||e.$$is_boolean&&1!=e)c=d(["warn_on_failure"],{warn_on_failure:c["$!="](!1)});return(e=a.get("File")["$readable?"](b))===m||e.$$is_boolean&&1!=e?((e=c["$[]"]("warn_on_failure"))===m||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+
b),m):(e=c["$[]"]("normalize"))===m||e.$$is_boolean&&1!=e?a.get("IO").$read(b):q(r.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(b)),r.get("EOL"))});a.defn(t,"$normalize_web_path",function(a,b,c){var d;null==b&&(b=m);null==c&&(c=!0);return(d=!1!==c&&c!==m?r.get("Helpers")["$uriish?"](a):c)===m||d.$$is_boolean&&1!=d?(!1!==(d=this.path_resolver)&&d!==m?d:this.path_resolver=r.get("PathResolver").$new()).$web_path(a,b):a});a.defn(t,"$normalize_system_path",function(b,c,e,k){var n,h=m,
f=m;null==c&&(c=m);null==e&&(e=m);null==k&&(k=d([],{}));h=!1!==(n=this.path_resolver)&&n!==m?n:this.path_resolver=r.get("PathResolver").$new();if(p((f=this.document).$safe(),r.get("SafeMode").$$scope.get("SAFE")))if(!1!==c&&c!==m){if((n=h["$is_root?"](c))===m||n.$$is_boolean&&1!=n)c=a.get("File").$join(f.$base_dir(),c)}else c=f.$base_dir();else{if(!1===c||c===m)c=f.$base_dir();if(!1===e||e===m)e=f.$base_dir()}return h.$system_path(b,c,e,k)});a.defn(t,"$normalize_asset_path",function(a,b,c){null==
b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),m,d(["target_name","recover"],{target_name:b,recover:c}))});a.defn(t,"$relative_path",function(a){var b;return(!1!==(b=this.path_resolver)&&b!==m?b:this.path_resolver=r.get("PathResolver").$new()).$relative_path(a,this.document.$base_dir())});a.defn(t,"$is_uri?",function(a){return r.get("Helpers")["$uriish?"](a)});return(a.defn(t,"$list_marker_keyword",function(a){var b;null==a&&(a=m);return r.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==
(b=a)&&b!==m?b:this.style)}),m)&&"list_marker_keyword"})(e(b,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/abstract_block"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var m=a.nil,e=a.breaker,k=a.slice,d=a.module,c=a.klass,b=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));return function(B){B=
d(B,"Asciidoctor").$$scope;(function(d,$super){function t(){}var n=t=c(d,$super,"AbstractBlock",t),r=n.$$proto,l=n.$$scope,g,u;r.document=r.attributes=r.blocks=r.source_location=r.subs=r.title=r.subbed_title=r.caption=r.next_section_index=r.context=r.style=r.id=r.header=r.next_section_number=m;n.$attr_accessor("content_model");n.$attr_reader("subs");n.$attr_reader("blocks");n.$attr_accessor("level");n.$attr_writer("title");n.$attr_accessor("style");n.$attr_accessor("caption");n.$attr_accessor("source_location");
a.defn(n,"$initialize",g=function(c,d,h){var f=k.call(arguments,0),e,l=g.$$p;null==h&&(h=b([],{}));g.$$p=null;a.find_super_dispatcher(this,"initialize",g,l).apply(this,f);this.content_model="compound";this.subs=[];this.default_subs=m;this.blocks=[];this.style=this.caption=this.title=this.id=m;this.level=d["$=="]("document")?0:(e=!1!==c&&c!==m?d["$!="]("section"):c)===m||e.$$is_boolean&&1!=e?m:c.$level();this.next_section_index=0;this.next_section_number=1;return this.source_location=m});a.defn(n,
"$block?",function(){return!0});a.defn(n,"$inline?",function(){return!1});a.defn(n,"$context=",function(a){this.context=a;return this.node_name=a.$to_s()});a.defn(n,"$convert",function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)});a.alias(n,"render","convert");a.defn(n,"$content",function(){var a,b,h;return q((a=(b=this.blocks).$map,a.$$p=(h=function(a){null==a&&(a=m);return a.$convert()},h.$$s=this,h),a).call(b),l.get("EOL"))});a.defn(n,"$file",function(){var a;
return(a=this.source_location)===m||a.$$is_boolean&&1!=a?m:this.source_location.$file()});a.defn(n,"$lineno",function(){var a;return(a=this.source_location)===m||a.$$is_boolean&&1!=a?m:this.source_location.$lineno()});a.defn(n,"$sub?",function(a){return this.subs["$include?"](a)});a.defn(n,"$title?",function(){return this.title["$nil_or_empty?"]()["$!"]()});a.defn(n,"$title",function(){var a,b;return(a=(b=this.subbed_title,null!=b&&b!==m)?"instance-variable":m)===m||a.$$is_boolean&&1!=a?(a=this.title)===
m||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title});a.defn(n,"$captioned_title",function(){return""+this.caption+this.$title()});a.defn(n,"$blocks?",function(){return this.blocks["$empty?"]()["$!"]()});a.defn(n,"$<<",function(a){this.blocks["$<<"](a);return this});a.alias(n,"append","<<");a.defn(n,"$sections",function(){var a,b,h;return(a=(b=this.blocks).$select,a.$$p=(h=function(a){null==a&&(a=m);return a.$context()["$=="]("section")},h.$$s=
this,h),a).call(b)});a.defn(n,"$sections?",function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)});a.defn(n,"$find_by",u=function(c){var d,h,f,g,l,k,n,v=u.$$p||m,r=m,p=m,q=m,t=m,E=m,ca=m;null==c&&(c=b([],{}));u.$$p=null;r=[];if((d=(h=(f=(g=!1!==(l=p=(q=c["$[]"]("context"))["$!"]())&&l!==m?l:q["$=="](this.context),!1!==g&&g!==m?!1!==(l=(t=c["$[]"]("style"))["$!"]())&&l!==m?l:t["$=="](this.style):g),!1!==f&&f!==m?!1!==(g=(E=c["$[]"]("role"))["$!"]())&&g!==m?g:this["$has_role?"](E):
f),!1!==h&&h!==m?!1!==(f=(ca=c["$[]"]("id"))["$!"]())&&f!==m?f:ca["$=="](this.id):h))!==m&&(!d.$$is_boolean||1==d)){if(!1!==ca&&ca!==m)return v!==m?(d=(h=a.yield1(v,this))===e?e.$v:h)===m||d.$$is_boolean&&1!=d?r:[this]:[this];if(v!==m){if((d=(h=a.yield1(v,this))===e?e.$v:h)!==m&&(!d.$$is_boolean||1==d))r["$<<"](this)}else r["$<<"](this)}(d=(h=(f=this.context["$=="]("document"))?!1!==(g=p)&&g!==m?g:q["$=="]("section"):this.context["$=="]("document"),!1!==h&&h!==m?this["$header?"]():h))===m||d.$$is_boolean&&
1!=d||r.$concat((d=(h=this.header).$find_by,d.$$p=v.$to_proc(),d).call(h,c));q["$=="]("document")||(this.context["$=="]("dlist")?(d=!1!==(f=p)&&f!==m?f:q["$!="]("section"))===m||d.$$is_boolean&&1!=d||(d=(f=this.blocks.$flatten()).$each,d.$$p=(k=function(a){var b,f;null==a&&(a=m);return!1!==a&&a!==m?r.$concat((b=(f=a).$find_by,b.$$p=v.$to_proc(),b).call(f,c)):m},k.$$s=this,k),d).call(f):d=(g=(l=this.blocks).$each,g.$$p=(n=function(a){var b,f;null==a&&(a=m);return(b=q["$=="]("section")?a.$context()["$!="]("section"):
q["$=="]("section"))===m||b.$$is_boolean&&1!=b?r.$concat((b=(f=a).$find_by,b.$$p=v.$to_proc(),b).call(f,c)):m},n.$$s=this,n),g).call(l));return r});a.alias(n,"query","find_by");a.defn(n,"$remove_sub",function(a){this.subs.$delete(a);return m});a.defn(n,"$assign_caption",function(a,b){var h,f,c=m,d=c=c=m;null==a&&(a=m);null==b&&(b=m);if((h=!1!==(f=this["$title?"]())&&f!==m?f:this.caption["$!"]())===m||h.$$is_boolean&&1!=h)return m;!1!==a&&a!==m?this.caption=a:(h=c=this.document.$attributes()["$[]"]("caption"))===
m||h.$$is_boolean&&1!=h?(h=this["$title?"]())===m||h.$$is_boolean&&1!=h||(!1!==(h=b)&&h!==m?h:b=this.context.$to_s(),c=""+b+"-caption",(h=c=this.document.$attributes()["$[]"](c))===m||h.$$is_boolean&&1!=h||(d=this.document.$counter_increment(""+b+"-number",this),this.caption=""+c+" "+d+". ")):this.caption=c;return m});a.defn(n,"$assign_index",function(a){var b,h,f,c=m,d=m;b=[this.next_section_index];h=a;h["$index="].apply(h,b);b[b.length-1];this.next_section_index=p(this.next_section_index,1);return a.$sectname()["$=="]("appendix")?
(c=this.document.$counter("appendix-number","A"),(b=a.$numbered())===m||b.$$is_boolean&&1!=b||(b=[c],h=a,h["$number="].apply(h,b),b[b.length-1]),(b=(d=this.document.$attr("appendix-caption",""))["$!="](""))===m||b.$$is_boolean&&1!=b?(b=[""+c+". "],h=a,h["$caption="].apply(h,b),b[b.length-1]):(b=[""+d+" "+c+": "],h=a,h["$caption="].apply(h,b),b[b.length-1])):(b=a.$numbered())===m||b.$$is_boolean&&1!=b?m:(b=(h=!1!==(f=a.$level()["$=="](1))&&f!==m?f:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),
!1!==h&&h!==m?this.document.$doctype()["$=="]("book"):h))===m||b.$$is_boolean&&1!=b?(b=[this.next_section_number],h=a,h["$number="].apply(h,b),b[b.length-1],this.next_section_number=p(this.next_section_number,1)):(b=[this.document.$counter("chapter-number",1)],h=a,h["$number="].apply(h,b),b[b.length-1])});return(a.defn(n,"$reindex_sections",function(){var a,b,h;this.next_section_number=this.next_section_index=0;return(a=(b=this.blocks).$each,a.$$p=(h=function(a){var b=h.$$s||this;null==a&&(a=m);return a.$context()["$=="]("section")?
(b.$assign_index(a),a.$reindex_sections()):m},h.$$s=this,h),a).call(b)}),m)&&"reindex_sections"})(B.base,B.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/attribute_list"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var p=a.nil,m=a.module,e=a.klass,k=a.hash2;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(d){(function(c,
$super){function d(){}var m=d=e(c,$super,"AttributeList",d),x=m.$$proto,t=m.$$scope;x.attributes=x.scanner=x.delimiter=x.block=x.delimiter_skip_pattern=x.delimiter_boundary_pattern=p;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(t,"CG_BLANK","[ \\t]"),a.cdecl(t,"CC_WORD","a-zA-Z0-9_"),a.cdecl(t,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(t,"BoundaryRxs",k(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+t.get("CG_BLANK")+"*(,|$))")}));a.cdecl(t,"EscapedQuoteRxs",k(['"',"'"],{'"':/\\"/,
"'":/\\'/}));a.cdecl(t,"NameRx",new RegExp(""+t.get("CG_WORD")+"["+t.get("CC_WORD")+"\\-.]*"));a.cdecl(t,"BlankRx",new RegExp(""+t.get("CG_BLANK")+"+"));a.cdecl(t,"SkipRxs",k(["blank",","],{blank:t.get("BlankRx"),",":new RegExp(""+t.get("CG_BLANK")+"*(,|$)")}));a.defn(m,"$initialize",function(c,d,e){null==d&&(d=p);null==e&&(e=",");this.scanner=a.get("StringScanner").$new(c);this.block=d;this.delimiter=e;this.delimiter_skip_pattern=t.get("SkipRxs")["$[]"](e);this.delimiter_boundary_pattern=t.get("BoundaryRxs")["$[]"](e);
return this.attributes=p});a.defn(m,"$parse_into",function(a,c){null==c&&(c=[]);return a.$update(this.$parse(c))});a.defn(m,"$parse",function(a){var c,d,g=p;null==a&&(a=[]);if((c=this.attributes)!==p&&(!c.$$is_boolean||1==c))return this.attributes;this.attributes=k([],{});for(g=0;(d=this.$parse_attribute(g,a))!==p&&(!d.$$is_boolean||1==d)&&((d=this.scanner["$eos?"]())===p||d.$$is_boolean&&1!=d);)this.$skip_delimiter(),g=q(g,1);return this.attributes});a.defn(m,"$rekey",function(a){return t.get("AttributeList").$rekey(this.attributes,
a)});a.defs(m,"$rekey",function(a,c){var d,g;(d=c.$each_with_index,d.$$p=(g=function(c,d){var g,h=p,f=p;null==c&&(c=p);null==d&&(d=p);if(!1===c||c===p)return p;h=q(d,1);return(g=f=a["$[]"](h))===p||g.$$is_boolean&&1!=g?p:a["$[]="](c,f)},g.$$s=this,g),d).call(c);return a});a.defn(m,"$parse_attribute",function(a,c){var d,g,e,k,m=p,h=p,f=h=p,w=p,z=p,h=m=w=p;null==a&&(a=0);null==c&&(c=[]);m=!1;this.$skip_blank();if((h=this.scanner.$peek(1))["$=="]('"'))h=this.$parse_attribute_value(this.scanner.$get_byte()),
f=p;else if(h["$=="]("'"))h=this.$parse_attribute_value(this.scanner.$get_byte()),f=p,m=!0;else{h=this.$scan_name();w=0;z=p;if((d=this.scanner["$eos?"]())===p||d.$$is_boolean&&1!=d)w=!1!==(d=this.$skip_blank())&&d!==p?d:0,z=this.scanner.$get_byte();else if(!1===h||h===p)return!1;if((d=!1!==(g=z["$!"]())&&g!==p?g:z["$=="](this.delimiter))===p||d.$$is_boolean&&1!=d)if((d=!1!==(g=z["$!="]("="))&&g!==p?g:h["$!"]())===p||d.$$is_boolean&&1!=d){if(this.$skip_blank(),(d=this.scanner.$peek(1))!==p&&(!d.$$is_boolean||
1==d))if((z=this.scanner.$get_byte())["$=="]('"'))f=this.$parse_attribute_value(z);else if(z["$=="]("'"))f=this.$parse_attribute_value(z),m=!0;else if(z["$=="](this.delimiter))f=p;else if(f=""+z+this.$scan_to_delimiter(),f["$=="]("None"))return!0}else h=""+h+" "["$*"](w)+z+this.$scan_to_delimiter(),f=p;else f=p}if(!1!==f&&f!==p)if(w=h,"options"["$==="](w)||"opts"["$==="](w))h="options",(d=(g=f.$tr(" ","").$split(",")).$each,d.$$p=(e=function(a){var f=e.$$s||this;null==f.attributes&&(f.attributes=
p);null==a&&(a=p);return f.attributes["$[]="](""+a+"-option","")},e.$$s=this,e),d).call(g),this.attributes["$[]="](h,f);else if("title"["$==="](w))this.attributes["$[]="](h,f);else this.attributes["$[]="](h,(d=(k=!1!==m&&m!==p?f["$empty?"]()["$!"]():m,!1!==k&&k!==p?this.block:k))===p||d.$$is_boolean&&1!=d?f:this.block.$apply_normal_subs(f));else{m=(d=(k=!1!==m&&m!==p?h["$empty?"]()["$!"]():m,!1!==k&&k!==p?this.block:k))===p||d.$$is_boolean&&1!=d?h:this.block.$apply_normal_subs(h);if((d=h=c["$[]"](a))!==
p&&(!d.$$is_boolean||1==d))this.attributes["$[]="](h,m);this.attributes["$[]="](q(a,1),m)}return!0});a.defn(m,"$parse_attribute_value",function(a){var c,d=p;if(this.scanner.$peek(1)["$=="](a))return this.scanner.$get_byte(),"";if((c=d=this.$scan_to_quote(a))===p||c.$$is_boolean&&1!=c)return""+a+this.$scan_to_delimiter();this.scanner.$get_byte();return d.$gsub(t.get("EscapedQuoteRxs")["$[]"](a),a)});a.defn(m,"$skip_blank",function(){return this.scanner.$skip(t.get("BlankRx"))});a.defn(m,"$skip_delimiter",
function(){return this.scanner.$skip(this.delimiter_skip_pattern)});a.defn(m,"$scan_name",function(){return this.scanner.$scan(t.get("NameRx"))});a.defn(m,"$scan_to_delimiter",function(){return this.scanner.$scan(this.delimiter_boundary_pattern)});return(a.defn(m,"$scan_to_quote",function(a){return this.scanner.$scan(t.get("BoundaryRxs")["$[]"](a))}),p)&&"scan_to_quote"})(m(d,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/block"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var p=a.nil,m=a.slice,e=a.module,k=a.klass,d=a.hash2;a.add_stubs("$default= $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(c){c=e(c,"Asciidoctor").$$scope;(function(b,
$super){function c(){}var e=c=k(b,$super,"Block",c),t=e.$$proto,n=e.$$scope,r,l,g;t.attributes=t.content_model=t.lines=t.subs=t.blocks=t.context=t.style=p;t=["simple"];r=a.cdecl(n,"DEFAULT_CONTENT_MODEL",d("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));r["$default="].apply(r,t);t[t.length-1];a.alias(e,
"blockname","context");e.$attr_accessor("lines");a.defn(e,"$initialize",l=function(b,c,g){var h=m.call(arguments,0),f,e=l.$$p,k=p,r=p;null==g&&(g=d([],{}));l.$$p=null;a.find_super_dispatcher(this,"initialize",l,e).apply(this,h);this.content_model=!1!==(f=g["$[]"]("content_model"))&&f!==p?f:n.get("DEFAULT_CONTENT_MODEL")["$[]"](c);(f=g["$key?"]("subs"))===p||f.$$is_boolean&&1!=f?(this.subs=[],this.default_subs=p):(f=k=g["$[]"]("subs"))===p||f.$$is_boolean&&1!=f?(this.subs=[],this.default_subs=[],this.attributes.$delete("subs")):
(k["$=="]("default")?this.default_subs=g["$[]"]("default_subs"):(f=a.get("Array")["$==="](k))===p||f.$$is_boolean&&1!=f?(this.default_subs=p,this.attributes["$[]="]("subs",""+k)):(this.default_subs=k.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(f=(r=g["$[]"]("source"))["$nil_or_empty?"]())===p||f.$$is_boolean&&1!=f?(f=a.get("String")["$==="](r))===p||f.$$is_boolean&&1!=f?this.lines=r.$dup():this.lines=n.get("Helpers").$normalize_lines_from_string(r):this.lines=[]});a.defn(e,
"$content",g=function(){var b=m.call(arguments,0),c,d,h=this,f=g.$$p,e=p,l=p,k=p,r=p;g.$$p=null;return function(){e=h.content_model;if("compound"["$==="](e))return a.find_super_dispatcher(h,"content",g,f).apply(h,b);if("simple"["$==="](e))return h.$apply_subs(q(h.lines,n.get("EOL")),h.subs);if("verbatim"["$==="](e)||"raw"["$==="](e)){l=h.$apply_subs(h.lines,h.subs);var v=l.$size();if("number"===typeof v?2>v:v["$<"](2))return l["$[]"](0);for(;(c=(d=k=l["$[]"](0),!1!==d&&d!==p?k.$rstrip()["$empty?"]():
d))!==p&&(!c.$$is_boolean||1==c);)l.$shift();for(;(c=(d=r=l["$[]"](-1),!1!==d&&d!==p?r.$rstrip()["$empty?"]():d))!==p&&(!c.$$is_boolean||1==c);)l.$pop();return q(l,n.get("EOL"))}h.content_model["$=="]("empty")||h.$warn("Unknown content model '"+h.content_model+"' for block: "+h.$to_s());return p}()});a.defn(e,"$source",function(){return q(this.lines,n.get("EOL"))});return(a.defn(e,"$to_s",function(){var a=p,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();
return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"}),p)&&"to_s"})(c.base,c.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/callouts"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var m=a.nil,e=a.module,k=a.klass,d=a.hash2;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(c){(function(b,$super){function c(){}var e=c=k(b,
$super,"Callouts",c),t=e.$$proto;t.co_index=t.lists=t.list_index=m;a.defn(e,"$initialize",function(){this.lists=[];this.list_index=0;return this.$next_list()});a.defn(e,"$register",function(a){var b=m;this.$current_list()["$<<"](d(["ordinal","id"],{ordinal:a.$to_i(),id:b=this.$generate_next_callout_id()}));this.co_index=q(this.co_index,1);return b});a.defn(e,"$read_next_id",function(){var a=m,b=m,a=m,b=this.$current_list(),c=this.co_index,d=b.$size();if("number"===typeof c&&"number"===typeof d?c<=
d:c["$<="](d))a=b["$[]"](p(this.co_index,1))["$[]"]("id");this.co_index=q(this.co_index,1);return a});a.defn(e,"$callout_ids",function(a){var b,c,d;return(b=(c=this.$current_list()).$map,b.$$p=(d=function(b){null==b&&(b=m);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":m},d.$$s=this,d),b).call(c).$join().$chop()});a.defn(e,"$current_list",function(){return this.lists["$[]"](p(this.list_index,1))});a.defn(e,"$next_list",function(){this.list_index=q(this.list_index,1);var a=this.lists.$size(),
b=this.list_index;if("number"===typeof a&&"number"===typeof b?a<b:a["$<"](b))this.lists["$<<"]([]);this.co_index=1;return m});a.defn(e,"$rewind",function(){this.co_index=this.list_index=1;return m});a.defn(e,"$generate_next_callout_id",function(){return this.$generate_callout_id(this.list_index,this.co_index)});return(a.defn(e,"$generate_callout_id",function(a,b){return"CO"+a+"-"+b}),m)&&"generate_callout_id"})(e(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/converter/base"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,p=a.module,m=a.klass,e=a.hash2;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(k){k=p(k,"Asciidoctor").$$scope;p(k.base,"Converter");q;(function(a,$super){function b(){}var e=b=m(a,$super,"Base",b);return e.$include(e.$$scope.get("Converter"))})(k.get("Converter"),null);(function(d,$super){function b(){}var k=b=m(d,$super,"BuiltIn",b);a.defn(k,"$initialize",function(a,
b){null==b&&e([],{});return q});a.defn(k,"$convert",function(a,b,d){var k;null==b&&(b=q);null==d&&(d=e([],{}));!1!==(k=b)&&k!==q?k:b=a.$node_name();return(k=d["$empty?"]())===q||k.$$is_boolean&&1!=k?this.$send(b,a,d):this.$send(b,a)});a.alias(k,"handles?","respond_to?");a.defn(k,"$content",function(a){return a.$content()});a.alias(k,"pass","content");return(a.defn(k,"$skip",function(a){return q}),q)&&"skip"})(k.get("Converter"),null)}(a.base)};
Opal.modules["asciidoctor/converter/factory"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,p=a.module,m=a.klass,e=a.hash2;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $== $[] $clear $is_a? $=== $key?".split(" "));return function(k){(function(d){(function(c,$super){function d(){}var k=d=m(c,$super,"Factory",d),p=k.$$proto,t=k.$$scope;p.converters=p.star_converter=q;k.__default__=q;(function(c){a.defn(c,
"$default",function(c){var d,g;null==this.__default__&&(this.__default__=q);null==c&&(c=!0);if(!1===c||c===q)c=!1!==(d=this.__default__)&&d!==q?d:this.$new();else{if(!1===(d=this.__default__)||d===q){var e;a:{try{((g=null==a.Object.$$scope.ThreadSafe?q:"constant")===q||g.$$is_boolean&&1!=g)&&this.$require("thread_safe".$to_s());e=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(k){if(a.rescue(k,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
e=this.$new();break a}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw k;}e=void 0}d=this.__default__=e}c=d}return c});a.defn(c,"$register",function(a,c){null==c&&(c=["*"]);return this.$default().$register(a,c)});a.defn(c,"$resolve",function(a){return this.$default().$resolve(a)});a.defn(c,"$create",function(a,c){null==c&&(c=e([],{}));return this.$default().$create(a,c)});a.defn(c,"$converters",function(){return this.$default().$converters()});return(a.defn(c,"$unregister_all",function(){return this.$default().$unregister_all()}),
q)&&"unregister_all"})(a.get_singleton_class(k));k.$attr_reader("converters");a.defn(k,"$initialize",function(a){var c;null==a&&(a=q);this.converters=!1!==(c=a)&&c!==q?c:e([],{});return this.star_converter=q});a.defn(k,"$register",function(a,c){var d,g,e;null==c&&(c=["*"]);(d=(g=c).$each,d.$$p=(e=function(c){var d=e.$$s||this;null==d.converters&&(d.converters=q);null==c&&(c=q);d.converters["$[]="](c,a);return c["$=="]("*")?d.star_converter=a:q},e.$$s=this,e),d).call(g);return q});a.defn(k,"$resolve",
function(a){var c,d;return c=this.converters,!1!==c&&c!==q?!1!==(d=this.converters["$[]"](a))&&d!==q?d:this.star_converter:c});a.defn(k,"$unregister_all",function(){this.converters.$clear();return this.star_converter=q});return(a.defn(k,"$create",function(c,d){var l,g=this,k=q,p=k=q,m=q;null==d&&(d=e([],{}));if((l=k=g.$resolve(c))!==q&&(!l.$$is_boolean||1==l))return(l=k["$is_a?"](a.get("Class")))===q||l.$$is_boolean&&1!=l?k:k.$new(c,d);k=function(){p=c;if("html5"["$==="](p)){var f;try{f=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?
"constant":q}catch(h){if(h.$$class===a.NameError)f=q;else throw h;}((l=f)===q||l.$$is_boolean&&1!=l)&&g.$require("asciidoctor/converter/html5".$to_s());return t.get("Html5Converter").$new(c,d)}if("docbook5"["$==="](p)){var e;try{e=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":q}catch(h){if(h.$$class===a.NameError)e=q;else throw h;}((l=e)===q||l.$$is_boolean&&1!=l)&&g.$require("asciidoctor/converter/docbook5".$to_s());return t.get("DocBook5Converter").$new(c,
d)}if("docbook45"["$==="](p)){var k;try{k=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":q}catch(h){if(h.$$class===a.NameError)k=q;else throw h;}((l=k)===q||l.$$is_boolean&&1!=l)&&g.$require("asciidoctor/converter/docbook45".$to_s());return t.get("DocBook45Converter").$new(c,d)}if("manpage"["$==="](p)){var m;try{m=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":q}catch(h){if(h.$$class===a.NameError)m=
q;else throw h;}((l=m)===q||l.$$is_boolean&&1!=l)&&g.$require("asciidoctor/converter/manpage".$to_s());return t.get("ManPageConverter").$new(c,d)}return q}();if((l=d["$key?"]("template_dirs"))===q||l.$$is_boolean&&1!=l)return k;var h;try{h=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":q}catch(w){if(w.$$class===a.NameError)h=q;else throw w;}((l=h)===q||l.$$is_boolean&&1!=l)&&g.$require("asciidoctor/converter/template".$to_s());var f;try{f=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?
"constant":q}catch(w){if(w.$$class===a.NameError)f=q;else throw w;}((l=f)===q||l.$$is_boolean&&1!=l)&&g.$require("asciidoctor/converter/composite".$to_s());m=t.get("TemplateConverter").$new(c,d["$[]"]("template_dirs"),d);return t.get("CompositeConverter").$new(c,m,k)}),q)&&"create"})(p(d,"Converter").$$scope.base,null)})(p(k,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/converter"]=function(a){a.dynamic_require_severity="ignore";var q=a.top,p=a.nil,m=a.module,e=a.range,k=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $extend $include $respond_to? $write $chomp $open $require".split(" "));(function(d){d=m(d,"Asciidoctor").$$scope;(function(c){c=m(c,"Converter");var b=c.$$scope;(function(b){b=m(b,"Config");var c=b.$$scope;a.defn(b,"$register_for",function(){var b,d,e,k,l,g=
p,g=arguments.length-0;0>g&&(g=0);for(var m=Array(g),q=0;q<g;q++)m[q]=arguments[q+0];c.get("Factory").$register(this,m);g=function(a){return a}(a.get_singleton_class(this));m["$=="](["*"])?(b=(d=g).$send,b.$$p=(e=function(a){return!0},e.$$s=this,e),b).call(d,"define_method","converts?"):(b=(k=g).$send,b.$$p=(l=function(a){null==a&&(a=p);return m["$include?"](a)},l.$$s=this,l),b).call(k,"define_method","converts?");return p})})(b.base);(function(b){b=m(b,"BackendInfo");var c=b.$$scope;a.defn(b,"$backend_info",
function(){var a;null==this.backend_info&&(this.backend_info=p);return!1!==(a=this.backend_info)&&a!==p?a:this.backend_info=this.$setup_backend_info()});a.defn(b,"$setup_backend_info",function(){var b,d=p,n=p,r=p,l=p;null==this.backend&&(this.backend=p);((b=this.backend)===p||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());d=this.backend.$sub(c.get("TrailingDigitsRx"),"");(b=n=c.get("DEFAULT_EXTENSIONS")["$[]"](d))===p||b.$$is_boolean&&
1!=b?(d="html",n=".html",l=r="html"):r=n["$[]"](e(1,-1,!1));return k(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:d,outfilesuffix:n,filetype:r,htmlsyntax:l})});a.defn(b,"$filetype",function(a){null==a&&(a=p);return!1!==a&&a!==p?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")});a.defn(b,"$basebackend",function(a){null==a&&(a=p);return!1!==a&&a!==p?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")});a.defn(b,
"$outfilesuffix",function(a){null==a&&(a=p);return!1!==a&&a!==p?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")});a.defn(b,"$htmlsyntax",function(a){null==a&&(a=p);return!1!==a&&a!==p?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")})})(b.base);(function(b){var c=b.$$scope;return(a.defn(b,"$included",function(a){return a.$extend(c.get("Config"))}),p)&&"included"})(a.get_singleton_class(c));c.$include(b.get("Config"));
c.$include(b.get("BackendInfo"));a.defn(c,"$initialize",function(a,b){null==b&&k([],{});this.backend=a;return this.$setup_backend_info()});a.defn(c,"$convert",function(b,c,d){null==d&&k([],{});return this.$raise(a.get("NotImplementedError"))});a.alias(c,"convert_with_options","convert")})(d.base);(function(c){c=m(c,"Writer");var b=c.$$scope;a.defn(c,"$write",function(c,d){var e,k,n;(e=d["$respond_to?"]("write"))===p||e.$$is_boolean&&1!=e?(e=(k=a.get("File")).$open,e.$$p=(n=function(a){null==a&&(a=
p);return a.$write(c)},n.$$s=this,n),e).call(k,d,"w"):(d.$write(c.$chomp()),d.$write(b.get("EOL")));return p})})(d.base);(function(c){c=m(c,"VoidWriter");c.$include(c.$$scope.get("Writer"));a.defn(c,"$write",function(a,c){return p})})(d.base)})(a.base);q.$require("asciidoctor/converter/base");return q.$require("asciidoctor/converter/factory")};
Opal.modules["asciidoctor/converter/html5"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function d(a,b){return"number"===typeof a&&"number"===
typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var c=a.nil,b=a.module,B=a.klass,y=a.hash2,x=a.range;a.add_stubs("$default= $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $index $text $footnotes $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $style $media_uri $option? $append_boolean_attribute $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $colspan $rowspan $rows $select $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match".split(" "));
return function(t){t=b(t,"Asciidoctor").$$scope;(function(b,$super){function l(){}var g=l=B(b,$super,"Html5Converter",l),t=g.$$proto,A=g.$$scope,C;t.xml_mode=t.void_element_slash=t.stylesheets=c;t=[[c,c,c]];C=a.cdecl(A,"QUOTE_TAGS",y("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],
"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));C["$default="].apply(C,t);t[t.length-1];a.cdecl(A,"SvgPreambleRx",/\A.*?(?=<svg[ >])/m);a.cdecl(A,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(A,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(g,"$initialize",function(a,b){var d;null==b&&(b=y([],{}));this.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(d=this.xml_mode)===
c||d.$$is_boolean&&1!=d?c:"/";return this.stylesheets=A.get("Stylesheets").$instance()});a.defn(g,"$document",function(a){var b,d,g,e,l,k,n=c,J=c,t=c,R=c,E=c,u=c,H=c,aa=u=H=u=H=R=H=R=H=c,J=J=u=u=H=c,n=[],J=this.void_element_slash,t="<br"+J+">";if((b=(R=a.$attr("asset-uri-scheme","https"))["$empty?"]())===c||b.$$is_boolean&&1!=b)R=""+R+":";E=""+R+"//cdnjs.cloudflare.com/ajax/libs";u=!1!==(b=q(a.$safe(),A.get("SafeMode").$$scope.get("SECURE")))&&b!==c?b:a["$attr?"]("linkcss");n["$<<"]("<!DOCTYPE html>");
H=(b=a["$attr?"]("nolang"))===c||b.$$is_boolean&&1!=b?' lang="'+a.$attr("lang","en")+'"':c;n["$<<"]("<html"+((b=this.xml_mode)===c||b.$$is_boolean&&1!=b?c:' xmlns="http://www.w3.org/1999/xhtml"')+H+">");n["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+J+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+J+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+J+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+
'"'+J+">");if((b=a["$attr?"]("app-name"))!==c&&(!b.$$is_boolean||1==b))n["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+J+">");if((b=a["$attr?"]("description"))!==c&&(!b.$$is_boolean||1==b))n["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+J+">");if((b=a["$attr?"]("keywords"))!==c&&(!b.$$is_boolean||1==b))n["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+J+">");if((b=a["$attr?"]("authors"))!==c&&(!b.$$is_boolean||1==b))n["$<<"]('<meta name="author" content="'+
a.$attr("authors")+'"'+J+">");if((b=a["$attr?"]("copyright"))!==c&&(!b.$$is_boolean||1==b))n["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+J+">");n["$<<"]("<title>"+a.$doctitle(y(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((b=A.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==c&&(!b.$$is_boolean||1==b)){if((b=H=a.$attr("webfonts"))!==c&&(!b.$$is_boolean||1==b))n["$<<"]('<link rel="stylesheet" href="'+R+"//fonts.googleapis.com/css?family="+
((b=H["$empty?"]())===c||b.$$is_boolean&&1!=b?H:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+J+">");if(!1!==u&&u!==c)n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(A.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+J+">");else n["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((b=a["$attr?"]("stylesheet"))!==c&&(!b.$$is_boolean||1==b))if(!1!==u&&u!==c)n["$<<"]('<link rel="stylesheet" href="'+
a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+J+">");else n["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),y(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((b=a["$attr?"]("icons","font"))!==c&&(!b.$$is_boolean||1==b))if((b=a["$attr?"]("iconfont-remote"))===c||b.$$is_boolean&&1!=b)R=""+a.$attr("iconfont-name","font-awesome")+".css",n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(R,a.$attr("stylesdir",
""),!1)+'"'+J+">");else n["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+E+"/font-awesome/4.5.0/css/font-awesome.min.css")+'"'+J+">");H=R=a.$attr("source-highlighter");if("coderay"["$==="](H)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==u&&u!==c)n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+J+">");else n["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](H)&&
a.$attr("pygments-css","class")["$=="]("class"))if(H=a.$attr("pygments-style"),!1!==u&&u!==c)n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(H),a.$attr("stylesdir",""),!1)+'"'+J+">");else n["$<<"](this.stylesheets.$embed_pygments_stylesheet(H));if((b=(u=a.$docinfo())["$empty?"]())===c||b.$$is_boolean&&1!=b)n["$<<"](u);n["$<<"]("</head>");H=[];if((b=a.$id())!==c&&(!b.$$is_boolean||1==b))H["$<<"]('id="'+a.$id()+'"');if((b=(d=(g=(e=u=a["$sections?"](),
!1!==e&&e!==c?a["$attr?"]("toc-class"):e),!1!==g&&g!==c?a["$attr?"]("toc"):g),!1!==d&&d!==c?a["$attr?"]("toc-placement","auto"):d))===c||b.$$is_boolean&&1!=b)H["$<<"]('class="'+a.$doctype()+'"');else H["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');if((b=a["$attr?"]("max-width"))!==c&&(!b.$$is_boolean||1==b))H["$<<"]('style="max-width: '+a.$attr("max-width")+';"');n["$<<"]("<body "+p(H," ")+">");if((b=a.$noheader())===c||b.$$is_boolean&&1!=b){n["$<<"]('<div id="header">');
if(a.$doctype()["$=="]("manpage")){n["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if((b=(d=(g=!1!==u&&u!==c)?a["$attr?"]("toc"):u,!1!==d&&d!==c?a["$attr?"]("toc-placement","auto"):d))!==c&&(!b.$$is_boolean||1==b))n["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");n["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else{if((b=
a["$has_header?"]())!==c&&(!b.$$is_boolean||1==b)){if((b=a.$notitle())===c||b.$$is_boolean&&1!=b)n["$<<"]("<h1>"+a.$header().$title()+"</h1>");aa=[];if((b=a["$attr?"]("author"))!==c&&(!b.$$is_boolean||1==b)){aa["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+t);if((b=a["$attr?"]("email"))!==c&&(!b.$$is_boolean||1==b))aa["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+t);m(H=a.$attr("authorcount").$to_i(),1)&&(b=(d=x(2,H,!1)).$each,b.$$p=(l=
function(b){var f;null==b&&(b=c);aa["$<<"]('<span id="author'+b+'" class="author">'+a.$attr("author_"+b)+"</span>"+t);return(f=a["$attr?"]("email_"+b))===c||f.$$is_boolean&&1!=f?c:aa["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+t)},l.$$s=this,l),b).call(d)}if((b=a["$attr?"]("revnumber"))!==c&&(!b.$$is_boolean||1==b))aa["$<<"]('<span id="revnumber">'+(!1!==(b=a.$attr("version-label"))&&b!==c?b:"").$downcase()+" "+a.$attr("revnumber")+((b=a["$attr?"]("revdate"))===
c||b.$$is_boolean&&1!=b?"":",")+"</span>");if((b=a["$attr?"]("revdate"))!==c&&(!b.$$is_boolean||1==b))aa["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((b=a["$attr?"]("revremark"))!==c&&(!b.$$is_boolean||1==b))aa["$<<"](""+t+'<span id="revremark">'+a.$attr("revremark")+"</span>");if((b=aa["$empty?"]())===c||b.$$is_boolean&&1!=b)n["$<<"]('<div class="details">'),n.$concat(aa),n["$<<"]("</div>")}if((b=(g=(e=!1!==u&&u!==c)?a["$attr?"]("toc"):u,!1!==g&&g!==c?a["$attr?"]("toc-placement",
"auto"):g))!==c&&(!b.$$is_boolean||1==b))n["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}n["$<<"]("</div>")}n["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");(b=(g=a["$footnotes?"](),!1!==g&&g!==c?a["$attr?"]("nofootnotes")["$!"]():g))===c||b.$$is_boolean&&1!=b||(n["$<<"]('<div id="footnotes">\n<hr'+J+">"),(b=(g=a.$footnotes()).$each,b.$$p=(k=function(a){null==a&&(a=c);return n["$<<"]('<div class="footnote" id="_footnote_'+
a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},k.$$s=this,k),b).call(g),n["$<<"]("</div>"));if((b=a.$nofooter())===c||b.$$is_boolean&&1!=b){n["$<<"]('<div id="footer">');n["$<<"]('<div id="footer-text">');if((b=a["$attr?"]("revnumber"))!==c&&(!b.$$is_boolean||1==b))n["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+t);if((b=(e=a["$attr?"]("last-update-label"),!1!==e&&e!==c?a["$attr?"]("reproducible")["$!"]():e))!==c&&(!b.$$is_boolean||
1==b))n["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));n["$<<"]("</div>");n["$<<"]("</div>")}if((b=(u=a.$docinfo("footer"))["$empty?"]())===c||b.$$is_boolean&&1!=b)n["$<<"](u);H=R;"highlightjs"["$==="](H)||"highlight.js"["$==="](H)?(u=a.$attr("highlightjsdir",""+E+"/highlight.js/8.9.1"),n["$<<"]('<link rel="stylesheet" href="'+u+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+J+">"),n["$<<"]('<script src="'+u+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):
"prettify"["$==="](H)&&(u=a.$attr("prettifydir",""+E+"/prettify/r298"),n["$<<"]('<link rel="stylesheet" href="'+u+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+J+">"),n["$<<"]('<script src="'+u+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));(b=a["$attr?"]("stem"))===c||b.$$is_boolean&&1!=b||(J=a.$attr("eqnums","none"),J["$=="]("")&&(J="AMS"),J=' equationNumbers: { autoNumber: "'+J+'" } ',n["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+
A.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+A.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+A.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+J+'}\n});\n\x3c/script>\n<script src="'+E+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));n["$<<"]("</body>");n["$<<"]("</html>");
return p(n,A.get("EOL"))});a.defn(g,"$embedded",function(a){var b,d,g,e,l,k=c,n=c,m=c,k=[];if(a.$doctype()["$=="]("manpage")){if((b=a.$notitle())===c||b.$$is_boolean&&1!=b)n=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k["$<<"]("<h1"+n+">"+a.$doctitle()+" Manual Page</h1>");k["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else(b=(d=a["$has_header?"](),!1!==d&&d!==c?a.$notitle()["$!"]():d))===
c||b.$$is_boolean&&1!=b||(n=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k["$<<"]("<h1"+n+">"+a.$header().$title()+"</h1>"));if((b=(d=(g=(e=a["$sections?"](),!1!==e&&e!==c?a["$attr?"]("toc"):e),!1!==g&&g!==c?(m=a.$attr("toc-placement"))["$!="]("macro"):g),!1!==d&&d!==c?m["$!="]("preamble"):d))!==c&&(!b.$$is_boolean||1==b))k["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");k["$<<"](a.$content());(b=(d=a["$footnotes?"](),
!1!==d&&d!==c?a["$attr?"]("nofootnotes")["$!"]():d))===c||b.$$is_boolean&&1!=b||(k["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(b=(d=a.$footnotes()).$each,b.$$p=(l=function(a){null==a&&(a=c);return k["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},l.$$s=this,l),b).call(d),k["$<<"]("</div>"));return p(k,A.get("EOL"))});a.defn(g,"$outline",function(a,b){var d,g,l,n=c,v=c,m=c,q=c,t=c,
R=c;null==b&&(b=y([],{}));if((d=a["$sections?"]())===c||d.$$is_boolean&&1!=d)return c;n=!1!==(d=b["$[]"]("sectnumlevels"))&&d!==c?d:a.$document().$attr("sectnumlevels",3).$to_i();v=!1!==(d=b["$[]"]("toclevels"))&&d!==c?d:a.$document().$attr("toclevels",2).$to_i();m=[];q=a.$sections();t=(R=q["$[]"](0)).$level();(d=(g=t["$=="](0))?R.$special():t["$=="](0))===c||d.$$is_boolean&&1!=d||(t=1);m["$<<"]('<ul class="sectlevel'+t+'">');(d=(g=q).$each,d.$$p=(l=function(a){var b=l.$$s||this,f,h,d,g=c,w=c;null==
a&&(a=c);g=(f=(h=(d=a.$numbered(),!1!==d&&d!==c?a.$caption()["$!"]():d),!1!==h&&h!==c?e(a.$level(),n):h))===c||f.$$is_boolean&&1!=f?c:""+a.$sectnum()+" ";if((f=k(a.$level(),v)?w=b.$outline(a,y(["toclevels","secnumlevels"],{toclevels:v,secnumlevels:n})):k(a.$level(),v))===c||f.$$is_boolean&&1!=f)return m["$<<"]('<li><a href="#'+a.$id()+'">'+g+a.$captioned_title()+"</a></li>");m["$<<"]('<li><a href="#'+a.$id()+'">'+g+a.$captioned_title()+"</a>");m["$<<"](w);return m["$<<"]("</li>")},l.$$s=this,l),d).call(g);
m["$<<"]("</ul>");return p(m,A.get("EOL"))});a.defn(g,"$section",function(a){var b,g,l,k=c,p=c,v=c,n=c,m=c,q=c,t=c,E=c,u=c,k=a.$level();(b=(g=k["$=="](0))?a.$special():k["$=="](0))===c||b.$$is_boolean&&1!=b||(k=1);p="h"+d(k,1);v=n=m=q=c;(b=a.$id())===c||b.$$is_boolean&&1!=b||((v=' id="'+a.$id()+'"',(b=a.$document()["$attr?"]("sectanchors"))===c||b.$$is_boolean&&1!=b)?(b=a.$document()["$attr?"]("sectlinks"))===c||b.$$is_boolean&&1!=b||(m='<a class="link" href="#'+a.$id()+'">',q="</a>"):n='<a class="anchor" href="#'+
a.$id()+'"></a>');if(k["$=="](0))return"<h1"+v+' class="sect0">'+n+m+a.$title()+q+"</h1>\n"+a.$content();t=(b=E=a.$role())===c||b.$$is_boolean&&1!=b?' class="sect'+k+'"':' class="sect'+k+" "+E+'"';u=(b=(g=(l=a.$numbered(),!1!==l&&l!==c?a.$caption()["$!"]():l),!1!==g&&g!==c?e(k,a.$document().$attr("sectnumlevels",3).$to_i()):g))===c||b.$$is_boolean&&1!=b?c:""+a.$sectnum()+" ";return"<div"+t+">\n<"+p+v+">"+n+m+u+a.$captioned_title()+q+"</"+p+">\n"+(k["$=="](1)?'<div class="sectionbody">\n'+a.$content()+
"\n</div>":a.$content())+"\n</div>"});a.defn(g,"$admonition",function(a){var b,d,g=c,e=c,l=c,k=c,p=c,g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',e=a.$attr("name"),l=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",k=(b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=(d=a.$document()["$attr?"]("icons","font"),!1!==d&&d!==c?a["$attr?"]("icon")["$!"]():d))===c||b.$$is_boolean&&1!=b?
'<img src="'+a.$icon_uri(e)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+e+'" title="'+a.$caption()+'"></i>';return"<div"+g+' class="admonitionblock '+e+(b=p=a.$role(),!1!==b&&b!==c?" "+p:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+k+'\n</td>\n<td class="content">\n'+l+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"});a.defn(g,"$audio",function(a){var b,d=c,g=c,e=c,l=e=c,d=a.$document()["$attr?"]("htmlsyntax","xml"),g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+
a.$id()+'"',e=["audioblock",a.$style(),a.$role()].$compact(),e=' class="'+p(e," ")+'"',l=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+g+e+">\n"+l+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((b=a["$option?"]("autoplay"))===c||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("autoplay",d))+((b=a["$option?"]("nocontrols"))===c||b.$$is_boolean&&1!=b?this.$append_boolean_attribute("controls",d):c)+
((b=a["$option?"]("loop"))===c||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("loop",d))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"});a.defn(g,"$colist",function(a){var b,g,e,l,k,v=c,n=c,m=c,q=m=c,v=[],n=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',m=["colist",a.$style(),a.$role()].$compact(),m=' class="'+p(m," ")+'"';v["$<<"]("<div"+n+m+">");if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))v["$<<"]('<div class="title">'+a.$title()+"</div>");
(b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b?(v["$<<"]("<ol>"),(b=(l=a.$items()).$each,b.$$p=(k=function(a){null==a&&(a=c);return v["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},k.$$s=this,k),b).call(l),v["$<<"]("</ol>")):(v["$<<"]("<table>"),q=a.$document()["$attr?"]("icons","font"),(b=(g=a.$items()).$each_with_index,b.$$p=(e=function(b,f){var g=e.$$s||this,l=c,l=c;null==g.void_element_slash&&(g.void_element_slash=c);null==b&&(b=c);null==f&&(f=c);l=d(f,1);l=!1!==q&&q!==c?'<i class="conum" data-value="'+
l+'"></i><b>'+l+"</b>":'<img src="'+a.$icon_uri("callouts/"+l)+'" alt="'+l+'"'+g.void_element_slash+">";return v["$<<"]("<tr>\n<td>"+l+"</td>\n<td>"+b.$text()+"</td>\n</tr>")},e.$$s=this,e),b).call(g),v["$<<"]("</table>"));v["$<<"]("</div>");return p(v,A.get("EOL"))});a.defn(g,"$dlist",function(b){var f,d,g,e,l,k,n,m=c,q=c,t=c,E=t=t=c,u=q=c,m=[],q=(f=b.$id())===c||f.$$is_boolean&&1!=f?c:' id="'+b.$id()+'"',t=b.$style(),t=("qanda"["$==="](t)?["qlist","qanda",b.$role()]:"horizontal"["$==="](t)?["hdlist",
b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),t=' class="'+p(t," ")+'"';m["$<<"]("<div"+q+t+">");if((f=b["$title?"]())!==c&&(!f.$$is_boolean||1==f))m["$<<"]('<div class="title">'+b.$title()+"</div>");t=b.$style();"qanda"["$==="](t)?(m["$<<"]("<ol>"),(f=(d=b.$items()).$each,f.$$p=(g=function(b,f){var h=g.$$s||this,d,e,l;null==b&&(b=c);null==f&&(f=c);m["$<<"]("<li>");(d=(e=[].concat(a.to_a(b))).$each,d.$$p=(l=function(a){null==a&&(a=c);return m["$<<"]("<p><em>"+a.$text()+"</em></p>")},l.$$s=
h,l),d).call(e);if(!1!==f&&f!==c){if((d=f["$text?"]())!==c&&(!d.$$is_boolean||1==d))m["$<<"]("<p>"+f.$text()+"</p>");if((d=f["$blocks?"]())!==c&&(!d.$$is_boolean||1==d))m["$<<"](f.$content())}return m["$<<"]("</li>")},g.$$s=this,g),f).call(d),m["$<<"]("</ol>")):"horizontal"["$==="](t)?(E=this.void_element_slash,m["$<<"]("<table>"),(f=!1!==(e=b["$attr?"]("labelwidth"))&&e!==c?e:b["$attr?"]("itemwidth"))===c||f.$$is_boolean&&1!=f||(m["$<<"]("<colgroup>"),q=(f=b["$attr?"]("labelwidth"))===c||f.$$is_boolean&&
1!=f?c:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',m["$<<"]("<col"+q+E+">"),q=(f=b["$attr?"]("itemwidth"))===c||f.$$is_boolean&&1!=f?c:' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"',m["$<<"]("<col"+q+E+">"),m["$<<"]("</colgroup>")),(f=(e=b.$items()).$each,f.$$p=(l=function(f,d){var g=l.$$s||this,e,k,v,n=c,p=c;null==f&&(f=c);null==d&&(d=c);m["$<<"]("<tr>");m["$<<"]('<td class="hdlist1'+((e=b["$option?"]("strong"))===c||e.$$is_boolean&&1!=e?c:" strong")+'">');n=[].concat(a.to_a(f));
p=n["$[]"](-1);(e=(k=n).$each,e.$$p=(v=function(a){var b;null==a&&(a=c);m["$<<"](a.$text());return(b=a["$!="](p))===c||b.$$is_boolean&&1!=b?c:m["$<<"]("<br"+E+">")},v.$$s=g,v),e).call(k);m["$<<"]("</td>");m["$<<"]('<td class="hdlist2">');if(!1!==d&&d!==c){if((e=d["$text?"]())!==c&&(!e.$$is_boolean||1==e))m["$<<"]("<p>"+d.$text()+"</p>");if((e=d["$blocks?"]())!==c&&(!e.$$is_boolean||1==e))m["$<<"](d.$content())}m["$<<"]("</td>");return m["$<<"]("</tr>")},l.$$s=this,l),f).call(e),m["$<<"]("</table>")):
(m["$<<"]("<dl>"),u=(f=b.$style())===c||f.$$is_boolean&&1!=f?' class="hdlist1"':c,(f=(k=b.$items()).$each,f.$$p=(n=function(b,f){var h=n.$$s||this,d,g,e;null==b&&(b=c);null==f&&(f=c);(d=(g=[].concat(a.to_a(b))).$each,d.$$p=(e=function(a){null==a&&(a=c);return m["$<<"]("<dt"+u+">"+a.$text()+"</dt>")},e.$$s=h,e),d).call(g);if(!1!==f&&f!==c){m["$<<"]("<dd>");if((d=f["$text?"]())!==c&&(!d.$$is_boolean||1==d))m["$<<"]("<p>"+f.$text()+"</p>");if((d=f["$blocks?"]())!==c&&(!d.$$is_boolean||1==d))m["$<<"](f.$content());
return m["$<<"]("</dd>")}return c},n.$$s=this,n),f).call(k),m["$<<"]("</dl>"));m["$<<"]("</div>");return p(m,A.get("EOL"))});a.defn(g,"$example",function(a){var b,d=c,g=c,e=c,d=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+d+' class="'+((b=e=a.$role())===c||b.$$is_boolean&&1!=b?"exampleblock":p(["exampleblock",e]," "))+'">\n'+g+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"});
a.defn(g,"$floating_title",function(a){var b,g=c,e=c,l=c,g="h"+d(a.$level(),1),e=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',l=[a.$style(),a.$role()].$compact();return"<"+g+e+' class="'+p(l," ")+'">'+a.$title()+"</"+g+">"});a.defn(g,"$image",function(a){var b,d,g,e=c,l=c,v=c,n=c,m=c,q=c,t=n=c,n=v=v=l=l=e=c,e=a.$attr("target"),l=(b=a["$attr?"]("width"))===c||b.$$is_boolean&&1!=b?c:' width="'+a.$attr("width")+'"',v=(b=a["$attr?"]("height"))===c||b.$$is_boolean&&1!=b?c:' height="'+a.$attr("height")+
'"';(b=(d=!1!==(g=a["$attr?"]("format","svg",!1))&&g!==c?g:e["$include?"](".svg"),!1!==d&&d!==c?k(a.$document().$safe(),A.get("SafeMode").$$scope.get("SECURE")):d))===c||b.$$is_boolean&&1!=b||(!1!==(b=n=a["$option?"]("inline"))&&b!==c?b:m=a["$option?"]("interactive"),!1!==n&&n!==c?q=!1!==(b=this.$read_svg_contents(a,e))&&b!==c?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==m&&m!==c&&(n=(b=a["$attr?"]("fallback"))===c||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+
a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+l+v+this.void_element_slash+">",q='<object type="image/svg+xml" data="'+a.$image_uri(e)+'"'+l+v+">"+n+"</object>"));!1!==(b=q)&&b!==c?b:q='<img src="'+a.$image_uri(e)+'" alt="'+a.$attr("alt")+'"'+l+v+this.void_element_slash+">";(b=t=a.$attr("link"))===c||b.$$is_boolean&&1!=b||(q='<a class="image" href="'+t+'">'+q+"</a>");e=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';l=["imageblock",a.$style(),a.$role()].$compact();l=' class="'+
p(l," ")+'"';v=[];if((b=a["$attr?"]("align"))!==c&&(!b.$$is_boolean||1==b))v["$<<"]("text-align: "+a.$attr("align"));if((b=a["$attr?"]("float"))!==c&&(!b.$$is_boolean||1==b))v["$<<"]("float: "+a.$attr("float"));v=(b=v["$empty?"]())===c||b.$$is_boolean&&1!=b?' style="'+p(v,";")+'"':c;n=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$captioned_title()+"</div>";return"<div"+e+l+v+'>\n<div class="content">\n'+q+"\n</div>"+n+"\n</div>"});a.defn(g,"$listing",function(a){var b,
d=c,g=c,e=c,l=c,k=l=d=e=d=c,n=c,d=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==c?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(e=(b=g=a.$attr("language",c,!1))===c||b.$$is_boolean&&1!=b?c:' data-lang="'+g+'"',l=a.$document().$attr("source-highlighter"),"coderay"["$==="](l)?d=' class="CodeRay highlight'+(!1!==d&&d!==c?" nowrap":c)+'"':"pygments"["$==="](l)?d=' class="pygments highlight'+(!1!==d&&d!==c?" nowrap":c)+'"':"highlightjs"["$==="](l)||"highlight.js"["$==="](l)?(d=' class="highlightjs highlight'+
(!1!==d&&d!==c?" nowrap":c)+'"',!1!==g&&g!==c&&(e=' class="language-'+g+'"'+e)):"prettify"["$==="](l)?(d=' class="prettyprint highlight'+(!1!==d&&d!==c?" nowrap":c)+((b=a["$attr?"]("linenums"))===c||b.$$is_boolean&&1!=b?c:" linenums")+'"',!1!==g&&g!==c&&(e=' class="language-'+g+'"'+e)):"html-pipeline"["$==="](l)?(d=!1!==g&&g!==c?' lang="'+g+'"':c,e=c):(d=' class="highlight'+(!1!==d&&d!==c?" nowrap":c)+'"',!1!==g&&g!==c&&(e=' class="language-'+g+'"'+e)),e="<pre"+d+"><code"+e+">",d="</code></pre>"):
(e="<pre"+(!1!==d&&d!==c?' class="nowrap"':c)+">",d="</pre>");l=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';k=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+l+' class="listingblock'+(b=n=a.$role(),!1!==b&&b!==c?" "+n:b)+'">\n'+k+'<div class="content">\n'+e+a.$content()+d+"\n</div>\n</div>"});a.defn(g,"$literal",function(a){var b,d=c,g=c,e=c,l=c,d=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=(b=a["$title?"]())===
c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",e=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==c?b:a["$option?"]("nowrap");return"<div"+d+' class="literalblock'+(b=l=a.$role(),!1!==b&&b!==c?" "+l:b)+'">\n'+g+'<div class="content">\n<pre'+(!1!==e&&e!==c?' class="nowrap"':c)+">"+a.$content()+"</pre>\n</div>\n</div>"});a.defn(g,"$stem",function(b){var f,d,g=c,e=c,l=c,k=c,n=c,m=c,g=(f=b.$id())===c||f.$$is_boolean&&1!=f?c:' id="'+b.$id()+'"',e=(f=b["$title?"]())===c||
f.$$is_boolean&&1!=f?c:'<div class="title">'+b.$title()+"</div>\n";f=a.to_ary(A.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym()));l=null==f[0]?c:f[0];k=null==f[1]?c:f[1];if((f=(d=(n=b.$content())["$start_with?"](l),!1!==d&&d!==c?n["$end_with?"](k):d))===c||f.$$is_boolean&&1!=f)n=""+l+n+k;return"<div"+g+' class="'+((f=m=b.$role())===c||f.$$is_boolean&&1!=f?"stemblock":p(["stemblock",m]," "))+'">\n'+e+'<div class="content">\n'+n+"\n</div>\n</div>"});a.defn(g,"$olist",function(a){var b,d,g,
e=c,l=c,k=c,n=l=k=c,k=c,e=[],l=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=["olist",a.$style(),a.$role()].$compact(),k=' class="'+p(k," ")+'"';e["$<<"]("<div"+l+k+">");if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))e["$<<"]('<div class="title">'+a.$title()+"</div>");l=(b=n=a.$list_marker_keyword())===c||b.$$is_boolean&&1!=b?c:' type="'+n+'"';k=(b=a["$attr?"]("start"))===c||b.$$is_boolean&&1!=b?c:' start="'+a.$attr("start")+'"';e["$<<"]('<ol class="'+a.$style()+'"'+l+k+">");(b=
(d=a.$items()).$each,b.$$p=(g=function(a){var b;null==a&&(a=c);e["$<<"]("<li>");e["$<<"]("<p>"+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&(!b.$$is_boolean||1==b))e["$<<"](a.$content());return e["$<<"]("</li>")},g.$$s=this,g),b).call(d);e["$<<"]("</ol>");e["$<<"]("</div>");return p(e,A.get("EOL"))});a.defn(g,"$open",function(a){var b,d,g,e=c,l=c,k=c,n=c;if((e=a.$style())["$=="]("abstract")){if((b=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===
c||b.$$is_boolean&&1!=b)return l=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>","<div"+l+' class="quoteblock abstract'+(b=n=a.$role(),!1!==b&&b!==c?" "+n:b)+'">\n'+k+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((b=e["$=="]("partintro")?
!1!==(d=!1!==(g=a.$level()["$!="](0))&&g!==c?g:a.$parent().$context()["$!="]("section"))&&d!==c?d:a.$document().$doctype()["$!="]("book"):e["$=="]("partintro"))===c||b.$$is_boolean&&1!=b)return l=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>","<div"+l+' class="openblock'+((b=!1!==e&&e!==c?e["$!="]("open"):e)===c||b.$$is_boolean&&1!=b?"":" "+e)+(b=n=a.$role(),!1!==b&&b!==c?" "+n:b)+'">\n'+k+'<div class="content">\n'+
a.$content()+"\n</div>\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");return""});a.defn(g,"$page_break",function(a){return'<div style="page-break-after: always;"></div>'});a.defn(g,"$paragraph",function(a){var b,d=c,d=c,d=(b=a.$role())===c||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"',d=(b=a.$id())===c||b.$$is_boolean&&1!=b?d:'id="'+a.$id()+'" '+d;return(b=a["$title?"]())===
c||b.$$is_boolean&&1!=b?"<div "+d+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+d+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"});a.defn(g,"$preamble",function(a){var b,d,g,e=c,l=c,l=(b=(d=(g=(e=a.$document())["$attr?"]("toc-placement","preamble"),!1!==g&&g!==c?e["$sections?"]():g),!1!==d&&d!==c?e["$attr?"]("toc"):d))===c||b.$$is_boolean&&1!=b?c:'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+this.$outline(e)+
"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+l+"\n</div>"});a.defn(g,"$quote",function(a){var b,d,g=c,e=c,l=e=c,k=c,n=c,m=c,m=k=c,g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',e=["quoteblock",a.$role()].$compact(),e=' class="'+p(e," ")+'"',l=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",k=(b=a["$attr?"]("attribution"))===c||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),n=(b=a["$attr?"]("citetitle"))===
c||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==(d=k)&&d!==c?d:n)===c||b.$$is_boolean&&1!=b?m=c:(m=!1!==n&&n!==c?"<cite>"+n+"</cite>":c,k=!1!==k&&k!==c?"&#8212; "+k+(!1!==n&&n!==c?"<br"+this.void_element_slash+">\n":c):c,m='\n<div class="attribution">\n'+k+m+"\n</div>");return"<div"+g+e+">"+l+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+m+"\n</div>"});a.defn(g,"$thematic_break",function(a){return"<hr"+this.void_element_slash+">"});a.defn(g,"$sidebar",function(a){var b,d=c,g=c,e=c,d=(b=
a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n";return"<div"+d+' class="'+((b=e=a.$role())===c||b.$$is_boolean&&1!=b?"sidebarblock":p(["sidebarblock",e]," "))+'">\n<div class="content">\n'+g+a.$content()+"\n</div>\n</div>"});a.defn(g,"$table",function(a){var b,d,g,e,l,k,n,q,t,u,E=c,ca=c,H=c,aa=c,I=c,C=aa=H=I=c,y=c,E=[],ca=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',H=["tableblock",
"frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],aa=[];if((b=a["$option?"]("autowidth"))===c||b.$$is_boolean&&1!=b)if((I=a.$attr("tablepcwidth"))["$=="](100))H["$<<"]("spread");else aa["$<<"]("width: "+I+"%;");if((b=I=a.$role())!==c&&(!b.$$is_boolean||1==b))H["$<<"](I);H=' class="'+p(H," ")+'"';if((b=a["$attr?"]("float"))!==c&&(!b.$$is_boolean||1==b))aa["$<<"]("float: "+a.$attr("float")+";");aa=(b=aa["$empty?"]())===c||b.$$is_boolean&&1!=b?' style="'+p(aa," ")+'"':c;E["$<<"]("<table"+
ca+H+aa+">");if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))E["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");m(a.$attr("rowcount"),0)&&(C=this.void_element_slash,E["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===c||b.$$is_boolean&&1!=b?(b=(e=a.$columns()).$each,b.$$p=(l=function(a){null==a&&(a=c);return E["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+C+">")},l.$$s=this,l),b).call(e):(y="<col"+C+">",(b=(d=a.$columns().$size()).$times,b.$$p=(g=function(){return E["$<<"](y)},
g.$$s=this,g),b).call(d)),E["$<<"]("</colgroup>"),(b=(k=(q=(t=["head","foot","body"]).$select,q.$$p=(u=function(b){null==b&&(b=c);return a.$rows()["$[]"](b)["$empty?"]()["$!"]()},u.$$s=this,u),q).call(t)).$each,b.$$p=(n=function(b){var f=n.$$s||this,d,g,e;null==b&&(b=c);E["$<<"]("<t"+b+">");(d=(g=a.$rows()["$[]"](b)).$each,d.$$p=(e=function(f){var d=e.$$s||this,g,l,k;null==f&&(f=c);E["$<<"]("<tr>");(g=(l=f).$each,g.$$p=(k=function(f){var d=k.$$s||this,g,e,l,v,n=c,p=c,m=p=c,q=c,w=c,t=c;null==f&&(f=
c);b["$=="]("head")?n=f.$text():(p=f.$style(),"asciidoc"["$==="](p)?n="<div>"+f.$content()+"</div>":"verse"["$==="](p)?n='<div class="verse">'+f.$text()+"</div>":"literal"["$==="](p)?n='<div class="literal"><pre>'+f.$text()+"</pre></div>":(n="",(g=(e=f.$content()).$each,g.$$p=(l=function(a){null==a&&(a=c);return n=""+n+'<p class="tableblock">'+a+"</p>"},l.$$s=d,l),g).call(e)));p=(g=!1!==(v=b["$=="]("head"))&&v!==c?v:f.$style()["$=="]("header"))===c||g.$$is_boolean&&1!=g?"td":"th";m=' class="tableblock halign-'+
f.$attr("halign")+" valign-"+f.$attr("valign")+'"';q=(g=f.$colspan())===c||g.$$is_boolean&&1!=g?c:' colspan="'+f.$colspan()+'"';w=(g=f.$rowspan())===c||g.$$is_boolean&&1!=g?c:' rowspan="'+f.$rowspan()+'"';t=(g=a.$document()["$attr?"]("cellbgcolor"))===c||g.$$is_boolean&&1!=g?c:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"';return E["$<<"]("<"+p+m+q+w+t+">"+n+"</"+p+">")},k.$$s=d,k),g).call(l);return E["$<<"]("</tr>")},e.$$s=f,e),d).call(g);return E["$<<"]("</t"+b+">")},n.$$s=
this,n),b).call(k));E["$<<"]("</table>");return p(E,A.get("EOL"))});a.defn(g,"$toc",function(a){var b,d,g,e=c,l=c,k=c,n=c,p=c,m=c;if((b=(d=(g=(e=a.$document())["$attr?"]("toc-placement","macro"),!1!==g&&g!==c?e["$sections?"]():g),!1!==d&&d!==c?e["$attr?"]("toc"):d))===c||b.$$is_boolean&&1!=b)return"\x3c!-- toc disabled --\x3e";(b=a.$id())===c||b.$$is_boolean&&1!=b?(l=' id="toc"',k=' id="toctitle"'):(l=' id="'+a.$id()+'"',k=' id="'+a.$id()+'title"');n=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?e.$attr("toc-title"):
a.$title();p=(b=a["$attr?"]("levels"))===c||b.$$is_boolean&&1!=b?c:a.$attr("levels").$to_i();m=(b=a["$role?"]())===c||b.$$is_boolean&&1!=b?e.$attr("toc-class","toc"):a.$role();return"<div"+l+' class="'+m+'">\n<div'+k+' class="title">'+n+"</div>\n"+this.$outline(e,y(["toclevels"],{toclevels:p}))+"\n</div>"});a.defn(g,"$ulist",function(a){var b,d,g,e=c,l=c,k=c,n=c,m=c,q=c,t=c,e=[],l=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=["ulist",a.$style(),a.$role()].$compact(),m=n=c;(b=q=a["$option?"]("checklist"))===
c||b.$$is_boolean&&1!=b?t=(b=a.$style())===c||b.$$is_boolean&&1!=b?c:' class="'+a.$style()+'"':(k.$insert(1,"checklist"),t=' class="checklist"',(b=a["$option?"]("interactive"))===c||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons","font"))===c||b.$$is_boolean&&1!=b?(n="&#10003; ",m="&#10063; "):(n='<i class="fa fa-check-square-o"></i> ',m='<i class="fa fa-square-o"></i> '):(b=a.$document()["$attr?"]("htmlsyntax","xml"))===c||b.$$is_boolean&&1!=b?(n='<input type="checkbox" data-item-complete="1" checked> ',
m='<input type="checkbox" data-item-complete="0"> '):(n='<input type="checkbox" data-item-complete="1" checked="checked"/> ',m='<input type="checkbox" data-item-complete="0"/> '));e["$<<"]("<div"+l+' class="'+p(k," ")+'">');if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))e["$<<"]('<div class="title">'+a.$title()+"</div>");e["$<<"]("<ul"+t+">");(b=(d=a.$items()).$each,b.$$p=(g=function(a){var b;null==a&&(a=c);e["$<<"]("<li>");if((b=!1!==q&&q!==c?a["$attr?"]("checkbox"):q)===c||b.$$is_boolean&&1!=
b)e["$<<"]("<p>"+a.$text()+"</p>");else e["$<<"]("<p>"+((b=a["$attr?"]("checked"))===c||b.$$is_boolean&&1!=b?m:n)+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&(!b.$$is_boolean||1==b))e["$<<"](a.$content());return e["$<<"]("</li>")},g.$$s=this,g),b).call(d);e["$<<"]("</ul>");e["$<<"]("</div>");return p(e,A.get("EOL"))});a.defn(g,"$verse",function(a){var b,d,g=c,e=c,l=e=c,k=c,n=c,m=c,m=k=c,g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',e=["verseblock",a.$role()].$compact(),e=' class="'+
p(e," ")+'"',l=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",k=(b=a["$attr?"]("attribution"))===c||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),n=(b=a["$attr?"]("citetitle"))===c||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==(d=k)&&d!==c?d:n)===c||b.$$is_boolean&&1!=b?m=c:(m=!1!==n&&n!==c?"<cite>"+n+"</cite>":c,k=!1!==k&&k!==c?"&#8212; "+k+(!1!==n&&n!==c?"<br"+this.void_element_slash+">\n":c):c,m='\n<div class="attribution">\n'+k+m+"\n</div>");
return"<div"+g+e+">"+l+'\n<pre class="content">'+a.$content()+"</pre>"+m+"\n</div>"});a.defn(g,"$video",function(b){var f,d,g=this,e=c,l=c,k=c,n=c,m=c,q=c,t=c,E=c,u=c,H=c,A=c,I=c,C=c,y=c,x=c,B=c,M=c,P=c,X=c,Y=c,Q=c,ea=c,U=c,F=c,fa=c,G=c,V=c,la=c,ja=c,ka=c,Z=c,e=b.$document()["$attr?"]("htmlsyntax","xml"),l=(f=b.$id())===c||f.$$is_boolean&&1!=f?c:' id="'+b.$id()+'"',k=["videoblock",b.$style(),b.$role()].$compact(),n=' class="'+p(k," ")+'"',m=(f=b["$title?"]())===c||f.$$is_boolean&&1!=f?c:'\n<div class="title">'+
b.$captioned_title()+"</div>",q=(f=b["$attr?"]("width"))===c||f.$$is_boolean&&1!=f?c:' width="'+b.$attr("width")+'"',t=(f=b["$attr?"]("height"))===c||f.$$is_boolean&&1!=f?c:' height="'+b.$attr("height")+'"';return function(){E=b.$attr("poster");if("vimeo"["$==="](E)){if((f=(u=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||f.$$is_boolean&&1!=f)u=""+u+":";H=(f=b["$attr?"]("start",c,!1))===c||f.$$is_boolean&&1!=f?c:"#at="+b.$attr("start");A="?";I=(f=b["$option?"]("autoplay"))===
c||f.$$is_boolean&&1!=f?c:""+A+"autoplay=1";!1!==I&&I!==c&&(A="&amp;");C=(f=b["$option?"]("loop"))===c||f.$$is_boolean&&1!=f?c:""+A+"loop=1";return"<div"+l+n+">"+m+'\n<div class="content">\n<iframe'+q+t+' src="'+u+"//player.vimeo.com/video/"+b.$attr("target")+H+I+C+'" frameborder="0"'+((f=b["$option?"]("nofullscreen"))===c||f.$$is_boolean&&1!=f?g.$append_boolean_attribute("allowfullscreen",e):c)+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](E)){if((f=(u=b.$document().$attr("asset-uri-scheme",
"https"))["$empty?"]())===c||f.$$is_boolean&&1!=f)u=""+u+":";y=(f=b["$option?"]("related"))===c||f.$$is_boolean&&1!=f?0:1;x=(f=b["$attr?"]("start",c,!1))===c||f.$$is_boolean&&1!=f?c:"&amp;start="+b.$attr("start");B=(f=b["$attr?"]("end",c,!1))===c||f.$$is_boolean&&1!=f?c:"&amp;end="+b.$attr("end");I=(f=b["$option?"]("autoplay"))===c||f.$$is_boolean&&1!=f?c:"&amp;autoplay=1";C=(f=b["$option?"]("loop"))===c||f.$$is_boolean&&1!=f?c:"&amp;loop=1";M=(f=b["$option?"]("nocontrols"))===c||f.$$is_boolean&&
1!=f?c:"&amp;controls=0";(f=b["$option?"]("nofullscreen"))===c||f.$$is_boolean&&1!=f?(P=c,X=g.$append_boolean_attribute("allowfullscreen",e)):(P="&amp;fs=0",X=c);Y=(f=b["$option?"]("modest"))===c||f.$$is_boolean&&1!=f?c:"&amp;modestbranding=1";Q=(f=b["$attr?"]("theme",c,!1))===c||f.$$is_boolean&&1!=f?c:"&amp;theme="+b.$attr("theme");ea=(f=b["$attr?"]("lang"))===c||f.$$is_boolean&&1!=f?c:"&amp;hl="+b.$attr("lang");f=a.to_ary(b.$attr("target").$split("/",2));U=null==f[0]?c:f[0];F=null==f[1]?c:f[1];
(f=!1!==(d=F)&&d!==c?d:F=b.$attr("list",c,!1))===c||f.$$is_boolean&&1!=f?(f=a.to_ary(U.$split(",",2)),U=null==f[0]?c:f[0],G=null==f[1]?c:f[1],fa=(f=!1!==(d=G)&&d!==c?d:G=b.$attr("playlist",c,!1))===c||f.$$is_boolean&&1!=f?!1!==C&&C!==c?"&amp;playlist="+U:c:"&amp;playlist="+G):fa="&amp;list="+F;return"<div"+l+n+">"+m+'\n<div class="content">\n<iframe'+q+t+' src="'+u+"//www.youtube.com/embed/"+U+"?rel="+y+x+B+I+C+M+fa+P+Y+Q+ea+'" frameborder="0"'+X+"></iframe>\n</div>\n</div>"}V=(f=(""+(la=b.$attr("poster")))["$empty?"]())===
c||f.$$is_boolean&&1!=f?' poster="'+b.$media_uri(la)+'"':c;ja=b.$attr("start",c,!1);ka=b.$attr("end",c,!1);Z=(f=!1!==(d=ja)&&d!==c?d:ka)===c||f.$$is_boolean&&1!=f?c:"#t="+ja+(!1!==ka&&ka!==c?",":c)+ka;return"<div"+l+n+">"+m+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+Z+'"'+q+t+V+((f=b["$option?"]("autoplay"))===c||f.$$is_boolean&&1!=f?c:g.$append_boolean_attribute("autoplay",e))+((f=b["$option?"]("nocontrols"))===c||f.$$is_boolean&&1!=f?g.$append_boolean_attribute("controls",
e):c)+((f=b["$option?"]("loop"))===c||f.$$is_boolean&&1!=f?c:g.$append_boolean_attribute("loop",e))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()});a.defn(g,"$inline_anchor",function(a){var b,d,g=this,e=c,l=c,k=c,n=c,m=c,p=c,e=a.$target();return function(){l=a.$type();if("xref"["$==="](l))return k=!1!==(b=a.$attributes()["$[]"]("refid"))&&b!==c?b:e,n=!1!==(b=a.$text())&&b!==c?b:!1!==(d=a.$document().$references()["$[]"]("ids")["$[]"](k))&&d!==c?d:"["+k+"]",'<a href="'+
e+'">'+n+"</a>";if("ref"["$==="](l))return'<a id="'+e+'"></a>';if("link"["$==="](l)){m=[];if((b=a.$id())!==c&&(!b.$$is_boolean||1==b))m["$<<"](' id="'+a.$id()+'"');if((b=p=a.$role())!==c&&(!b.$$is_boolean||1==b))m["$<<"](' class="'+p+'"');if((b=a["$attr?"]("title",c,!1))!==c&&(!b.$$is_boolean||1==b))m["$<<"](' title="'+a.$attr("title")+'"');if((b=a["$attr?"]("window",c,!1))!==c&&(!b.$$is_boolean||1==b))m["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+e+'"'+m.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](l)?
'<a id="'+e+'"></a>['+e+"]":g.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()});a.defn(g,"$inline_break",function(a){return""+a.$text()+"<br"+this.void_element_slash+">"});a.defn(g,"$inline_button",function(a){return'<b class="button">'+a.$text()+"</b>"});a.defn(g,"$inline_callout",function(a){var b,d=c;if((b=a.$document()["$attr?"]("icons","font"))===c||b.$$is_boolean&&1!=b){if((b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b)return'<b class="conum">('+
a.$text()+")</b>";d=a.$icon_uri("callouts/"+a.$text());return'<img src="'+d+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"});a.defn(g,"$inline_footnote",function(a){var b,d=c,g=c;if((b=d=a.$attr("index"))===c||b.$$is_boolean&&1!=b)return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":c;if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+
d+'" title="View footnote.">'+d+"</a>]</sup>";g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="_footnote_'+a.$id()+'"';return'<sup class="footnote"'+g+'>[<a id="_footnoteref_'+d+'" class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</sup>"});a.defn(g,"$inline_image",function(a){var b,d,g,e,l,n,m,p,q=c,t=c,E=c,u=d=E=c,H=c,aa=c,I=c,C=d=c,q=c;(b=(d=(q=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(q=a.$type())["$=="]("icon"))===c||b.$$is_boolean&&1!=b?(b=(g=
q["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():q["$=="]("icon"))===c||b.$$is_boolean&&1!=b?(d=a.$target(),u=(b=(g=["width","height","title"]).$map,b.$$p=(e=function(b){var f;null==b&&(b=c);return(f=a["$attr?"](b))===c||f.$$is_boolean&&1!=f?c:" "+b+'="'+a.$attr(b)+'"'},e.$$s=this,e),b).call(g).$join(),(b=(l=(n=(m=q["$!="]("icon"),!1!==m&&m!==c?!1!==(p=a["$attr?"]("format","svg",!1))&&p!==c?p:d["$include?"](".svg"):m),!1!==n&&n!==c?k(a.$document().$safe(),A.get("SafeMode").$$scope.get("SECURE")):
n),!1!==l&&l!==c?!1!==(n=H=a["$option?"]("inline"))&&n!==c?n:aa=a["$option?"]("interactive"):l))===c||b.$$is_boolean&&1!=b||(!1!==H&&H!==c?E=!1!==(b=this.$read_svg_contents(a,d))&&b!==c?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==aa&&aa!==c&&(I=(b=a["$attr?"]("fallback"))===c||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+u+this.void_element_slash+">",E='<object type="image/svg+xml" data="'+a.$image_uri(d)+
'"'+u+">"+I+"</object>")),!1!==(b=E)&&b!==c?b:E='<img src="'+(q["$=="]("icon")?a.$icon_uri(d):a.$image_uri(d))+'" alt="'+a.$attr("alt")+'"'+u+this.void_element_slash+">"):E="["+a.$attr("alt")+"]":(t="fa fa-"+a.$target(),(b=(d=y(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,b.$$p=(g=function(b,f){var d;null==b&&(b=c);null==f&&(f=c);return(d=a["$attr?"](b))===c||d.$$is_boolean&&1!=d?c:t=""+t+" "+f+a.$attr(b)},g.$$s=this,g),b).call(d),E=(b=a["$attr?"]("title"))===
c||b.$$is_boolean&&1!=b?c:' title="'+a.$attr("title")+'"',E='<i class="'+t+'"'+E+"></i>");(b=a["$attr?"]("link"))===c||b.$$is_boolean&&1!=b||(d=(b=a["$attr?"]("window"))===c||b.$$is_boolean&&1!=b?c:' target="'+a.$attr("window")+'"',E='<a class="image" href="'+a.$attr("link")+'"'+d+">"+E+"</a>");t=(b=C=a.$role())===c||b.$$is_boolean&&1!=b?q:""+q+" "+C;q=(b=a["$attr?"]("float"))===c||b.$$is_boolean&&1!=b?c:' style="float: '+a.$attr("float")+'"';return'<span class="'+t+'"'+q+">"+E+"</span>"});a.defn(g,
"$inline_indexterm",function(a){return a.$type()["$=="]("visible")?a.$text():""});a.defn(g,"$inline_kbd",function(a){var b,d,g,e=c,e=c;if((e=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+e["$[]"](0)+"</kbd>";e=(b=(d=e).$map,b.$$p=(g=function(a){null==a&&(a=c);return"<kbd>"+a+"</kbd>+"},g.$$s=this,g),b).call(d).$join().$chop();return'<span class="keyseq">'+e+"</span>"});a.defn(g,"$inline_menu",function(a){var b,d,g,e=c,l=c,k=l=c,e=a.$attr("menu");if((b=(l=a.$attr("submenus"))["$empty?"]()["$!"]())===
c||b.$$is_boolean&&1!=b)return(b=k=a.$attr("menuitem"))===c||b.$$is_boolean&&1!=b?'<span class="menu">'+e+"</span>":'<span class="menuseq"><span class="menu">'+e+'</span>&#160;&#9656; <span class="menuitem">'+k+"</span></span>";l=(b=(d=l).$map,b.$$p=(g=function(a){null==a&&(a=c);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},g.$$s=this,g),b).call(d).$join().$chop();return'<span class="menuseq"><span class="menu">'+e+"</span>&#160;&#9656; "+l+' <span class="menuitem">'+a.$attr("menuitem")+
"</span></span>"});a.defn(g,"$inline_quoted",function(b){var f,d=c,g=c,e=c,l=c,d=c;f=a.to_ary(A.get("QUOTE_TAGS")["$[]"](b.$type()));d=null==f[0]?c:f[0];g=null==f[1]?c:f[1];e=null==f[2]?c:f[2];d=(f=l=b.$role())===c||f.$$is_boolean&&1!=f?""+d+b.$text()+g:!1!==e&&e!==c?""+d.$chop()+' class="'+l+'">'+b.$text()+g:'<span class="'+l+'">'+d+b.$text()+g+"</span>";return(f=b.$id())===c||f.$$is_boolean&&1!=f?d:'<a id="'+b.$id()+'"></a>'+d});a.defn(g,"$append_boolean_attribute",function(a,b){return!1!==b&&b!==
c?" "+a+'="'+a+'"':" "+a});return(a.defn(g,"$read_svg_contents",function(a,b){var d,g,e,l=c,k=c;(d=l=a.$read_contents(b,y(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===c||d.$$is_boolean&&1!=d||(l=l.$sub(A.get("SvgPreambleRx"),""),k=c,(d=(g=["width","height"]).$each,d.$$p=(e=function(b){var f;null==b&&(b=c);if((f=a["$attr?"](b))===c||f.$$is_boolean&&1!=f)return c;!1!==(f=k)&&f!==c?f:k=l.$match(A.get("SvgStartTagRx"))["$[]"](0).$gsub(A.get("DimensionAttributeRx"),
"");return k=""+k.$chop()+" "+b+'="'+a.$attr(b)+'px">'},e.$$s=this,e),d).call(g),!1!==k&&k!==c&&(l=l.$sub(A.get("SvgStartTagRx"),k)));return l}),c)&&"read_svg_contents"})(t.get("Converter"),t.get("Converter").$$scope.get("BuiltIn"))}(a.base)};
Opal.modules["asciidoctor/document"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var e=a.nil,k=a.slice,d=a.module,c=a.klass,b=a.hash2,B=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $== $references $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $freeze $attribute_undefined $attribute_missing $detect $constants $key? $expand_path $pwd $>= $+ $length $fetch $delete_if $parse $restore_attributes $update_backend_attributes $now $strftime $join $build_registry $to_proc $activate $preprocessors? $process_method $preprocessors $treeprocessors? $!= $treeprocessors $nil_or_empty? $nextval $to_i $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(y){y=d(y,"Asciidoctor").$$scope;(function(d,$super){function n(){}var r=n=c(d,$super,"Document",n),l=r.$$proto,g=r.$$scope,u,A,C;l.attributes=l.safe=l.reader=l.base_dir=l.parsed=l.parent_document=l.extensions=l.options=l.counters=l.references=l.doctype=l.backend=l.header=l.blocks=l.attributes_modified=l.id=l.callouts=l.header_attributes=l.attribute_overrides=l.converter=l.outfilesuffix=l.docinfo_processor_extensions=l.document=e;a.cdecl(g,"Footnote",a.get("Struct").$new("index","id",
"text"));(function(b,$super){function d(){}var g=d=c(b,$super,"AttributeEntry",d);g.$attr_reader("name","value","negate");a.defn(g,"$initialize",function(a,b,d){var c;null==d&&(d=e);this.name=a;this.value=b;return this.negate=(c=d["$nil?"]())===e||c.$$is_boolean&&1!=c?d:b["$nil?"]()});return(a.defn(g,"$save_to",function(a){var b;return(!1!==(b=a["$[]"]("attribute_entries"))&&b!==e?b:a["$[]="]("attribute_entries",[]))["$<<"](this)}),e)&&"save_to"})(g.base,null);(function(d,$super){function g(){}var l=
g=c(d,$super,"Title",g),k=l.$$proto,n=l.$$scope;k.sanitized=k.subtitle=k.combined=e;l.$attr_reader("main");a.alias(l,"title","main");l.$attr_reader("subtitle");l.$attr_reader("combined");a.defn(l,"$initialize",function(d,c){var h,g,l,k=e;null==c&&(c=b([],{}));(h=(g=this.sanitized=c["$[]"]("sanitize"),!1!==g&&g!==e?d["$include?"]("<"):g))===e||h.$$is_boolean&&1!=h||(d=d.$gsub(n.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip());(h=!1!==(g=(k=!1!==(l=c["$[]"]("separator"))&&l!==e?l:":")["$empty?"]())&&
g!==e?g:d["$include?"](k=""+k+" ")["$!"]())===e||h.$$is_boolean&&1!=h?(h=a.to_ary(d.$rpartition(k)),this.main=null==h[0]?e:h[0],this.subtitle=null==h[2]?e:h[2]):(this.main=d,this.subtitle=e);return this.combined=d});a.defn(l,"$sanitized?",function(){return this.sanitized});a.defn(l,"$subtitle?",function(){return this.subtitle["$!"]()["$!"]()});return(a.defn(l,"$to_s",function(){return this.combined}),e)&&"to_s"})(g.base,null);r.$attr_reader("safe");r.$attr_reader("compat_mode");r.$attr_reader("sourcemap");
r.$attr_reader("references");r.$attr_reader("counters");r.$attr_reader("callouts");r.$attr_reader("header");r.$attr_reader("base_dir");r.$attr_reader("options");r.$attr_reader("outfilesuffix");r.$attr_reader("parent_document");r.$attr_reader("reader");r.$attr_reader("converter");r.$attr_reader("extensions");a.defn(r,"$initialize",u=function(d,f){var c,l,k,n,m,r,J,O,R,E,ca,H,A=e,I=e,C=e,y=e,x=y=e,K=e,M=A=K=y=A=y=y=e;null==d&&(d=e);null==f&&(f=b([],{}));u.$$p=null;a.find_super_dispatcher(this,"initialize",
u,null).apply(this,[this,"document"]);if((c=A=f.$delete("parent"))===e||c.$$is_boolean&&1!=c){this.parent_document=e;this.references=b("ids footnotes links images indexterms includes".split(" "),{ids:b([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()});this.callouts=g.get("Callouts").$new();I=b([],{});(c=(l=!1!==(J=f["$[]"]("attributes"))&&J!==e?J:b([],{})).$each,c.$$p=(r=function(a,b){var f;null==a&&(a=e);null==b&&(b=e);(f=a["$start_with?"]("!"))===e||f.$$is_boolean&&
1!=f?(f=a["$end_with?"]("!"))===e||f.$$is_boolean&&1!=f||(a=a.$chop(),b=e):(a=a["$[]"](B(1,-1,!1)),b=e);return I["$[]="](a.$downcase(),b)},r.$$s=this,r),c).call(l);this.attribute_overrides=I;if((c=(y=f["$[]"]("safe"))["$!"]())===e||c.$$is_boolean&&1!=c)if((c=a.get("Fixnum")["$==="](y))===e||c.$$is_boolean&&1!=c)try{this.safe=g.get("SafeMode").$const_get(y.$to_s().$upcase())}catch(P){try{this.safe=g.get("SafeMode").$$scope.get("SECURE")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else this.safe=
y;else this.safe=g.get("SafeMode").$$scope.get("SECURE");this.sourcemap=f["$[]"]("sourcemap");this.compat_mode=!1;this.converter=e;try{C=null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":e}catch(P){if(P.$$class===a.NameError)C=e;else throw P;}this.extensions=e}else this.parent_document=A,c="base_dir",l=f,!1!==(k=l["$[]"](c))&&k!==e?k:l["$[]="](c,A.$base_dir()),this.references=(c=(l=A.$references()).$inject,c.$$p=(n=function(a,b){null==a&&(a=e);var f=b[0],c=b[1];if(f["$=="]("footnotes"))a["$[]="]("footnotes",
[]);else a["$[]="](f,c);return a},n.$$s=this,n),c).call(l,b([],{})),this.callouts=A.$callouts(),I=A.$attributes().$dup(),(c=(k=["doctype","compat-mode","toc","toc-placement","toc-position"]).$each,c.$$p=(m=function(a){null==a&&(a=e);return I.$delete(a)},m.$$s=this,m),c).call(k),this.attribute_overrides=I,this.safe=A.$safe(),this.compat_mode=A.$compat_mode(),this.sourcemap=A.$sourcemap(),this.converter=A.$converter(),C=!1,this.extensions=A.$extensions();this.parsed=!1;this.header=e;this.counters=b([],
{});this.attributes_modified=a.get("Set").$new();this.options=f;this.docinfo_processor_extensions=b([],{});y=(c="header_footer",J=f,!1!==(O=J["$[]"](c))&&O!==e?O:J["$[]="](c,!1));f.$freeze();x=this.attributes;x["$[]="]("sectids","");if(!1===y||y===e)x["$[]="]("notitle","");x["$[]="]("toc-placement","auto");x["$[]="]("stylesheet","");x["$[]="]("webfonts","");if(!1!==y&&y!==e)x["$[]="]("copycss","");x["$[]="]("prewrap","");x["$[]="]("attribute-undefined",g.get("Compliance").$attribute_undefined());
x["$[]="]("attribute-missing",g.get("Compliance").$attribute_missing());x["$[]="]("iconfont-remote","");x["$[]="]("caution-caption","Caution");x["$[]="]("important-caption","Important");x["$[]="]("note-caption","Note");x["$[]="]("tip-caption","Tip");x["$[]="]("warning-caption","Warning");x["$[]="]("appendix-caption","Appendix");x["$[]="]("example-caption","Example");x["$[]="]("figure-caption","Figure");x["$[]="]("table-caption","Table");x["$[]="]("toc-title","Table of Contents");x["$[]="]("manname-title",
"NAME");x["$[]="]("untitled-label","Untitled");x["$[]="]("version-label","Version");x["$[]="]("last-update-label","Last updated");I["$[]="]("asciidoctor","");I["$[]="]("asciidoctor-version",g.get("VERSION"));K=(c=(J=g.get("SafeMode").$constants()).$detect,c.$$p=(R=function(a){var b=R.$$s||this;null==b.safe&&(b.safe=e);null==a&&(a=e);return g.get("SafeMode").$const_get(a)["$=="](b.safe)},R.$$s=this,R),c).call(J).$to_s().$downcase();I["$[]="]("safe-mode-name",K);I["$[]="]("safe-mode-"+K,"");I["$[]="]("safe-mode-level",
this.safe);I["$[]="]("embedded",!1!==y&&y!==e?e:"");c="max-include-depth";O=I;!1!==(E=O["$[]"](c))&&E!==e?E:O["$[]="](c,64);if((c=I["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===e||c.$$is_boolean&&1!=c)I["$[]="]("allow-uri-read",e);I["$[]="]("user-home",g.get("USER_HOME"));if((c=I["$key?"]("numbered"))!==e&&(!c.$$is_boolean||1==c))I["$[]="]("sectnums",I.$delete("numbered"));(c=f["$[]"]("base_dir"))===e||c.$$is_boolean&&1!=c?(c=I["$[]"]("docdir"))===e||c.$$is_boolean&&1!=c?this.base_dir=I["$[]="]("docdir",
a.get("File").$expand_path(a.get("Dir").$pwd())):this.base_dir=I["$[]="]("docdir",a.get("File").$expand_path(I["$[]"]("docdir"))):this.base_dir=I["$[]="]("docdir",a.get("File").$expand_path(f["$[]"]("base_dir")));if((c=y=f["$[]"]("backend"))!==e&&(!c.$$is_boolean||1==c))I["$[]="]("backend",""+y);if((c=y=f["$[]"]("doctype"))!==e&&(!c.$$is_boolean||1==c))I["$[]="]("doctype",""+y);if(q(this.safe,g.get("SafeMode").$$scope.get("SERVER"))){c="copycss";O=I;!1!==(E=O["$[]"](c))&&E!==e?E:O["$[]="](c,e);c=
"source-highlighter";O=I;!1!==(E=O["$[]"](c))&&E!==e?E:O["$[]="](c,e);c="backend";O=I;!1!==(E=O["$[]"](c))&&E!==e?E:O["$[]="](c,g.get("DEFAULT_BACKEND"));if((c=(O=A["$!"](),!1!==O&&O!==e?I["$key?"]("docfile"):O))!==e&&(!c.$$is_boolean||1==c))I["$[]="]("docfile",I["$[]"]("docfile")["$[]"](B(p(I["$[]"]("docdir").$length(),1),-1,!1)));I["$[]="]("docdir","");I["$[]="]("user-home",".");if(q(this.safe,g.get("SafeMode").$$scope.get("SECURE"))){if((c=I.$fetch("linkcss","")["$nil?"]())===e||c.$$is_boolean&&
1!=c)I["$[]="]("linkcss","");c="icons";O=I;!1!==(E=O["$[]"](c))&&E!==e?E:O["$[]="](c,e)}}(c=(O=I).$delete_if,c.$$p=(ca=function(b,f){var c,d,h=e;null==b&&(b=e);null==f&&(f=e);h=!1;(c=f["$nil?"]())===e||c.$$is_boolean&&1!=c?((c=(d=a.get("String")["$==="](f),!1!==d&&d!==e?f["$end_with?"]("@"):d))===e||c.$$is_boolean&&1!=c||(f=f.$chop(),h=!0),x["$[]="](b,f)):x.$delete(b);return h},ca.$$s=this,ca),c).call(O);(c=x["$key?"]("compat-mode"))===e||c.$$is_boolean&&1!=c||(this.compat_mode=!0);if(!1!==A&&A!==
e)return c="doctype",E=x,!1!==(H=E["$[]"](c))&&H!==e?H:E["$[]="](c,g.get("DEFAULT_DOCTYPE")),this.reader=g.get("Reader").$new(d,f["$[]"]("cursor")),g.get("Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;if((c="backend",E=x,!1!==(H=E["$[]"](c))&&H!==e?H:E["$[]="](c,g.get("DEFAULT_BACKEND")))["$=="]("manpage"))x["$[]="]("doctype",I["$[]="]("doctype","manpage"));else c="doctype",E=x,!1!==(H=E["$[]"](c))&&H!==e?H:E["$[]="](c,g.get("DEFAULT_DOCTYPE"));this.$update_backend_attributes(x["$[]"]("backend"),
!0);A=a.get("Time").$now();y=(c="localdate",E=x,!1!==(H=E["$[]"](c))&&H!==e?H:E["$[]="](c,A.$strftime("%Y-%m-%d")));if((c=K=x["$[]"]("localtime"))===e||c.$$is_boolean&&1!=c)try{K=x["$[]="]("localtime",A.$strftime("%H:%M:%S %Z"))}catch(P){try{K=x["$[]="]("localtime",A.$strftime("%H:%M:%S"))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}c="localdatetime";E=x;!1!==(H=E["$[]"](c))&&H!==e?H:E["$[]="](c,""+y+" "+K);c="docdate";E=x;!1!==(H=E["$[]"](c))&&H!==e?H:E["$[]="](c,y);c="doctime";E=x;!1!==(H=E["$[]"](c))&&
H!==e?H:E["$[]="](c,K);c="docdatetime";E=x;!1!==(H=E["$[]"](c))&&H!==e?H:E["$[]="](c,""+y+" "+K);c="stylesdir";E=x;!1!==(H=E["$[]"](c))&&H!==e?H:E["$[]="](c,".");c="iconsdir";E=x;!1!==(H=E["$[]"](c))&&H!==e?H:E["$[]="](c,a.get("File").$join(x.$fetch("imagesdir","./images"),"icons"));if(!1!==C&&C!==e){if((c=A=f["$[]"]("extensions_registry"))===e||c.$$is_boolean&&1!=c)A=(c=a.get("Proc")["$==="](M=f["$[]"]("extensions")))===e||c.$$is_boolean&&1!=c?g.get("Extensions").$$scope.get("Registry").$new():(c=
(E=g.get("Extensions")).$build_registry,c.$$p=M.$to_proc(),c).call(E);else if((c=!1!==(E=g.get("Extensions").$$scope.get("Registry")["$==="](A))&&E!==e?E:(H=a.get("RUBY_ENGINE_JRUBY"),!1!==H&&H!==e?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](A):H))===e||c.$$is_boolean&&1!=c)A=g.get("Extensions").$$scope.get("Registry").$new();this.extensions=A.$activate(this)}return this.reader=g.get("PreprocessorReader").$new(this,d,g.get("Reader").$$scope.get("Cursor").$new(x["$[]"]("docfile"),
this.base_dir))});a.defn(r,"$parse",function(a){var f,c,d,l,k,n=e,m=e;null==a&&(a=e);return(f=this.parsed)===e||f.$$is_boolean&&1!=f?(n=this,!1!==a&&a!==e&&(this.reader=g.get("PreprocessorReader").$new(n,a,g.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir))),(f=(c=m=(d=this.parent_document)===e||d.$$is_boolean&&1!=d?this.extensions:e,!1!==c&&c!==e?m["$preprocessors?"]():c))===e||f.$$is_boolean&&1!=f||(f=(c=m.$preprocessors()).$each,f.$$p=(l=function(a){var b=
l.$$s||this,f;null==b.reader&&(b.reader=e);null==a&&(a=e);return b.reader=!1!==(f=a.$process_method()["$[]"](n,b.reader))&&f!==e?f:b.reader},l.$$s=this,l),f).call(c),g.get("Parser").$parse(this.reader,n,b(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(f=(d=!1!==m&&m!==e)?m["$treeprocessors?"]():m)===e||f.$$is_boolean&&1!=f||(f=(d=m.$treeprocessors()).$each,f.$$p=(k=function(a){var b,f,c,d=e;null==a&&(a=e);return(b=(f=(c=d=a.$process_method()["$[]"](n),
!1!==c&&c!==e?g.get("Document")["$==="](d):c),!1!==f&&f!==e?d["$!="](n):f))===e||b.$$is_boolean&&1!=b?e:n=d},k.$$s=this,k),f).call(d),this.parsed=!0,n):this});a.defn(r,"$counter",function(a,b){var c,d,g=e,l=e;null==b&&(b=e);if((c=(d=g=(l=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==d&&d!==e?this.counters["$key?"](a):d))===e||c.$$is_boolean&&1!=c)(c=b["$nil?"]())===e||c.$$is_boolean&&1!=c?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=this.$nextval(!1!==g&&g!==e?l:0),this.counters["$[]="](a,
b);else this.counters["$[]="](a,this.$nextval(l));return this.attributes["$[]="](a,this.counters["$[]"](a))});a.defn(r,"$counter_increment",function(a,b){var c=e,c=this.$counter(a);g.get("AttributeEntry").$new(a,c).$save_to(b.$attributes());return c});a.defn(r,"$nextval",function(b){var f,c=e;return(f=a.get("Integer")["$==="](b))===e||f.$$is_boolean&&1!=f?(c=b.$to_i(),(f=c.$to_s()["$!="](b.$to_s()))===e||f.$$is_boolean&&1!=f?p(c,1):p(b["$[]"](0).$ord(),1).$chr()):p(b,1)});a.defn(r,"$register",function(b,
f,c){var d,g,l,k=e,n=k=e;null==c&&(c=!1);k=b;"ids"["$==="](k)?(d=a.to_ary([].concat(a.to_a(f))),k=null==d[0]?e:d[0],n=null==d[1]?e:d[1],!1!==(d=n)&&d!==e?d:n=p(p("[",k),"]"),b=!1!==c&&c!==e?this.references["$[]"]("ids")["$[]="](k,n):(d=k,g=this.references["$[]"]("ids"),!1!==(l=g["$[]"](d))&&l!==e?l:g["$[]="](d,n))):b="footnotes"["$==="](k)||"indexterms"["$==="](k)?this.references["$[]"](b)["$<<"](f):(d=this.options["$[]"]("catalog_assets"))===e||d.$$is_boolean&&1!=d?e:this.references["$[]"](b)["$<<"](f);
return b});a.defn(r,"$footnotes?",function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()});a.defn(r,"$footnotes",function(){return this.references["$[]"]("footnotes")});a.defn(r,"$nested?",function(){return this.parent_document["$!"]()["$!"]()});a.defn(r,"$embedded?",function(){return this.attributes["$key?"]("embedded")});a.defn(r,"$extensions?",function(){return this.extensions["$!"]()["$!"]()});a.defn(r,"$source",function(){var a;return(a=this.reader)===e||a.$$is_boolean&&1!=
a?e:this.reader.$source()});a.defn(r,"$source_lines",function(){var a;return(a=this.reader)===e||a.$$is_boolean&&1!=a?e:this.reader.$source_lines()});a.defn(r,"$doctype",function(){var a;return!1!==(a=this.doctype)&&a!==e?a:this.doctype=this.attributes["$[]"]("doctype")});a.defn(r,"$backend",function(){var a;return!1!==(a=this.backend)&&a!==e?a:this.backend=this.attributes["$[]"]("backend")});a.defn(r,"$basebackend?",function(a){return this.attributes["$[]"]("basebackend")["$=="](a)});a.defn(r,"$title",
function(){return this.attributes["$[]"]("title")});a.defn(r,"$title=",function(a){var b,c;!1!==(b=this.header)&&b!==e?b:this.header=g.get("Section").$new(this,0);return b=[a],c=this.header,c["$title="].apply(c,b),b[b.length-1]});a.defn(r,"$doctitle",function(a){var f,c,d=e,l=e,k=e;null==a&&(a=b([],{}));if((f=(d=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==e&&(!f.$$is_boolean||1==f))d=this.$title();else if((f=(c=l=this.$first_section(),!1!==c&&c!==e?l["$title?"]():c))!==e&&(!f.$$is_boolean||
1==f))d=l.$title();else if((f=(c=a["$[]"]("use_fallback"),!1!==c&&c!==e?d=this.attributes["$[]"]("untitled-label"):c))===e||f.$$is_boolean&&1!=f)return e;return(f=k=a["$[]"]("partition"))===e||f.$$is_boolean&&1!=f?(f=(c=a["$[]"]("sanitize"),!1!==c&&c!==e?d["$include?"]("<"):c))===e||f.$$is_boolean&&1!=f?d:d.$gsub(g.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():g.get("Title").$new(d,a.$merge(b(["separator"],{separator:k["$=="](!0)?this.attributes["$[]"]("title-separator"):k})))});a.alias(r,"name",
"doctitle");a.defn(r,"$author",function(){return this.attributes["$[]"]("author")});a.defn(r,"$revdate",function(){return this.attributes["$[]"]("revdate")});a.defn(r,"$notitle",function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==e?this.attributes["$key?"]("notitle"):a});a.defn(r,"$noheader",function(){return this.attributes["$key?"]("noheader")});a.defn(r,"$nofooter",function(){return this.attributes["$key?"]("nofooter")});a.defn(r,"$first_section",function(){var a,
b,c,d;return(a=this["$has_header?"]())===e||a.$$is_boolean&&1!=a?(a=(b=!1!==(d=this.blocks)&&d!==e?d:[]).$detect,a.$$p=(c=function(a){null==a&&(a=e);return a.$context()["$=="]("section")},c.$$s=this,c),a).call(b):this.header});a.defn(r,"$has_header?",function(){var a;return(a=this.header)===e||a.$$is_boolean&&1!=a?!1:!0});a.alias(r,"header?","has_header?");a.defn(r,"$<<",A=function(b){var f=k.call(arguments,0),c=A.$$p;A.$$p=null;b.$context()["$=="]("section")&&this.$assign_index(b);return a.find_super_dispatcher(this,
"<<",A,c).apply(this,f)});a.defn(r,"$finalize_header",function(a,b){null==b&&(b=!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!1===b||b===e)a["$[]="]("invalid-header",!0);return a});a.defn(r,"$save_attributes",function(){var a,b,c,d,l=e,k=e,n=e,m=e,p=e,q=e,r=e,m=n=e;if((l=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((a=!1!==(b=this["$attribute_locked?"]("toc"))&&b!==e?b:this.attributes_modified["$include?"]("toc"))===e||a.$$is_boolean&&1!=a)l["$[]="]("toc","");
if((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==e?b:this.attributes_modified["$include?"]("sectnums"))===e||a.$$is_boolean&&1!=a)l["$[]="]("sectnums","")}if((a=!1!==(b=l["$key?"]("doctitle"))&&b!==e?b:(k=this.$doctitle())["$!"]())===e||a.$$is_boolean&&1!=a)l["$[]="]("doctitle",k);if((a=this.id)===e||a.$$is_boolean&&1!=a)this.id=l["$[]"]("css-signature");n=(a=m=(b=l.$delete("toc2"))===e||b.$$is_boolean&&1!=b?l["$[]"]("toc"):"left")===e||a.$$is_boolean&&1!=a?e:(a=(b=p=l.$fetch("toc-placement",
"macro"),!1!==b&&b!==e?p["$!="]("auto"):b))===e||a.$$is_boolean&&1!=a?l["$[]"]("toc-position"):p;if((a=(b=!1!==m&&m!==e)?!1!==(c=m["$empty?"]()["$!"]())&&c!==e?c:n["$nil_or_empty?"]()["$!"]():m)!==e&&(!a.$$is_boolean||1==a)){q="left";r="toc2";n=(a=n["$nil_or_empty?"]()["$!"]())===e||a.$$is_boolean&&1!=a?(a=m["$empty?"]()["$!"]())===e||a.$$is_boolean&&1!=a?q:m:n;l["$[]="]("toc","");l["$[]="]("toc-placement","auto");m=n;if("left"["$==="](m)||"<"["$==="](m)||"&lt;"["$==="](m))l["$[]="]("toc-position",
"left");else if("right"["$==="](m)||">"["$==="](m)||"&gt;"["$==="](m))l["$[]="]("toc-position","right");else if("top"["$==="](m)||"^"["$==="](m))l["$[]="]("toc-position","top");else if("bottom"["$==="](m)||"v"["$==="](m))l["$[]="]("toc-position","bottom");else"preamble"["$==="](m)||"macro"["$==="](m)?(l["$[]="]("toc-position","content"),l["$[]="]("toc-placement",n)):l.$delete("toc-position"),r=e;!1!==r&&r!==e&&(a="toc-class",b=l,!1!==(c=b["$[]"](a))&&c!==e?c:b["$[]="](a,r))}if((a=l["$key?"]("compat-mode"))===
e||a.$$is_boolean&&1!=a)this.compat_mode=!1;else{if((a=l["$has_key?"]("language"))!==e&&(!a.$$is_boolean||1==a))l["$[]="]("source-language",l["$[]"]("language"));this.compat_mode=!0}this.outfilesuffix=l["$[]"]("outfilesuffix");this.header_attributes=l.$dup();return(a=this.parent_document)===e||a.$$is_boolean&&1!=a?(a=(b=g.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(d=function(a){var b=d.$$s||this,f,c;null==b.attribute_overrides&&(b.attribute_overrides=e);null==a&&(a=e);return(f=(c=b.attribute_overrides["$key?"](a),
!1!==c&&c!==e?b.attribute_overrides["$[]"](a):c))===e||f.$$is_boolean&&1!=f?e:b.attribute_overrides.$delete(a)},d.$$s=this,d),a).call(b):e});a.defn(r,"$restore_attributes",function(){var a;((a=this.parent_document)===e||a.$$is_boolean&&1!=a)&&this.callouts.$rewind();return this.attributes=this.header_attributes});a.defn(r,"$clear_playback_attributes",function(a){return a.$delete("attribute_entries")});a.defn(r,"$playback_attributes",function(a){var b,c,d;return(b=a["$key?"]("attribute_entries"))===
e||b.$$is_boolean&&1!=b?e:(b=(c=a["$[]"]("attribute_entries")).$each,b.$$p=(d=function(a){var b=d.$$s||this,f,c=e;null==b.attributes&&(b.attributes=e);null==a&&(a=e);c=a.$name();if((f=a.$negate())===e||f.$$is_boolean&&1!=f)return b.attributes["$[]="](c,a.$value()),c["$=="]("compat-mode")?b.compat_mode=!0:e;b.attributes.$delete(c);return c["$=="]("compat-mode")?b.compat_mode=!1:e},d.$$s=this,d),b).call(c)});a.defn(r,"$set_attribute",function(a,b){var c,d=e;if((c=this["$attribute_locked?"](a))===e||
c.$$is_boolean&&1!=c){d=a;if("backend"["$==="](d))this.$update_backend_attributes(this.$apply_attribute_value_subs(b),this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](d))this.$update_doctype_attributes(this.$apply_attribute_value_subs(b));else this.attributes["$[]="](a,this.$apply_attribute_value_subs(b));this.attributes_modified["$<<"](a);return!0}return!1});a.defn(r,"$delete_attribute",function(a){var b;return(b=this["$attribute_locked?"](a))===e||b.$$is_boolean&&
1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1});a.defn(r,"$attribute_locked?",function(a){return this.attribute_overrides["$key?"](a)});a.defn(r,"$apply_attribute_value_subs",function(a){var b,c=e,d=e;if((b=c=g.get("AttributeEntryPassMacroRx").$match(a))===e||b.$$is_boolean&&1!=b)return this.$apply_header_subs(a);if((b=c["$[]"](1)["$empty?"]()["$!"]())===e||b.$$is_boolean&&1!=b)return c["$[]"](2);d=this.$resolve_pass_subs(c["$[]"](1));return(b=d["$empty?"]())===e||b.$$is_boolean&&
1!=b?this.$apply_subs(c["$[]"](2),d):c["$[]"](2)});a.defn(r,"$update_backend_attributes",function(a,b){var c,d,l=e,k=e,n=e,m=e,p=e,q=k=e,r=e,E=e,q=e;null==b&&(b=!1);if((c=!1!==(d=b)&&d!==e?d:!1!==a&&a!==e?a["$!="](this.attributes["$[]"]("backend")):a)===e||c.$$is_boolean&&1!=c)return e;l=this.attributes;k=l["$[]"]("backend");n=l["$[]"]("basebackend");m=l["$[]"]("doctype");if((c=a["$start_with?"]("xhtml"))!==e&&(!c.$$is_boolean||1==c))l["$[]="]("htmlsyntax","xml"),a=a["$[]"](B(1,-1,!1));else if(!((c=
a["$start_with?"]("html"))===e||c.$$is_boolean&&1!=c||l["$[]"]("htmlsyntax")["$=="]("xml")))l["$[]="]("htmlsyntax","html");(c=p=g.get("BACKEND_ALIASES")["$[]"](a))===e||c.$$is_boolean&&1!=c||(a=p);!1!==k&&k!==e&&(l.$delete("backend-"+k),!1!==m&&m!==e&&l.$delete("backend-"+k+"-doctype-"+m));!1!==m&&m!==e&&(l["$[]="]("doctype-"+m,""),l["$[]="]("backend-"+a+"-doctype-"+m,""));l["$[]="]("backend",a);l["$[]="]("backend-"+a,"");if((c=g.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=
this.$create_converter()))===e||c.$$is_boolean&&1!=c){if(k=a.$sub(g.get("TrailingDigitsRx"),""),r=!1!==(c=g.get("DEFAULT_EXTENSIONS")["$[]"](k))&&c!==e?c:".html",q=r["$[]"](B(1,-1,!1)),(c=this["$attribute_locked?"]("outfilesuffix"))===e||c.$$is_boolean&&1!=c)l["$[]="]("outfilesuffix",r)}else{k=this.converter.$basebackend();if((c=this["$attribute_locked?"]("outfilesuffix"))===e||c.$$is_boolean&&1!=c)l["$[]="]("outfilesuffix",this.converter.$outfilesuffix());q=this.converter.$filetype()}(c=E=l["$[]"]("filetype"))===
e||c.$$is_boolean&&1!=c||l.$delete("filetype-"+E);l["$[]="]("filetype",q);l["$[]="]("filetype-"+q,"");if((c=q=g.get("DEFAULT_PAGE_WIDTHS")["$[]"](k))===e||c.$$is_boolean&&1!=c)l.$delete("pagewidth");else l["$[]="]("pagewidth",q);if((c=k["$!="](n))!==e&&(!c.$$is_boolean||1==c)&&(!1!==n&&n!==e&&(l.$delete("basebackend-"+n),!1!==m&&m!==e&&l.$delete("basebackend-"+n+"-doctype-"+m)),l["$[]="]("basebackend",k),l["$[]="]("basebackend-"+k,""),!1!==m&&m!==e))l["$[]="]("basebackend-"+k+"-doctype-"+m,"");return this.backend=
e});a.defn(r,"$update_doctype_attributes",function(a){var b,c=e,d=e,g=e,l=e;if((b=!1!==a&&a!==e?a["$!="](this.attributes["$[]"]("doctype")):a)===e||b.$$is_boolean&&1!=b)return e;c=this.attributes;d=c["$[]"]("doctype");g=c["$[]"]("backend");l=c["$[]"]("basebackend");!1!==d&&d!==e&&(c.$delete("doctype-"+d),!1!==g&&g!==e&&c.$delete("backend-"+g+"-doctype-"+d),!1!==l&&l!==e&&c.$delete("basebackend-"+l+"-doctype-"+d));c["$[]="]("doctype",a);c["$[]="]("doctype-"+a,"");if(!1!==g&&g!==e)c["$[]="]("backend-"+
g+"-doctype-"+a,"");if(!1!==l&&l!==e)c["$[]="]("basebackend-"+l+"-doctype-"+a,"");return this.doctype=e});a.defn(r,"$create_converter",function(){var c,f=e,d=e,l=e,k=e,n=e,f=b([],{});f["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));d=(c=l=this.options["$[]"]("template_dir"))===e||c.$$is_boolean&&1!=c?(c=d=this.options["$[]"]("template_dirs"))===e||c.$$is_boolean&&1!=c?e:f["$[]="]("template_dirs",d):f["$[]="]("template_dirs",[l]);!1!==d&&d!==e&&(f["$[]="]("template_cache",this.options.$fetch("template_cache",
!0)),f["$[]="]("template_engine",this.options["$[]"]("template_engine")),f["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),f["$[]="]("eruby",this.options["$[]"]("eruby")),f["$[]="]("safe",this.safe));n=(c=k=this.options["$[]"]("converter"))===e||c.$$is_boolean&&1!=c?g.get("Converter").$$scope.get("Factory").$default(!1):g.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),k));return n.$create(this.$backend(),f)});a.defn(r,"$convert",
function(a){var f,c,d,l=e,k=e,n=e,m=e;null==a&&(a=b([],{}));((f=this.parsed)===e||f.$$is_boolean&&1!=f)&&this.$parse();if((f=!1!==(c=q(this.safe,g.get("SafeMode").$$scope.get("SERVER")))&&c!==e?c:a["$empty?"]())===e||f.$$is_boolean&&1!=f)((f=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))===e||f.$$is_boolean&&1!=f)&&this.attributes.$delete("outfile"),((f=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))===e||f.$$is_boolean&&1!=f)&&this.attributes.$delete("outdir");((f=this.converter)===
e||f.$$is_boolean&&1!=f)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?k=(f=(c=l=this.blocks["$[]"](0),!1!==c&&c!==e?l.$content_model()["$!="]("compound"):c))===e||f.$$is_boolean&&1!=f?e:l.$content():(n=(f=(c=a["$key?"]("header_footer"))===e||c.$$is_boolean&&1!=c?this.options["$[]"]("header_footer"):a["$[]"]("header_footer"))===e||f.$$is_boolean&&1!=f?"embedded":"document",k=this.converter.$convert(this,
n));!((f=this.parent_document)===e||f.$$is_boolean&&1!=f)||(f=(c=m=this.extensions,!1!==c&&c!==e?m["$postprocessors?"]():c))===e||f.$$is_boolean&&1!=f||(f=(c=m.$postprocessors()).$each,f.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return k=a.$process_method()["$[]"](b,k)},d.$$s=this,d),f).call(c);return k});a.alias(r,"render","convert");a.defn(r,"$write",function(b,f){var c,d,l;if((c=g.get("Writer")["$==="](this.converter))===e||c.$$is_boolean&&1!=c){if((c=f["$respond_to?"]("write"))===e||
c.$$is_boolean&&1!=c)(c=(d=a.get("File")).$open,c.$$p=(l=function(a){null==a&&(a=e);return a.$write(b)},l.$$s=this,l),c).call(d,f,"w");else if((c=b["$nil_or_empty?"]())===e||c.$$is_boolean&&1!=c)f.$write(b.$chomp()),f.$write(g.get("EOL"));return e}return this.converter.$write(b,f)});a.defn(r,"$content",C=function(){var b=k.call(arguments,0),f=C.$$p;C.$$p=null;this.attributes.$delete("title");return a.find_super_dispatcher(this,"content",C,f).apply(this,b)});a.defn(r,"$docinfo",function(a,f){var c,
d,l,k,n=e,p=e,r=e,u=e,R=n=e,E=e,p=p=e;null==a&&(a="head");null==f&&(f=e);if(q(this.$safe(),g.get("SafeMode").$$scope.get("SECURE")))return"";n=a["$=="]("footer")?"-footer":e;if(!1===f||f===e)f=this.outfilesuffix;p=this.attributes["$[]"]("docinfodir");r=e;u=(c=(u=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===e||c.$$is_boolean&&1!=c?(c=(d=u.$split(",")).$map,c.$$p="strip".$to_proc(),c).call(d):(c=this.attributes["$key?"]("docinfo2"))===e||c.$$is_boolean&&1!=c?(c=this.attributes["$key?"]("docinfo1"))===
e||c.$$is_boolean&&1!=c?!1!==u&&u!==e?["private"]:e:["shared"]:["private","shared"];if(!1!==u&&u!==e){n="docinfo"+n+f;if((c=u["$&"](["shared","shared-"+a])["$empty?"]())===e||c.$$is_boolean&&1!=c)R=this.$normalize_system_path(n,p),(c=r=this.$read_asset(R,b(["normalize"],{normalize:!0})))===e||c.$$is_boolean&&1!=c||(c=!1!==(l=E)&&l!==e?l:E=this.$resolve_docinfo_subs())===e||c.$$is_boolean&&1!=c||(r=(c=E["$=="]("attributes"))===e||c.$$is_boolean&&1!=c?this.$apply_subs(r,E):this.$sub_attributes(r));
if((c=!1!==(l=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&l!==e?l:u["$&"](["private","private-"+a])["$empty?"]())===e||c.$$is_boolean&&1!=c)R=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+n,p),(c=p=this.$read_asset(R,b(["normalize"],{normalize:!0})))===e||c.$$is_boolean&&1!=c||((c=!1!==(l=E)&&l!==e?l:E=this.$resolve_docinfo_subs())===e||c.$$is_boolean&&1!=c||(p=(c=E["$=="]("attributes"))===e||c.$$is_boolean&&1!=c?this.$apply_subs(p,E):this.$sub_attributes(p)),r=
!1!==r&&r!==e?""+r+g.get("EOL")+p:p)}(c=(l=this.extensions,!1!==l&&l!==e?this["$docinfo_processors?"](a):l))===e||c.$$is_boolean&&1!=c||(p=m((c=(l=this.docinfo_processor_extensions["$[]"](a)).$map,c.$$p=(k=function(a){var b=k.$$s||this;null==a&&(a=e);return a.$process_method()["$[]"](b)},k.$$s=this,k),c).call(l).$compact(),g.get("EOL")),r=!1!==r&&r!==e?""+r+g.get("EOL")+p:p);return""+r});a.defn(r,"$resolve_docinfo_subs",function(){var a,b=e;if((a=this.attributes["$key?"]("docinfosubs"))===e||a.$$is_boolean&&
1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",e,"docinfo");return(a=b["$empty?"]())===e||a.$$is_boolean&&1!=a?b:e});a.defn(r,"$docinfo_processors?",function(a){var b,c;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))===e||b.$$is_boolean&&1!=b?(b=(c=this.extensions,!1!==c&&c!==e?this.document.$extensions()["$docinfo_processors?"](a):c))===e||b.$$is_boolean&&1!=b?this.docinfo_processor_extensions["$[]="](a,!1):this.docinfo_processor_extensions["$[]="](a,
this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](a)["$!="](!1)});return(a.defn(r,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](e))===e||a.$$is_boolean&&1!=a?e:this.header.$title()).$inspect()+", blocks: "+this.blocks.$size()+"}>"}),e)&&"to_s"})(y.base,y.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/inline"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,p=a.module,m=a.klass,e=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(k){k=p(k,"Asciidoctor").$$scope;(function(d,$super){function b(){}var k=b=m(d,$super,"Inline",b),p;k.$attr_reader("text");k.$attr_reader("type");k.$attr_accessor("target");a.defn(k,"$initialize",p=function(b,d,k,m){var l,g=q;null==k&&(k=q);null==m&&
(m=e([],{}));p.$$p=null;a.find_super_dispatcher(this,"initialize",p,null).apply(this,[b,d]);this.node_name="inline_"+d;this.text=k;this.id=m["$[]"]("id");this.type=m["$[]"]("type");this.target=m["$[]"]("target");return(l=(g=m["$[]"]("attributes"))["$nil_or_empty?"]())===q||l.$$is_boolean&&1!=l?this.$update_attributes(g):q});a.defn(k,"$block?",function(){return!1});a.defn(k,"$inline?",function(){return!0});a.defn(k,"$convert",function(){return this.$converter().$convert(this)});return a.alias(k,"render",
"convert")})(k.base,k.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/list"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,p=a.slice,m=a.module,e=a.klass;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(k){k=m(k,"Asciidoctor").$$scope;(function(d,$super){function b(){}var k=b=e(d,$super,"List",b),m=k.$$proto,x,t;m.context=
m.document=m.style=q;a.alias(k,"items","blocks");a.alias(k,"content","blocks");a.alias(k,"items?","blocks?");a.defn(k,"$initialize",x=function(b,d){var e=p.call(arguments,0),g=x.$$p;x.$$p=null;return a.find_super_dispatcher(this,"initialize",x,g).apply(this,e)});a.defn(k,"$outline?",function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==q?a:this.context["$=="]("olist")});a.defn(k,"$convert",t=function(){var b=p.call(arguments,0),d=t.$$p,e=q;t.$$p=null;return this.context["$=="]("colist")?
(e=a.find_super_dispatcher(this,"convert",t,d).apply(this,b),this.document.$callouts().$next_list(),e):a.find_super_dispatcher(this,"convert",t,d).apply(this,b)});a.alias(k,"render","convert");return(a.defn(k,"$to_s",function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"}),q)&&"to_s"})(k.base,k.get("AbstractBlock"));(function(d,$super){function b(){}var k=b=e(d,$super,"ListItem",b),m=
k.$$proto,p=k.$$scope,t;m.text=m.blocks=q;k.$attr_accessor("marker");a.defn(k,"$initialize",t=function(b,d){null==d&&(d=q);t.$$p=null;a.find_super_dispatcher(this,"initialize",t,null).apply(this,[b,"list_item"]);this.text=d;return this.level=b.$level()});a.defn(k,"$text?",function(){return this.text["$nil_or_empty?"]()["$!"]()});a.defn(k,"$text",function(){return this.$apply_subs(this.text)});a.defn(k,"$simple?",function(){var a,b,d=q;return!1!==(a=this.blocks["$empty?"]())&&a!==q?a:(b=this.blocks.$size()["$=="](1)?
p.get("List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==b&&b!==q?d["$outline?"]():b)});a.defn(k,"$compound?",function(){return this["$simple?"]()["$!"]()});a.defn(k,"$fold_first",function(a,b){var d,g,e,k,m,h,f=q,t=q;null==a&&(a=!1);null==b&&(b=!1);(d=(g=(e=f=this.blocks["$[]"](0),!1!==e&&e!==q?p.get("Block")["$==="](f):e),!1!==g&&g!==q?!1!==(e=f.$context()["$=="]("paragraph")?a["$!"]():f.$context()["$=="]("paragraph"))&&e!==q?e:(k=(m=!1!==(h=b)&&h!==q?h:a["$!"](),!1!==m&&
m!==q?f.$context()["$=="]("literal"):m),!1!==k&&k!==q?f["$option?"]("listparagraph"):k):g))===q||d.$$is_boolean&&1!=d||(t=this.$blocks().$shift(),((d=this.text["$nil_or_empty?"]())===q||d.$$is_boolean&&1!=d)&&t.$lines().$unshift(this.text),this.text=t.$source());return q});return(a.defn(k,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(a=this.blocks)&&a!==q?a:[]).$size()+
"}>"}),q)&&"to_s"})(k.base,k.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/parser"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?
a<=b:a["$<="](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var b=a.nil,B=a.breaker,y=a.module,x=a.klass,t=a.hash2,n=a.hash,r=a.range,l=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $- $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $detect $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $is_a? $apply_header_subs $map $each_with_index $zero? $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_col_specs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cell_spec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer= $buffer $keep_cell_open $push_cell_spec $close_cell $cell_open? $columns $assign_col_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
return function(g){(function(g,$super){function C(){}var h=C=x(g,$super,"Parser",C),f=h.$$scope,w,z,D,y;a.cdecl(f,"BlockMatchData",f.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(f,"TabRx",/\t/);a.cdecl(f,"TabIndentRx",/^\t+/);a.cdecl(f,"StartOfBlockProc",(w=h.$lambda,w.$$p=(z=function(a){var c=z.$$s||this,d,g;null==a&&(a=b);return!1!==(d=(g=a["$start_with?"]("["),!1!==g&&g!==b?f.get("BlockAttributeLineRx")["$=~"](a):g))&&d!==b?d:c["$is_delimited_block?"](a)},z.$$s=h,z),w).call(h));
a.cdecl(f,"StartOfListProc",(w=h.$lambda,w.$$p=(D=function(a){null==a&&(a=b);return f.get("AnyListRx")["$=~"](a)},D.$$s=h,D),w).call(h));a.cdecl(f,"StartOfBlockOrListProc",(w=h.$lambda,w.$$p=(y=function(a){var c=y.$$s||this,d,g,h;null==a&&(a=b);return!1!==(d=!1!==(g=c["$is_delimited_block?"](a))&&g!==b?g:(h=a["$start_with?"]("["),!1!==h&&h!==b?f.get("BlockAttributeLineRx")["$=~"](a):h))&&d!==b?d:f.get("AnyListRx")["$=~"](a)},y.$$s=h,y),w).call(h));a.cdecl(f,"NoOp",b);a.defn(h,"$initialize",function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")});
a.defs(h,"$parse",function(c,f,d){var g,h,e=b,l=b;null==d&&(d=t([],{}));e=this.$parse_document_header(c,f);if((g=d["$[]"]("header_only"))===b||g.$$is_boolean&&1!=g)for(;(h=c["$has_more_lines?"]())!==b&&(!h.$$is_boolean||1==h);)if(h=a.to_ary(this.$next_section(c,f,e)),l=null==h[0]?b:h[0],e=null==h[1]?b:h[1],!1!==l&&l!==b)f["$<<"](l);return f});a.defs(h,"$parse_document_header",function(c,f){var d,g,h=b,e=b,l=b,k=b,m=b,p=b,q=e=m=b,e=e=b,h=this.$parse_block_metadata_lines(c,f);if((d=(g=e=this["$is_next_line_document_title?"](c,
h),!1!==g&&g!==b?h["$has_key?"]("title"):g))!==b&&(!d.$$is_boolean||1==d))return f.$finalize_header(h,!1);l=b;if((d=(k=f.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===b||d.$$is_boolean&&1!=d)d=[l=k],g=f,g["$title="].apply(g,d),d[d.length-1];m=b;if(!1!==e&&e!==b){(d=f.$sourcemap())===b||d.$$is_boolean&&1!=d||(p=c.$cursor());d=a.to_ary(this.$parse_section_title(c,f));f["$id="](null==d[0]?b:d[0]);m=null==d[2]?b:d[2];e=null==d[4]?b:d[4];if(!1===l||l===b)d=[l=m],g=f,g["$title="].apply(g,d),
d[d.length-1];!1!==e&&e!==b||f.$set_attribute("compat-mode","");(d=q=h.$delete("separator"))===b||d.$$is_boolean&&1!=d||f.$set_attribute("title-separator",q);!1!==p&&p!==b&&(d=[p],g=f.$header(),g["$source_location="].apply(g,d),d[d.length-1]);f.$attributes()["$[]="]("doctitle",m);if((d=f.$id())===b||d.$$is_boolean&&1!=d){if(!((d=e=h.$delete(1))===b||d.$$is_boolean&&1!=d||(e=n(1,e),this.$parse_style_attribute(e,c),(d=e["$key?"]("id"))===b||d.$$is_boolean&&1!=d)))h["$[]="]("id",e["$[]"]("id"));d=[h.$delete("id")];
g=f;g["$id="].apply(g,d);d[d.length-1]}else h.$delete(1),h.$delete("id");this.$parse_header_metadata(c,f)}if((d=!1!==(g=(k=f.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&g!==b?g:k["$=="](m))===b||d.$$is_boolean&&1!=d)d=[l=k],g=f,g["$title="].apply(g,d),d[d.length-1];if(!1!==l&&l!==b)f.$attributes()["$[]="]("doctitle",l);f.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(c,f);return f.$finalize_header(h)});a.defs(h,"$parse_manpage_header",function(a,c){var d,g=b,g=g=b;(d=g=f.get("ManpageTitleVolnumRx").$match(c.$attributes()["$[]"]("doctitle")))===
b||d.$$is_boolean&&1!=d?(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),c.$attributes()["$[]="]("mantitle",c.$attributes()["$[]"]("doctitle")),c.$attributes()["$[]="]("manvolnum","1")):(c.$attributes()["$[]="]("mantitle",c.$sub_attributes(g["$[]"](1).$rstrip().$downcase())),c.$attributes()["$[]="]("manvolnum",g["$[]"](2).$strip()));a.$skip_blank_lines();if((d=this["$is_next_line_section?"](a,t([],{})))===b||d.$$is_boolean&&1!=d)return this.$warn("asciidoctor: ERROR: "+
a.$prev_line_info()+": name section expected");g=this.$initialize_section(a,c,t([],{}));if(g.$level()["$=="](1)){g=a.$read_lines_until(t(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((d=g=f.get("ManpageNamePurposeRx").$match(g))===b||d.$$is_boolean&&1!=d)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body");c.$attributes()["$[]="]("manname",c.$sub_attributes(g["$[]"](1)));c.$attributes()["$[]="]("manpurpose",g["$[]"](2));
return c.$backend()["$=="]("manpage")?(c.$attributes()["$[]="]("docname",c.$attributes()["$[]"]("manname")),c.$attributes()["$[]="]("outfilesuffix","."+c.$attributes()["$[]"]("manvolnum"))):b}return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")});a.defs(h,"$next_section",function(c,d,g){var h,e,l,k,n=b,r=b,u=b,w=b,z=b,D=b,C=b,x=b,y=C=b,N=y=y=b,B=b,z=r=b;null==g&&(g=t([],{}));u=r=n=!1;(h=(e=(l=d.$context()["$=="]("document"))?d.$blocks()["$empty?"]():
d.$context()["$=="]("document"),!1!==e&&e!==b?!1!==(l=!1!==(k=w=d["$has_header?"]())&&k!==b?k:g.$delete("invalid-header"))&&l!==b?l:this["$is_next_line_section?"](c,g)["$!"]():e))===b||h.$$is_boolean&&1!=h?(z=d.$document().$doctype(),D=this.$initialize_section(c,d,g),g=(h=C=g["$[]"]("title"))===b||h.$$is_boolean&&1!=h?t([],{}):t(["title"],{title:C}),C=D.$level(),(h=(e=C["$=="](0))?z["$=="]("book"):C["$=="](0))===b||h.$$is_boolean&&1!=h?x=[q(C,1)]:(r=D.$special()["$!"](),x=(h=(e=D.$special(),!1!==
e&&e!==b?["preface","appendix"]["$include?"](D.$sectname()):e))===b||h.$$is_boolean&&1!=h?[q(C,1)]:[q(C,2)])):(z=d.$doctype(),(h=!1!==(e=w)&&e!==b?e:(l=z["$=="]("book"))?g["$[]"](1)["$!="]("abstract"):z["$=="]("book"))===b||h.$$is_boolean&&1!=h||(n=u=f.get("Block").$new(d,"preamble",t(["content_model"],{content_model:"compound"})),(h=(e=z["$=="]("book"))?d["$attr?"]("preface-title"):z["$=="]("book"))===b||h.$$is_boolean&&1!=h||(h=[d.$attr("preface-title")],e=n,e["$title="].apply(e,h),h[h.length-1]),
d["$<<"](n)),D=d,C=0,x=(h=d.$attributes()["$has_key?"]("fragment"))===b||h.$$is_boolean&&1!=h?z["$=="]("book")?[0,1]:[1]:b);for(c.$skip_blank_lines();(e=c["$has_more_lines?"]())!==b&&(!e.$$is_boolean||1==e);){this.$parse_block_metadata_lines(c,D,g);if((e=y=this["$is_next_line_section?"](c,g))===b||e.$$is_boolean&&1!=e)(y=c.$line_info(),(e=N=this.$next_block(c,!1!==(l=u)&&l!==b?l:D,g,t(["parse_metadata"],{parse_metadata:!1})))===b||e.$$is_boolean&&1!=e)||(!1!==r&&r!==b&&((e=D["$blocks?"]()["$!"]())===
b||e.$$is_boolean&&1!=e?D.$blocks().$size()["$=="](1)&&((B=D.$blocks()["$[]"](0),(e=(l=u["$!"](),!1!==l&&l!==b?B.$content_model()["$=="]("compound"):l))===b||e.$$is_boolean&&1!=e)?(e=B.$content_model()["$!="]("compound"))===b||e.$$is_boolean&&1!=e||(u=f.get("Block").$new(D,"open",t(["content_model"],{content_model:"compound"})),e=["partintro"],l=u,l["$style="].apply(l,e),e[e.length-1],D.$blocks().$shift(),B.$style()["$=="]("partintro")&&(e=["paragraph"],l=B,l["$context="].apply(l,e),e[e.length-1],
e=[b],l=B,l["$style="].apply(l,e),e[e.length-1]),e=[u],l=B,l["$parent="].apply(l,e),e[e.length-1],u["$<<"](B),e=[u],l=N,l["$parent="].apply(l,e),e[e.length-1],D["$<<"](u)):this.$warn("asciidoctor: ERROR: "+y+": illegal block content outside of partintro block")):(e=N.$style()["$!="]("partintro"))===b||e.$$is_boolean&&1!=e||(N.$context()["$=="]("paragraph")?(e=["open"],l=N,l["$context="].apply(l,e),e[e.length-1],e=["partintro"],l=N,l["$style="].apply(l,e),e[e.length-1]):(u=f.get("Block").$new(D,"open",
t(["content_model"],{content_model:"compound"})),e=["partintro"],l=u,l["$style="].apply(l,e),e[e.length-1],e=[u],l=N,l["$parent="].apply(l,e),e[e.length-1],D["$<<"](u)))),(!1!==(e=u)&&e!==b?e:D)["$<<"](N),g=t([],{}));else if(y=q(y,D.$document().$attr("leveloffset",0).$to_i()),(e=!1!==(l=p(y,C))&&l!==b?l:D.$context()["$=="]("document")?y["$=="](0):D.$context()["$=="]("document"))===b||e.$$is_boolean&&1!=e){(e=(l=y["$=="](0))?z["$!="]("book"):y["$=="](0))===b||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: ERROR: "+
c.$line_info()+": only book doctypes can contain level 0 sections");break}else(e=(l=y["$=="](0))?z["$!="]("book"):y["$=="](0))===b||e.$$is_boolean&&1!=e?(e=(l=!1!==x&&x!==b)?x["$include?"](y)["$!"]():x)===b||e.$$is_boolean&&1!=e||this.$warn(q(q("asciidoctor: WARNING: "+c.$line_info()+": section title out of sequence: ","expected "+(p(x.$size(),1)?"levels":"level")+" "+m(x," or ")+", "),"got level "+y)):this.$warn("asciidoctor: ERROR: "+c.$line_info()+": only book doctypes can contain level 0 sections"),
e=a.to_ary(this.$next_section(c,D,g)),y=null==e[0]?b:e[0],g=null==e[1]?b:e[1],D["$<<"](y);c.$skip_blank_lines()}if(!1!==r&&r!==b)((h=(e=D["$blocks?"](),!1!==e&&e!==b?D.$blocks()["$[]"](-1).$context()["$=="]("section"):e))===b||h.$$is_boolean&&1!=h)&&this.$warn("asciidoctor: ERROR: "+c.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==n&&n!==b)if(r=d,(h=n["$blocks?"]())===b||h.$$is_boolean&&1!=h)r.$blocks().$shift();else if((h=(e=(l=f.get("Compliance").$unwrap_standalone_preamble(),
!1!==l&&l!==b?r.$blocks().$size()["$=="](1):l),!1!==e&&e!==b?z["$!="]("book"):e))!==b&&(!h.$$is_boolean||1==h))for(r.$blocks().$shift();(e=z=n.$blocks().$shift())!==b&&(!e.$$is_boolean||1==e);)e=[r],l=z,l["$parent="].apply(l,e),e[e.length-1],r["$<<"](z);return[(h=D["$!="](d))===b||h.$$is_boolean&&1!=h?b:D,g.$dup()]});a.defs(h,"$next_block",function(c,d,g,h){var l,n,m,u,w,z,D,C,x,y,N,B=b,X=b,Y=b,Q=b,ea=b,U=b,F=b,fa=b,G=b,V=b,la=b,ja=b,ka=b,Z=b,W=w=b,na=b,ha=b,da=b,ga=da=b,ma=w=da=w=b,ia=da=G=G=b,ra=
b,oa=b,pa=w=G=G=ia=da=w=G=ia=b,qa=Z=W=w=da=w=w=b,ta=b,ua=b,va=Z=W=W=b,sa=B=b,wa=b;null==g&&(g=t([],{}));null==h&&(h=t([],{}));B=c.$skip_blank_lines();if((l=c["$has_more_lines?"]())===b||l.$$is_boolean&&1!=l)return b;(l=(n=X=h["$[]"]("text"),!1!==n&&n!==b?p(B,0):n))===b||l.$$is_boolean&&1!=l||(h.$delete("text"),X=!1);Y=h.$fetch("parse_metadata",!0);Q=d.$document();(l=ea=Q.$extensions())===b||l.$$is_boolean&&1!=l?U=F=!1:(U=ea["$blocks?"](),F=ea["$block_macros?"]());fa=f.get("ListItem")["$==="](d);la=
V=G=b;ja=Q.$sourcemap();for(ka=b;(n=(m=G["$!"](),!1!==m&&m!==b?c["$has_more_lines?"]():m))!==b&&(!n.$$is_boolean||1==n);)if((n=(m=!1!==Y&&Y!==b)?this.$parse_block_metadata_line(c,Q,g,h):Y)===b||n.$$is_boolean&&1!=n){!1!==ja&&ja!==b&&(ka=c.$cursor());Z=c.$read_line();w=!1;ha=na=W=b;(n=g["$[]"](1))===b||n.$$is_boolean&&1!=n||(n=a.to_ary(this.$parse_style_attribute(g,c)),V=null==n[0]?b:n[0],la=null==n[1]?b:n[1]);(n=da=this["$is_delimited_block?"](Z,!0))===b||n.$$is_boolean&&1!=n||((w=!0,W=na=da.$context(),
ha=da.$terminator(),(n=V["$!"]())===b||n.$$is_boolean&&1!=n)?(n=V["$!="](W.$to_s()))===b||n.$$is_boolean&&1!=n||((n=da.$masq()["$include?"](V))===b||n.$$is_boolean&&1!=n?(n=(m=da.$masq()["$include?"]("admonition"),!1!==m&&m!==b?f.get("ADMONITION_STYLES")["$include?"](V):m))===b||n.$$is_boolean&&1!=n?(n=(m=!1!==U&&U!==b)?ea["$registered_for_block?"](V,W):U)===b||n.$$is_boolean&&1!=n?(this.$warn("asciidoctor: WARNING: "+c.$prev_line_info()+": invalid style for "+W+" block: "+V),V=W.$to_s()):W=V.$to_sym():
W="admonition":W=V.$to_sym()):V=g["$[]="]("style",W.$to_s()));if(!1===w||w===b)for(;(m=!0)!==b&&(!m.$$is_boolean||1==m);){if((m=(u=(w=!1!==V&&V!==b)?f.get("Compliance").$strict_verbatim_paragraphs():V,!1!==u&&u!==b?f.get("VERBATIM_STYLES")["$include?"](V):u))!==b&&(!m.$$is_boolean||1==m)){W=V.$to_sym();c.$unshift_line(Z);break}if(!1===X||X===b)if(da=(m=f.get("Compliance").$markdown_syntax())===b||m.$$is_boolean&&1!=m?Z.$chr():Z.$lstrip().$chr(),(m=(u=(w=f.get("LAYOUT_BREAK_LINES")["$has_key?"](da),
!1!==w&&w!==b?e(Z.$length(),3):w),!1!==u&&u!==b?((w=f.get("Compliance").$markdown_syntax())===b||w.$$is_boolean&&1!=w?f.get("LayoutBreakLineRx"):f.get("LayoutBreakLinePlusRx"))["$=~"](Z):u))!==b&&(!m.$$is_boolean||1==m)){G=f.get("Block").$new(d,f.get("LAYOUT_BREAK_LINES")["$[]"](da),t(["content_model"],{content_model:"empty"}));break}else if((m=(u=Z["$end_with?"]("]"),!1!==u&&u!==b?ga=f.get("MediaBlockMacroRx").$match(Z):u))!==b&&(!m.$$is_boolean||1==m)){w=ga["$[]"](1).$to_sym();G=f.get("Block").$new(d,
w,t(["content_model"],{content_model:"empty"}));da=w["$=="]("image")?["alt","width","height"]:w["$=="]("video")?["poster","width","height"]:[];if((m=!1!==(u=V["$!"]())&&u!==b?u:la)===b||m.$$is_boolean&&1!=m){if(w["$=="]("image"))g["$[]="]("alt",V);g.$delete("style");V=b}G.$parse_attributes(ga["$[]"](3),da,t(["unescape_input","sub_input","sub_result","into"],{unescape_input:w["$=="]("image"),sub_input:!0,sub_result:!1,into:g}));w=G.$sub_attributes(ga["$[]"](2),t(["attribute_missing"],{attribute_missing:"drop-line"}));
if((m=w["$empty?"]())!==b&&(!m.$$is_boolean||1==m)){if(Q.$attributes().$fetch("attribute-missing",f.get("Compliance").$attribute_missing())["$=="]("skip"))return f.get("Block").$new(d,"paragraph",t(["content_model","source"],{content_model:"simple",source:[Z]}));g.$clear();return b}g["$[]="]("target",w);break}else if((m=(u=da["$=="]("t"))?ga=f.get("TocBlockMacroRx").$match(Z):da["$=="]("t"))!==b&&(!m.$$is_boolean||1==m)){G=f.get("Block").$new(d,"toc",t(["content_model"],{content_model:"empty"}));
G.$parse_attributes(ga["$[]"](1),[],t(["sub_result","into"],{sub_result:!1,into:g}));break}else if((m=(u=(w=!1!==F&&F!==b)?ga=f.get("GenericBlockMacroRx").$match(Z):F,!1!==u&&u!==b?ma=ea["$registered_for_block_macro?"](ga["$[]"](1)):u))!==b&&(!m.$$is_boolean||1==m)){w=ga["$[]"](2);G=ga["$[]"](3);if(ma.$config()["$[]"]("content_model")["$=="]("attributes"))((m=G["$empty?"]())===b||m.$$is_boolean&&1!=m)&&Q.$parse_attributes(G,!1!==(m=ma.$config()["$[]"]("pos_attrs"))&&m!==b?m:[],t(["sub_input","sub_result",
"into"],{sub_input:!0,sub_result:!1,into:g}));else g["$[]="]("text",G);(m=G=ma.$config()["$[]"]("default_attrs"))===b||m.$$is_boolean&&1!=m||(m=(u=G).$each,m.$$p=(z=function(a,c){var f,d,h;null==a&&(a=b);null==c&&(c=b);return f=a,d=g,!1!==(h=d["$[]"](f))&&h!==b?h:d["$[]="](f,c)},z.$$s=this,z),m).call(u);if((m=G=ma.$process_method()["$[]"](d,w,g.$dup()))===b||m.$$is_boolean&&1!=m)return g.$clear(),b;g.$replace(G.$attributes());break}if((m=ga=f.get("CalloutListRx").$match(Z))!==b&&(!m.$$is_boolean||
1==m)){G=f.get("List").$new(d,"colist");g["$[]="]("style","arabic");c.$unshift_line(Z);for(da=1;(w=!1!==(D=ga)&&D!==b?D:(C=c["$has_more_lines?"](),!1!==C&&C!==b?ga=f.get("CalloutListRx").$match(c.$peek_line()):C))!==b&&(!w.$$is_boolean||1==w);){(w=ga["$[]"](1).$to_i()["$!="](da))===b||w.$$is_boolean&&1!=w||this.$warn("asciidoctor: WARNING: "+c.$path()+": line "+k(c.$lineno(),2)+": callout list item index: expected "+da+" got "+ga["$[]"](1));ia=this.$next_list_item(c,G,ga);da=q(da,1);if(!1!==ia&&ia!==
b)if(G["$<<"](ia),ra=Q.$callouts().$callout_ids(G.$items().$size()),(w=ra["$empty?"]()["$!"]())===b||w.$$is_boolean&&1!=w)this.$warn("asciidoctor: WARNING: "+c.$path()+": line "+k(c.$lineno(),2)+": no callouts refer to list item "+G.$items().$size());else ia.$attributes()["$[]="]("coids",ra);ga=b}Q.$callouts().$next_list();break}else if((m=f.get("UnorderedListRx")["$=~"](Z))!==b&&(!m.$$is_boolean||1==m)){c.$unshift_line(Z);G=this.$next_outline_list(c,"ulist",d);break}else if((m=ga=f.get("OrderedListRx").$match(Z))!==
b&&(!m.$$is_boolean||1==m)){c.$unshift_line(Z);G=this.$next_outline_list(c,"olist",d);if((m=(w=g["$[]"]("style")["$!"](),!1!==w&&w!==b?G.$attributes()["$[]"]("style")["$!"]():w))!==b&&(!m.$$is_boolean||1==m))if(oa=G.$items()["$[]"](0).$marker(),(m=oa["$start_with?"]("."))===b||m.$$is_boolean&&1!=m)V=(m=(w=f.get("ORDERED_LIST_STYLES")).$detect,m.$$p=(x=function(a){null==a&&(a=b);return f.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](oa)},x.$$s=this,x),m).call(w),g["$[]="]("style",(!1!==(m=V)&&m!==
b?m:f.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());else g["$[]="]("style",(!1!==(m=f.get("ORDERED_LIST_STYLES")["$[]"](k(oa.$length(),1)))&&m!==b?m:f.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((m=ga=f.get("DefinitionListRx").$match(Z))!==b&&(!m.$$is_boolean||1==m)){c.$unshift_line(Z);G=this.$next_labeled_list(c,ga,d);break}else if((m=(D=!1!==(C=V["$=="]("float"))&&C!==b?C:V["$=="]("discrete"),!1!==D&&D!==b?this["$is_section_title?"](Z,(C=f.get("Compliance").$underline_style_section_titles())===
b||C.$$is_boolean&&1!=C?b:c.$peek_line(!0)):D))!==b&&(!m.$$is_boolean||1==m)){c.$unshift_line(Z);m=a.to_ary(this.$parse_section_title(c,Q));ia=null==m[0]?b:m[0];G=null==m[1]?b:m[1];w=null==m[2]?b:m[2];da=null==m[3]?b:m[3];if(!1!==G&&G!==b)g["$[]="]("reftext",G);(m=g["$has_key?"]("id"))===b||m.$$is_boolean&&1!=m||(!1!==(m=ia)&&m!==b?m:ia=g["$[]"]("id"));G=f.get("Block").$new(d,"floating_title",t(["content_model"],{content_model:"empty"}));(m=ia["$nil_or_empty?"]())===b||m.$$is_boolean&&1!=m?m=[ia]:
(ia=f.get("Section").$new(d),m=[w],D=ia,D["$title="].apply(D,m),m[m.length-1],m=[ia.$generate_id()]);D=G;D["$id="].apply(D,m);m[m.length-1];m=[da];D=G;D["$level="].apply(D,m);m[m.length-1];m=[w];D=G;D["$title="].apply(D,m);m[m.length-1];break}else if((m=(D=!1!==V&&V!==b)?V["$!="]("normal"):V)!==b&&(!m.$$is_boolean||1==m))if((m=f.get("PARAGRAPH_STYLES")["$include?"](V))===b||m.$$is_boolean&&1!=m)if((m=f.get("ADMONITION_STYLES")["$include?"](V))===b||m.$$is_boolean&&1!=m)if((m=(D=!1!==U&&U!==b)?ea["$registered_for_block?"](V,
"paragraph"):U)===b||m.$$is_boolean&&1!=m)this.$warn("asciidoctor: WARNING: "+c.$prev_line_info()+": invalid style for paragraph: "+V),V=b;else{W=V.$to_sym();na="paragraph";c.$unshift_line(Z);break}else{W="admonition";na="paragraph";c.$unshift_line(Z);break}else{W=V.$to_sym();na="paragraph";c.$unshift_line(Z);break}G=(m=B["$=="](0))?fa:B["$=="](0);if((m=(D=V["$!="]("normal"),!1!==D&&D!==b?f.get("LiteralParagraphRx")["$=~"](Z):D))===b||m.$$is_boolean&&1!=m){c.$unshift_line(Z);G=this.$read_paragraph_lines(c,
G,t(["skip_line_comments"],{skip_line_comments:!0}));if((m=G["$empty?"]())!==b&&(!m.$$is_boolean||1==m))return c.$advance(),b;this.$catalog_inline_anchors(G.$join(f.get("EOL")),Q);w=G["$[]"](0);if((m=(D=X["$!"](),!1!==D&&D!==b?pa=f.get("AdmonitionParagraphRx").$match(w):D))===b||m.$$is_boolean&&1!=m)if((m=(D=(C=X["$!"](),!1!==C&&C!==b?f.get("Compliance").$markdown_syntax():C),!1!==D&&D!==b?w["$start_with?"]("> "):D))===b||m.$$is_boolean&&1!=m)if((m=(C=X["$!"](),!1!==C&&C!==b?this["$blockquote?"](G,
w):C))===b||m.$$is_boolean&&1!=m){if(V["$=="]("normal"))this["$adjust_indentation!"](G);G=f.get("Block").$new(d,"paragraph",t(["content_model","source","attributes"],{content_model:"simple",source:G,attributes:g}))}else{G["$[]="](0,w["$[]"](r(1,-1,!1)));m=a.to_ary(G.$pop()["$[]"](r(3,-1,!1)).$split(", ",2));w=null==m[0]?b:m[0];for(da=null==m[1]?b:m[1];(C=G["$[]"](-1)["$empty?"]())!==b&&(!C.$$is_boolean||1==C);)G.$pop();G["$[]="](-1,G["$[]"](-1).$chop());g["$[]="]("style","quote");if(!1!==w&&w!==b)g["$[]="]("attribution",
w);if(!1!==da&&da!==b)g["$[]="]("citetitle",da);G=f.get("Block").$new(d,"quote",t(["content_model","source","attributes"],{content_model:"simple",source:G,attributes:g}))}else{(m=(D=G)["$map!"],m.$$p=(y=function(a){var c;null==a&&(a=b);return a["$=="](">")?a["$[]"](r(1,-1,!1)):(c=a["$start_with?"]("> "))===b||c.$$is_boolean&&1!=c?a:a["$[]"](r(2,-1,!1))},y.$$s=this,y),m).call(D);if((m=G["$[]"](-1)["$start_with?"]("-- "))===b||m.$$is_boolean&&1!=m)m=a.to_ary(b),w=null==m[0]?b:m[0],da=null==m[1]?b:m[1];
else for(m=a.to_ary(G.$pop()["$[]"](r(3,-1,!1)).$split(", ",2)),w=null==m[0]?b:m[0],da=null==m[1]?b:m[1];(C=G["$[]"](-1)["$empty?"]())!==b&&(!C.$$is_boolean||1==C);)G.$pop();g["$[]="]("style","quote");if(!1!==w&&w!==b)g["$[]="]("attribution",w);if(!1!==da&&da!==b)g["$[]="]("citetitle",da);G=this.$build_block("quote","compound",!1,d,f.get("Reader").$new(G),g)}else G["$[]="](0,pa.$post_match().$lstrip()),g["$[]="]("style",pa["$[]"](1)),g["$[]="]("name",w=pa["$[]"](1).$downcase()),m="caption",D=g,!1!==
(C=D["$[]"](m))&&C!==b?C:D["$[]="](m,Q.$attributes()["$[]"](""+w+"-caption")),G=f.get("Block").$new(d,"admonition",t(["content_model","source","attributes"],{content_model:"simple",source:G,attributes:g}))}else c.$unshift_line(Z),G=this.$read_paragraph_lines(c,G,t(["skip_line_comments"],{skip_line_comments:X})),this["$adjust_indentation!"](G),G=f.get("Block").$new(d,"literal",t(["content_model","source","attributes"],{content_model:"verbatim",source:G,attributes:g})),!1!==fa&&fa!==b&&G.$set_option("listparagraph");
break}if((n=(m=G["$!"](),!1!==m&&m!==b?W:m))!==b&&(!n.$$is_boolean||1==n))if((n=!1!==(m=W["$=="]("abstract"))&&m!==b?m:W["$=="]("partintro"))===b||n.$$is_boolean&&1!=n||(W="open"),w=W,"admonition"["$==="](w))g["$[]="]("name",w=V.$downcase()),n="caption",m=g,!1!==(C=m["$[]"](n))&&C!==b?C:m["$[]="](n,Q.$attributes()["$[]"](""+w+"-caption")),G=this.$build_block(W,"compound",ha,d,c,g);else{if("comment"["$==="](w))return this.$build_block(W,"skip",ha,d,c,g),b;if("example"["$==="](w))G=this.$build_block(W,
"compound",ha,d,c,g);else if("listing"["$==="](w)||"fenced_code"["$==="](w)||"source"["$==="](w)){if(W["$=="]("fenced_code")){V=g["$[]="]("style","source");n=a.to_ary(Z["$[]"](r(3,-1,!1)).$tr(" ","").$split(",",2));W=null==n[0]?b:n[0];Z=null==n[1]?b:n[1];if((n=W["$nil_or_empty?"]()["$!"]())!==b&&(!n.$$is_boolean||1==n)){if(g["$[]="]("language",W),(n=Z["$nil_or_empty?"]())===b||n.$$is_boolean&&1!=n)g["$[]="]("linenums","")}else if((n=qa=Q.$attributes()["$[]"]("source-language"))!==b&&(!n.$$is_boolean||
1==n))g["$[]="]("language",qa);if((n=(m=g["$key?"]("indent")["$!"](),!1!==m&&m!==b?Q.$attributes()["$key?"]("source-indent"):m))!==b&&(!n.$$is_boolean||1==n))g["$[]="]("indent",Q.$attributes()["$[]"]("source-indent"));ha=ha["$[]"](r(0,2,!1))}else if(W["$=="]("source")){f.get("AttributeList").$rekey(g,[b,"language","linenums"]);if(((n=g["$key?"]("language"))===b||n.$$is_boolean&&1!=n)&&(n=qa=Q.$attributes()["$[]"]("source-language"))!==b&&(!n.$$is_boolean||1==n))g["$[]="]("language",qa);if((n=(m=g["$key?"]("indent")["$!"](),
!1!==m&&m!==b?Q.$attributes()["$key?"]("source-indent"):m))!==b&&(!n.$$is_boolean||1==n))g["$[]="]("indent",Q.$attributes()["$[]"]("source-indent"))}G=this.$build_block("listing","verbatim",ha,d,c,g)}else if("literal"["$==="](w))G=this.$build_block(W,"verbatim",ha,d,c,g);else if("pass"["$==="](w))G=this.$build_block(W,"raw",ha,d,c,g);else if("stem"["$==="](w)||"latexmath"["$==="](w)||"asciimath"["$==="](w)){if(W["$=="]("stem"))g["$[]="]("style",(n=ta=g["$[]"](2))===b||n.$$is_boolean&&1!=n?(n=(ua=
Q.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===b||n.$$is_boolean&&1!=n?ua:"asciimath":(n=ta["$include?"]("tex"))===b||n.$$is_boolean&&1!=n?"asciimath":"latexmath");G=this.$build_block("stem","raw",ha,d,c,g)}else if("open"["$==="](w)||"sidebar"["$==="](w))G=this.$build_block(W,"compound",ha,d,c,g);else if("table"["$==="](w)){W=c.$cursor();W=f.get("Reader").$new(c.$read_lines_until(t(["terminator","skip_line_comments"],{terminator:ha,skip_line_comments:!0})),W);w=ha.$chr();if(","["$==="](w))g["$[]="]("format",
"csv");else if(":"["$==="](w))g["$[]="]("format","dsv");G=this.$next_table(W,d,g)}else if("quote"["$==="](w)||"verse"["$==="](w))f.get("AttributeList").$rekey(g,[b,"attribution","citetitle"]),G=this.$build_block(W,W["$=="]("verse")?"verbatim":"compound",ha,d,c,g);else if((n=(m=!1!==U&&U!==b)?ma=ea["$registered_for_block?"](W,na):U)===b||n.$$is_boolean&&1!=n)this.$raise("Unsupported block type "+W+" at "+c.$line_info());else if((n=(Z=ma.$config()["$[]"]("content_model"))["$!="]("skip"))===b||n.$$is_boolean&&
1!=n||((n=(va=!1!==(m=ma.$config()["$[]"]("pos_attrs"))&&m!==b?m:[])["$empty?"]()["$!"]())===b||n.$$is_boolean&&1!=n||f.get("AttributeList").$rekey(g,[b].$concat(va)),(n=G=ma.$config()["$[]"]("default_attrs"))===b||n.$$is_boolean&&1!=n||(n=(m=G).$each,n.$$p=(N=function(a,c){var f,d,h;null==a&&(a=b);null==c&&(c=b);return f=a,d=g,!1!==(h=d["$[]"](f))&&h!==b?h:d["$[]="](f,c)},N.$$s=this,N),n).call(m)),G=this.$build_block(W,Z,ha,d,c,g,t(["extension"],{extension:ma})),(n=(C=!1!==G&&G!==b)?Z["$!="]("skip"):
G)===b||n.$$is_boolean&&1!=n)return g.$clear(),b}}else c.$advance();if(!1!==G&&G!==b){!1!==ka&&ka!==b&&(l=[ka],n=G,n["$source_location="].apply(n,l),l[l.length-1]);if((l=G["$title?"]())===b||l.$$is_boolean&&1!=l)l=[g["$[]"]("title")],n=G,n["$title="].apply(n,l),l[l.length-1];if(G.$context()["$=="]("image")){if(B=g["$[]"]("target"),G.$document().$register("images",B),l="alt",n=g,!1!==(C=n["$[]"](l))&&C!==b?C:n["$[]="](l,f.get("Helpers").$basename(B,!0).$tr("_-"," ")),g["$[]="]("alt",G.$sub_specialchars(g["$[]"]("alt"))),
G.$assign_caption(g.$delete("caption"),"figure"),!((l=sa=g["$[]"]("scaledwidth"))===b||l.$$is_boolean&&1!=l||(l=r(48,57,!1)["$include?"]((!1!==(n=sa["$[]"](-1))&&n!==b?n:0).$ord()))===b||l.$$is_boolean&&1!=l))g["$[]="]("scaledwidth",""+sa+"%")}else l=G,!1!==(n=l.$caption())&&n!==b?n:l["$caption="](g.$delete("caption"));l=[g["$[]"]("style")];n=G;n["$style="].apply(n,l);l[l.length-1];(l=wa=(n=G,!1!==(C=n.$id())&&C!==b?C:n["$id="](g["$[]"]("id"))))===b||l.$$is_boolean&&1!=l||Q.$register("ids",[wa,!1!==
(l=g["$[]"]("reftext"))&&l!==b?l:(n=G["$title?"]())===b||n.$$is_boolean&&1!=n?b:G.$title()]);((l=g["$empty?"]())===b||l.$$is_boolean&&1!=l)&&G.$attributes().$update(g);G.$lock_in_subs();(l=G["$sub?"]("callouts"))===b||l.$$is_boolean&&1!=l||!((l=this.$catalog_callouts(G.$source(),Q))===b||l.$$is_boolean&&1!=l)||G.$remove_sub("callouts")}return G});a.defs(h,"$blockquote?",function(a,c){var f,d,g;null==c&&(c=b);return f=(d=p(a.$size(),1)?(!1!==(g=c)&&g!==b?g:a["$[]"](0))["$start_with?"]('"'):p(a.$size(),
1),!1!==d&&d!==b?a["$[]"](-1)["$start_with?"]("-- "):d),!1!==f&&f!==b?a["$[]"](-2)["$end_with?"]('"'):f});a.defs(h,"$read_paragraph_lines",function(a,c,d){var g,h=b;null==d&&(d=t([],{}));d["$[]="]("break_on_blank_lines",!0);d["$[]="]("break_on_list_continuation",!0);d["$[]="]("preserve_last_line",!0);h=!1!==c&&c!==b?(g=f.get("Compliance").$block_terminates_paragraph())===b||g.$$is_boolean&&1!=g?f.get("StartOfListProc"):f.get("StartOfBlockOrListProc"):(g=f.get("Compliance").$block_terminates_paragraph())===
b||g.$$is_boolean&&1!=g?f.get("NoOp"):f.get("StartOfBlockProc");return(g=a.$read_lines_until,g.$$p=h.$to_proc(),g).call(a,d)});a.defs(h,"$is_delimited_block?",function(g,h){var e,l,n=b,q=b,t=b,u=b,t=n=l=b;null==h&&(h=!1);if((e=(l=p(n=g.$length(),1))?f.get("DELIMITED_BLOCK_LEADERS")["$include?"](g["$[]"](r(0,1,!1))):p(n=g.$length(),1))===b||e.$$is_boolean&&1!=e)return b;if(n["$=="](2))q=g,t=2;else{d(n,4)?(q=g,t=n):(q=g["$[]"](r(0,3,!1)),t=4);u=!1;if((e=f.get("Compliance").$markdown_syntax())!==b&&
(!e.$$is_boolean||1==e)&&(l=t["$=="](4)?q.$chop():q,l["$=="]("```"))){if((e=t["$=="](4)?q["$end_with?"]("`"):t["$=="](4))!==b&&(!e.$$is_boolean||1==e))return b;q=l;t=3;u=!0}if((e=(l=t["$=="](3))?u["$!"]():t["$=="](3))!==b&&(!e.$$is_boolean||1==e))return b}return(e=f.get("DELIMITED_BLOCKS")["$has_key?"](q))===b||e.$$is_boolean&&1!=e?b:(e=!1!==(l=c(t,4))&&l!==b?l:t["$=="](n))===b||e.$$is_boolean&&1!=e?(""+q+m(q["$[]"](r(-1,-1,!1)),k(n,t)))["$=="](g)?!1!==h&&h!==b?(e=a.to_a(f.get("DELIMITED_BLOCKS")["$[]"](q)),
n=null==e[0]?b:e[0],t=null==e[1]?b:e[1],f.get("BlockMatchData").$new(n,t,q,g)):!0:b:!1!==h&&h!==b?(e=a.to_a(f.get("DELIMITED_BLOCKS")["$[]"](q)),n=null==e[0]?b:e[0],t=null==e[1]?b:e[1],f.get("BlockMatchData").$new(n,t,q,q)):!0});a.defs(h,"$build_block",function(a,c,d,g,h,e,l){var k,m,n=b,q=b,r=n=q=b,r=r=r=r=b;null==l&&(l=t([],{}));(k=!1!==(m=c["$=="]("skip"))&&m!==b?m:c["$=="]("raw"))===b||k.$$is_boolean&&1!=k?(n=!1,q=c):(n=c["$=="]("skip"),q="simple");(k=d["$nil?"]())===b||k.$$is_boolean&&1!=k?(k=
q["$!="]("compound"))===b||k.$$is_boolean&&1!=k?d["$=="](!1)?(q=b,n=h):(q=b,r=h.$cursor(),n=f.get("Reader").$new(h.$read_lines_until(t(["terminator","skip_processing"],{terminator:d,skip_processing:n})),r)):(q=h.$read_lines_until(t(["terminator","skip_processing"],{terminator:d,skip_processing:n})),n=b):(q["$=="]("verbatim")?q=h.$read_lines_until(t(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(c["$=="]("compound")&&(c="simple"),q=
this.$read_paragraph_lines(h,!1,t(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),n=b);if(c["$=="]("skip"))return e.$clear(),q;if(c["$=="]("verbatim"))if((k=r=e["$[]"]("indent"))!==b&&(!k.$$is_boolean||1==k))this["$adjust_indentation!"](q,r,!1!==(k=e["$[]"]("tabsize"))&&k!==b?k:g.$document().$attributes()["$[]"]("tabsize"));else if(p(r=(!1!==(k=e["$[]"]("tabsize"))&&k!==b?k:g.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))this["$adjust_indentation!"](q,
b,r);if((k=r=l["$[]"]("extension"))===b||k.$$is_boolean&&1!=k)r=f.get("Block").$new(g,a,t(["content_model","source","attributes"],{content_model:c,source:q,attributes:e}));else{e.$delete("style");if((k=r=r.$process_method()["$[]"](g,!1!==(m=n)&&m!==b?m:f.get("Reader").$new(q),e.$dup()))===b||k.$$is_boolean&&1!=k)return b;e.$replace(r.$attributes());(k=(m=r.$content_model()["$=="]("compound"))?(q=r.$lines())["$nil_or_empty?"]()["$!"]():r.$content_model()["$=="]("compound"))===b||k.$$is_boolean&&1!=
k||(c="compound",n=f.get("Reader").$new(q))}(k=(m=e["$has_key?"]("title"),!1!==m&&m!==b?r.$document()["$attr?"](""+r.$context()+"-caption"):m))===b||k.$$is_boolean&&1!=k||(k=[e.$delete("title")],m=r,m["$title="].apply(m,k),k[k.length-1],r.$assign_caption(e.$delete("caption")));c["$=="]("compound")&&this.$parse_blocks(n,r);return r});a.defs(h,"$parse_blocks",function(a,c){for(var d,g=b;(d=a["$has_more_lines?"]())!==b&&(!d.$$is_boolean||1==d);)if(g=f.get("Parser").$next_block(a,c),!1!==g&&g!==b)c["$<<"](g)});
a.defs(h,"$next_outline_list",function(a,d,g){var h,e,l,k=b,m=b,n=h=b,r=b,t=b,k=f.get("List").$new(g,d);h=g.$context()["$=="](d)?[q(g.$level(),1)]:[1];e=k;e["$level="].apply(e,h);for(h[h.length-1];(e=(l=a["$has_more_lines?"](),!1!==l&&l!==b?m=f.get("ListRxMap")["$[]"](d).$match(a.$peek_line()):l))!==b&&(!e.$$is_boolean||1==e);){h=this.$resolve_list_marker(d,m["$[]"](1));if((e=(l=k["$items?"](),!1!==l&&l!==b?h["$!="](k.$items()["$[]"](0).$marker()):l))===b||e.$$is_boolean&&1!=e)n=k.$level();else for(n=
q(k.$level(),1),r=g;r.$context()["$=="](d);){if(h["$=="](r.$items()["$[]"](0).$marker())){n=r.$level();break}r=r.$parent()}if((e=!1!==(l=k["$items?"]()["$!"]())&&l!==b?l:n["$=="](k.$level()))!==b&&(!e.$$is_boolean||1==e))t=this.$next_list_item(a,k,m);else if(c(n,k.$level()))break;else if(p(n,k.$level()))k.$items()["$[]"](-1)["$<<"](this.$next_block(a,k));if(!1!==t&&t!==b)k["$<<"](t);t=b;a.$skip_blank_lines()}return k});a.defs(h,"$catalog_callouts",function(a,c){var d,g,h=b,h=!1;(d=a["$include?"]("<"))===
b||d.$$is_boolean&&1!=d||(d=a.$scan,d.$$p=(g=function(){var a,f=b;null==l["~"]&&(l["~"]=b);f=l["~"];(a=f["$[]"](0).$chr()["$!="]("\\"))===b||a.$$is_boolean&&1!=a||c.$callouts().$register(f["$[]"](2));return h=!0},g.$$s=this,g),d).call(a,f.get("CalloutQuickScanRx"));return h});a.defs(h,"$catalog_inline_anchors",function(a,c){var d,g;(d=a["$include?"]("["))===b||d.$$is_boolean&&1!=d||(d=a.$scan,d.$$p=(g=function(){var a,f=b,d=b,f=b;null==l["~"]&&(l["~"]=b);f=l["~"];if((a=f["$[]"](0)["$start_with?"]("\\"))!==
b&&(!a.$$is_boolean||1==a))return b;d=!1!==(a=f["$[]"](1))&&a!==b?a:f["$[]"](3);f=!1!==(a=f["$[]"](2))&&a!==b?a:f["$[]"](4);return c.$register("ids",[d,f])},g.$$s=this,g),d).call(a,f.get("InlineAnchorRx"));return b});a.defs(h,"$next_labeled_list",function(c,d,g){for(var h,e,l,k=b,m=b,n=b,p=b,q=b,k=f.get("List").$new(g,"dlist"),m=b,n=f.get("DefinitionListSiblingRx")["$[]"](d["$[]"](2));(h=!1!==(e=d)&&e!==b?e:(l=c["$has_more_lines?"](),!1!==l&&l!==b?d=n.$match(c.$peek_line()):l))!==b&&(!h.$$is_boolean||
1==h);){h=a.to_ary(this.$next_list_item(c,k,d,n));p=null==h[0]?b:h[0];q=null==h[1]?b:h[1];if((h=(e=!1!==m&&m!==b)?m["$[]"](-1)["$!"]():m)===b||h.$$is_boolean&&1!=h)k.$items()["$<<"](m=[[p],q]);else m.$pop(),m["$[]"](0)["$<<"](p),m["$<<"](q);d=b}return k});a.defs(h,"$next_list_item",function(a,c,d,g){var h,e,l=b,k=b,m=b,n=b,p=m=b,q=p=p=n=b,u=b,w=u=q=b,z=b;null==g&&(g=b);if((l=c.$context())["$=="]("dlist"))k=f.get("ListItem").$new(c,d["$[]"](1)),m=f.get("ListItem").$new(c,d["$[]"](3)),n=d["$[]"](3)["$nil_or_empty?"]()["$!"]();
else{m=d["$[]"](2);p=!1;(h=(e=l["$=="]("ulist"))?m["$start_with?"]("["):l["$=="]("ulist"))===b||h.$$is_boolean&&1!=h||((h=m["$start_with?"]("[ ] "))===b||h.$$is_boolean&&1!=h?(h=!1!==(e=m["$start_with?"]("[x] "))&&e!==b?e:m["$start_with?"]("[*] "))===b||h.$$is_boolean&&1!=h||(n=p=!0,m=m["$[]"](r(3,-1,!1)).$lstrip()):(p=!0,n=!1,m=m["$[]"](r(3,-1,!1)).$lstrip()));m=f.get("ListItem").$new(c,m);if(!1!==p&&p!==b&&(c.$attributes()["$[]="]("checklist-option",""),m.$attributes()["$[]="]("checkbox",""),!1!==
n&&n!==b))m.$attributes()["$[]="]("checked","");!1!==(h=g)&&h!==b?h:g=this.$resolve_list_marker(l,d["$[]"](1),c.$items().$size(),!0,a);h=[g];e=m;e["$marker="].apply(e,h);h[h.length-1];n=!0}a.$advance();p=a.$cursor();p=f.get("Reader").$new(this.$read_lines_for_list_item(a,l,g,n),p);if((h=p["$has_more_lines?"]())!==b&&(!h.$$is_boolean||1==h)){q=p.$skip_line_comments();u=p.$peek_line();((h=q["$empty?"]())===b||h.$$is_boolean&&1!=h)&&p.$unshift_lines(q);(h=u["$nil?"]()["$!"]())===b||h.$$is_boolean&&1!=
h?u=q=!1:(q=u["$empty?"](),(h=(e=q["$!"](),!1!==e&&e!==b?l["$!="]("dlist"):e))===b||h.$$is_boolean&&1!=h||(n=!1),u=(h=q["$!"](),!1!==h&&h!==b?u["$empty?"]()["$!"]():h));for(w=t(["text"],{text:n["$!"]()});(e=p["$has_more_lines?"]())!==b&&(!e.$$is_boolean||1==e);)if((e=z=this.$next_block(p,m,t([],{}),w))!==b&&(!e.$$is_boolean||1==e))m["$<<"](z);m.$fold_first(q,u)}if(l["$=="]("dlist")){if((h=!1!==(e=m["$text?"]())&&e!==b?e:m["$blocks?"]())===b||h.$$is_boolean&&1!=h)m=b;return[k,m]}return m});a.defs(h,
"$read_lines_for_list_item",function(a,c,d,g){var h,e,k,m,n,p,q,r,u,w,z,D,C,x=b,y=b,N=b,B=b,F=b,fa=b,fa=m=b;null==l["~"]&&(l["~"]=b);null==d&&(d=b);null==g&&(g=!0);x=[];y="inactive";N=!1;for(B=b;(e=a["$has_more_lines?"]())!==b&&(!e.$$is_boolean||1==e);){F=a.$read_line();if((e=this["$is_sibling_list_item?"](F,c,d))!==b&&(!e.$$is_boolean||1==e))break;fa=(e=x["$empty?"]())===b||e.$$is_boolean&&1!=e?x["$[]"](-1):b;if(fa["$=="](f.get("LIST_CONTINUATION"))){if(y["$=="]("inactive")&&(y="active",g=!0,!1===
N||N===b))x["$[]="](-1,"");if(F["$=="](f.get("LIST_CONTINUATION"))){(e=y["$!="]("frozen"))===b||e.$$is_boolean&&1!=e||(y="frozen",x["$<<"](F));F=b;continue}}if((e=m=this["$is_delimited_block?"](F,!0))===b||e.$$is_boolean&&1!=e)if((e=(k=(m=c["$=="]("dlist"))?y["$!="]("active"):c["$=="]("dlist"),!1!==k&&k!==b?f.get("BlockAttributeLineRx")["$=~"](F):k))===b||e.$$is_boolean&&1!=e)if((e=(k=y["$=="]("active"))?F["$empty?"]()["$!"]():y["$=="]("active"))===b||e.$$is_boolean&&1!=e)if((e=(m=fa["$nil?"]()["$!"](),
!1!==m&&m!==b?fa["$empty?"]():m))===b||e.$$is_boolean&&1!=e)(e=F["$empty?"]()["$!"]())===b||e.$$is_boolean&&1!=e||(g=!0),(e=fa=(z=(D=!1!==N&&N!==b?["dlist"]:f.get("NESTABLE_LIST_CONTEXTS")).$detect,z.$$p=(C=function(a){null==a&&(a=b);return f.get("ListRxMap")["$[]"](a)["$=~"](F)},C.$$s=this,C),z).call(D))===b||e.$$is_boolean&&1!=e||(N=!0,(e=(z=fa["$=="]("dlist"))?l["~"]["$[]"](3)["$nil_or_empty?"]():fa["$=="]("dlist"))===b||e.$$is_boolean&&1!=e||(g=!1)),x["$<<"](F);else{if(!((e=F["$empty?"]())===
b||e.$$is_boolean&&1!=e||(a.$skip_blank_lines(),F=a.$read_line(),(e=!1!==(m=F["$nil?"]())&&m!==b?m:this["$is_sibling_list_item?"](F,c,d))===b||e.$$is_boolean&&1!=e)))break;if(F["$=="](f.get("LIST_CONTINUATION")))B=x.$size(),x["$<<"](F);else if(!1!==g&&g!==b)if((e=this["$is_sibling_list_item?"](F,c,d))===b||e.$$is_boolean&&1!=e)if((e=fa=(m=(r=f.get("NESTABLE_LIST_CONTEXTS")).$detect,m.$$p=(u=function(a){null==a&&(a=b);return f.get("ListRxMap")["$[]"](a)["$=~"](F)},u.$$s=this,u),m).call(r))===b||e.$$is_boolean&&
1!=e)if((e=f.get("LiteralParagraphRx")["$=~"](F))===b||e.$$is_boolean&&1!=e)break;else a.$unshift_line(F),x.$concat((e=(m=a).$read_lines_until,e.$$p=(w=function(a){var f=w.$$s||this;null==a&&(a=b);return c["$=="]("dlist")?f["$is_sibling_list_item?"](a,c,d):c["$=="]("dlist")},w.$$s=this,w),e).call(m,t(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else x["$<<"](F),N=!0,(e=(m=fa["$=="]("dlist"))?
l["~"]["$[]"](3)["$nil_or_empty?"]():fa["$=="]("dlist"))===b||e.$$is_boolean&&1!=e||(g=!1);else break;else!1!==N&&N!==b||x.$pop(),x["$<<"](F),g=!0}else if((e=f.get("LiteralParagraphRx")["$=~"](F))===b||e.$$is_boolean&&1!=e)if((e=!1!==(m=!1!==(p=f.get("BlockTitleRx")["$=~"](F))&&p!==b?p:f.get("BlockAttributeLineRx")["$=~"](F))&&m!==b?m:f.get("AttributeEntryRx")["$=~"](F))===b||e.$$is_boolean&&1!=e)(e=fa=(m=(p=!1!==N&&N!==b?["dlist"]:f.get("NESTABLE_LIST_CONTEXTS")).$detect,m.$$p=(q=function(a){null==
a&&(a=b);return f.get("ListRxMap")["$[]"](a)["$=~"](F)},q.$$s=this,q),m).call(p))===b||e.$$is_boolean&&1!=e||(N=!0,(e=(m=fa["$=="]("dlist"))?l["~"]["$[]"](3)["$nil_or_empty?"]():fa["$=="]("dlist"))===b||e.$$is_boolean&&1!=e||(g=!1)),x["$<<"](F),y="inactive";else x["$<<"](F);else a.$unshift_line(F),x.$concat((e=(k=a).$read_lines_until,e.$$p=(n=function(a){var f=n.$$s||this;null==a&&(a=b);return c["$=="]("dlist")?f["$is_sibling_list_item?"](a,c,d):c["$=="]("dlist")},n.$$s=this,n),e).call(k,t(["preserve_last_line",
"break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),y="inactive";else break;else if(y["$=="]("active"))x["$<<"](F),x.$concat(a.$read_lines_until(t(["terminator","read_last_line"],{terminator:m.$terminator(),read_last_line:!0}))),y="inactive";else break;F=b}!1!==F&&F!==b&&a.$unshift_line(F);for(!1!==B&&B!==b&&x.$delete_at(B);(e=(z=x["$empty?"]()["$!"](),!1!==z&&z!==b?x["$[]"](-1)["$empty?"]():z))!==b&&(!e.$$is_boolean||
1==e);)x.$pop();(h=(e=x["$empty?"]()["$!"](),!1!==e&&e!==b?x["$[]"](-1)["$=="](f.get("LIST_CONTINUATION")):e))===b||h.$$is_boolean&&1!=h||x.$pop();return x});a.defs(h,"$initialize_section",function(c,d,g){var e,h=b,l=b,k=b,m=b,n=b,p=b,q=k=m=b;null==g&&(g=t([],{}));h=d.$document();(e=h.$sourcemap())===b||e.$$is_boolean&&1!=e||(l=c.$cursor());e=a.to_ary(this.$parse_section_title(c,h));k=null==e[0]?b:e[0];m=null==e[1]?b:e[1];n=null==e[2]?b:e[2];p=null==e[3]?b:e[3];if(!1!==m&&m!==b)g["$[]="]("reftext",
m);m=f.get("Section").$new(d,p,h.$attributes()["$has_key?"]("sectnums"));!1!==l&&l!==b&&(e=[l],d=m,d["$source_location="].apply(d,e),e[e.length-1]);e=[k];d=m;d["$id="].apply(d,e);e[e.length-1];e=[n];d=m;d["$title="].apply(d,e);e[e.length-1];(e=g["$[]"](1))===b||e.$$is_boolean&&1!=e?((e=n.$downcase()["$=="]("synopsis")?h.$doctype()["$=="]("manpage"):n.$downcase()["$=="]("synopsis"))===b||e.$$is_boolean&&1!=e?e=["sect"+m.$level()]:(e=[!0],d=m,d["$special="].apply(d,e),e[e.length-1],e=["synopsis"]),
d=m,d["$sectname="].apply(d,e),e[e.length-1]):(e=a.to_ary(this.$parse_style_attribute(g,c)),k=null==e[0]?b:e[0],!1!==k&&k!==b?(e=[k],d=m,d["$sectname="].apply(d,e),e[e.length-1],e=[!0],d=m,d["$special="].apply(d,e),e[e.length-1],(e=(d=m.$sectname()["$=="]("abstract"))?h.$doctype()["$=="]("book"):m.$sectname()["$=="]("abstract"))===b||e.$$is_boolean&&1!=e||(e=["sect1"],d=m,d["$sectname="].apply(d,e),e[e.length-1],e=[!1],d=m,d["$special="].apply(d,e),e[e.length-1],e=[1],d=m,d["$level="].apply(d,e),
e[e.length-1])):(e=["sect"+m.$level()],d=m,d["$sectname="].apply(d,e),e[e.length-1]));(e=(d=m.$id()["$!"](),!1!==d&&d!==b?q=g["$[]"]("id"):d))===b||e.$$is_boolean&&1!=e?(e=m,!1!==(d=e.$id())&&d!==b?d:e["$id="](m.$generate_id())):(e=[q],d=m,d["$id="].apply(d,e),e[e.length-1]);(e=m.$id())===b||e.$$is_boolean&&1!=e||m.$document().$register("ids",[m.$id(),!1!==(e=g["$[]"]("reftext"))&&e!==b?e:m.$title()]);m.$update_attributes(g);c.$skip_blank_lines();return m});a.defs(h,"$section_level",function(a){return f.get("SECTION_LEVELS")["$[]"](a.$chr())});
a.defs(h,"$single_line_section_level",function(a){return k(a.$length(),1)});a.defs(h,"$is_next_line_section?",function(c,d){var e,g,h,l,k=b,m=b;return(e=(g=(h=(k=d["$[]"](1))["$nil?"]()["$!"](),!1!==h&&h!==b?!1!==(l=(m=k["$[]"](0).$ord())["$=="](100))&&l!==b?l:m["$=="](102):h),!1!==g&&g!==b?k["$=~"](f.get("FloatingTitleStyleRx")):g))!==b&&(!e.$$is_boolean||1==e)||(e=c["$has_more_lines?"]())===b||e.$$is_boolean&&1!=e?!1:(e=f.get("Compliance").$underline_style_section_titles())===b||e.$$is_boolean&&
1!=e?this["$is_section_title?"](c.$peek_line()):(e=this)["$is_section_title?"].apply(e,a.to_a(c.$peek_lines(2)))});a.defs(h,"$is_next_line_document_title?",function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)});a.defs(h,"$is_section_title?",function(a,c){var d,f=b;null==c&&(c=b);return(d=f=this["$is_single_line_section_title?"](a))===b||d.$$is_boolean&&1!=d?(d=!1!==c&&c!==b?f=this["$is_two_line_section_title?"](a,c):c)===b||d.$$is_boolean&&1!=d?!1:f:f});a.defs(h,"$is_single_line_section_title?",
function(a){var c,d,e,g,h=b,l=b,h=!1!==a&&a!==b?a.$chr():b;return(c=(d=!1!==(e=h["$=="]("="))&&e!==b?e:(g=f.get("Compliance").$markdown_syntax(),!1!==g&&g!==b?h["$=="]("#"):g),!1!==d&&d!==b?l=f.get("AtxSectionRx").$match(a):d))===b||c.$$is_boolean&&1!=c?!1:this.$single_line_section_level(l["$[]"](1))});a.defs(h,"$is_two_line_section_title?",function(a,c){var e,g,h,l,m;return(e=(g=(h=(l=(m=!1!==a&&a!==b?c:a,!1!==m&&m!==b?f.get("SECTION_LEVELS")["$has_key?"](c.$chr()):m),!1!==l&&l!==b?c["$=~"](f.get("SetextSectionLineRx")):
l),!1!==h&&h!==b?a["$=~"](f.get("SetextSectionTitleRx")):h),!1!==g&&g!==b?d(k(this.$line_length(a),this.$line_length(c)).$abs(),1):g))===b||e.$$is_boolean&&1!=e?!1:this.$section_level(c)});a.defs(h,"$parse_section_title",function(a,c){var g,h,l,m,n,p=b,r=b,t=b,u=b,w=b,z=b,D=b,C=b,x=b,y=b,N=b,p=a.$read_line(),t=r=b,u=-1,w=b,z=!0,D=p.$chr();(g=(h=!1!==(l=D["$=="]("="))&&l!==b?l:(m=f.get("Compliance").$markdown_syntax(),!1!==m&&m!==b?D["$=="]("#"):m),!1!==h&&h!==b?C=f.get("AtxSectionRx").$match(p):h))===
b||g.$$is_boolean&&1!=g?(g=f.get("Compliance").$underline_style_section_titles())===b||g.$$is_boolean&&1!=g||(g=(h=(l=(m=(n=y=a.$peek_line(!0),!1!==n&&n!==b?f.get("SECTION_LEVELS")["$has_key?"](y.$chr()):n),!1!==m&&m!==b?y["$=~"](f.get("SetextSectionLineRx")):m),!1!==l&&l!==b?N=f.get("SetextSectionTitleRx").$match(p):l),!1!==h&&h!==b?d(k(this.$line_length(p),this.$line_length(y)).$abs(),1):h))===b||g.$$is_boolean&&1!=g||(t=N["$[]"](1),(g=(h=t["$end_with?"]("]]"),!1!==h&&h!==b?x=f.get("InlineSectionAnchorRx").$match(t):
h))===b||g.$$is_boolean&&1!=g||(g=x["$[]"](2)["$nil?"]())===b||g.$$is_boolean&&1!=g||(t=x["$[]"](1),r=x["$[]"](3),w=x["$[]"](4)),u=this.$section_level(y),z=!1,a.$advance()):(u=this.$single_line_section_level(C["$[]"](1)),t=C["$[]"](2),(g=(h=t["$end_with?"]("]]"),!1!==h&&h!==b?x=f.get("InlineSectionAnchorRx").$match(t):h))===b||g.$$is_boolean&&1!=g||(g=x["$[]"](2)["$nil?"]())===b||g.$$is_boolean&&1!=g||(t=x["$[]"](1),r=x["$[]"](3),w=x["$[]"](4)));e(u,0)&&(u=q(u,c.$attr("leveloffset",0).$to_i()));return[r,
w,t,u,z]});a.defs(h,"$line_length",function(a){var c;return(c=f.get("FORCE_UNICODE_LINE_LENGTH"))===b||c.$$is_boolean&&1!=c?a.$length():a.$scan(f.get("UnicodeCharScanRx")).$length()});a.defs(h,"$parse_header_metadata",function(c,d){var g,e,h,l,k,m,n=b,u=b,w=b,z=b,D=z=b,C=b,x=D=b,w=u=b;null==d&&(d=b);this.$process_attribute_entries(c,d);n=t([],{});w=u=b;if((g=(e=c["$has_more_lines?"](),!1!==e&&e!==b?c["$next_line_empty?"]()["$!"]():e))!==b&&(!g.$$is_boolean||1==g)){z=this.$process_authors(c.$read_line());
if((g=z["$empty?"]())===b||g.$$is_boolean&&1!=g)!1!==d&&d!==b&&((g=(e=z).$each,g.$$p=(h=function(c,f){var g;null==c&&(c=b);null==f&&(f=b);return(g=d.$attributes()["$has_key?"](c))===b||g.$$is_boolean&&1!=g?d.$attributes()["$[]="](c,(g=f["$is_a?"](a.get("String")))===b||g.$$is_boolean&&1!=g?f:d.$apply_header_subs(f)):b},h.$$s=this,h),g).call(e),u=d.$attributes()["$[]"]("author"),w=d.$attributes()["$[]"]("authors")),n=z;this.$process_attribute_entries(c,d);z=t([],{});if((g=(l=c["$has_more_lines?"](),
!1!==l&&l!==b?c["$next_line_empty?"]()["$!"]():l))!==b&&(!g.$$is_boolean||1==g))if(D=c.$read_line(),(g=C=f.get("RevisionInfoLineRx").$match(D))===b||g.$$is_boolean&&1!=g)c.$unshift_line(D);else{if((g=C["$[]"](1))!==b&&(!g.$$is_boolean||1==g))z["$[]="]("revnumber",C["$[]"](1).$rstrip());if(!(D=C["$[]"](2).$strip())["$=="](""))if((g=(l=C["$[]"](1)["$!"](),!1!==l&&l!==b?D["$start_with?"]("v"):l))===b||g.$$is_boolean&&1!=g)z["$[]="]("revdate",D);else z["$[]="]("revnumber",D["$[]"](r(1,-1,!1)));if((g=
C["$[]"](3))!==b&&(!g.$$is_boolean||1==g))z["$[]="]("revremark",C["$[]"](3).$rstrip())}if((g=z["$empty?"]())===b||g.$$is_boolean&&1!=g)!1!==d&&d!==b&&(g=(l=z).$each,g.$$p=(k=function(a,c){var f;null==a&&(a=b);null==c&&(c=b);return(f=d.$attributes()["$has_key?"](a))===b||f.$$is_boolean&&1!=f?d.$attributes()["$[]="](a,d.$apply_header_subs(c)):b},k.$$s=this,k),g).call(l),n.$update(z);this.$process_attribute_entries(c,d);c.$skip_blank_lines()}if(!1!==d&&d!==b){z=b;if((g=(m=d.$attributes()["$has_key?"]("author"),
!1!==m&&m!==b?(x=d.$attributes()["$[]"]("author"))["$!="](u):m))===b||g.$$is_boolean&&1!=g)if((g=(m=d.$attributes()["$has_key?"]("authors"),!1!==m&&m!==b?(x=d.$attributes()["$[]"]("authors"))["$!="](w):m))===b||g.$$is_boolean&&1!=g){u=[];for(w="author_"+q(u.$size(),1);(m=d.$attributes()["$has_key?"](w))!==b&&(!m.$$is_boolean||1==m);)u["$<<"](d.$attributes()["$[]"](w)),w="author_"+q(u.$size(),1);u.$size()["$=="](1)?z=this.$process_authors(u["$[]"](0),!0,!1):p(u.$size(),1)&&(z=this.$process_authors(u.$join("; "),
!0))}else z=this.$process_authors(x,!0);else z=this.$process_authors(x,!0,!1);if(!1!==z&&z!==b&&(d.$attributes().$update(z),(g=(m=d.$attributes()["$has_key?"]("email")["$!"](),!1!==m&&m!==b?d.$attributes()["$has_key?"]("email_1"):m))!==b&&(!g.$$is_boolean||1==g)))d.$attributes()["$[]="]("email",d.$attributes()["$[]"]("email_1"))}return n});a.defs(h,"$process_authors",function(a,c,d){var g,e,h,l,k,m=this,n=b,u=b,w=b;null==c&&(c=!1);null==d&&(d=!0);n=t([],{});u="author authorinitials firstname middlename lastname email".split(" ");
w=function(){return!1!==d&&d!==b?(g=(e=a.$split(";")).$map,g.$$p=(h=function(a){null==a&&(a=b);return a.$strip()},h.$$s=m,h),g).call(e):[a]}();(g=(l=w).$each_with_index,g.$$p=(k=function(a,d){var g=k.$$s||this,e,h,l,m,v,w,z,D=b,E=b,C=b,x=C=b,y=b;null==a&&(a=b);null==d&&(d=b);if((e=a["$empty?"]())!==b&&(!e.$$is_boolean||1==e))return b;D=t([],{});(e=d["$zero?"]())===b||e.$$is_boolean&&1!=e?(e=(m=u).$each,e.$$p=(v=function(a){null==a&&(a=b);return D["$[]="](a.$to_sym(),""+a+"_"+q(d,1))},v.$$s=g,v),e).call(m):
(e=(h=u).$each,e.$$p=(l=function(a){null==a&&(a=b);return D["$[]="](a.$to_sym(),a)},l.$$s=g,l),e).call(h);E=b;!1!==c&&c!==b?p((E=a.$split(" ")).$size(),3)&&(E=E["$[]"](r(0,1,!1)).$push(E["$[]"](r(2,-1,!1)).$join(" "))):(e=C=f.get("AuthorInfoLineRx").$match(a))===b||e.$$is_boolean&&1!=e||(E=C.$to_a(),E.$shift());if((e=E["$nil?"]())===b||e.$$is_boolean&&1!=e){if(n["$[]="](D["$[]"]("firstname"),C=E["$[]"](0).$tr("_"," ")),n["$[]="](D["$[]"]("author"),C),n["$[]="](D["$[]"]("authorinitials"),C["$[]"](0,
1)),(e=(w=E["$[]"](1)["$nil?"]()["$!"](),!1!==w&&w!==b?E["$[]"](2)["$nil?"]()["$!"]():w))===b||e.$$is_boolean&&1!=e?(e=E["$[]"](1)["$nil?"]()["$!"]())===b||e.$$is_boolean&&1!=e||(n["$[]="](D["$[]"]("lastname"),y=E["$[]"](1).$tr("_"," ")),n["$[]="](D["$[]"]("author"),[C,y].$join(" ")),n["$[]="](D["$[]"]("authorinitials"),[C["$[]"](0,1),y["$[]"](0,1)].$join())):(n["$[]="](D["$[]"]("middlename"),x=E["$[]"](1).$tr("_"," ")),n["$[]="](D["$[]"]("lastname"),y=E["$[]"](2).$tr("_"," ")),n["$[]="](D["$[]"]("author"),
[C,x,y].$join(" ")),n["$[]="](D["$[]"]("authorinitials"),[C["$[]"](0,1),x["$[]"](0,1),y["$[]"](0,1)].$join())),(e=!1!==(w=c)&&w!==b?w:E["$[]"](3)["$nil?"]())===b||e.$$is_boolean&&1!=e)n["$[]="](D["$[]"]("email"),E["$[]"](3))}else n["$[]="](D["$[]"]("author"),n["$[]="](D["$[]"]("firstname"),C=a.$strip().$tr_s(" "," "))),n["$[]="](D["$[]"]("authorinitials"),C["$[]"](0,1));n["$[]="]("authorcount",q(d,1));d["$=="](1)&&(e=(w=u).$each,e.$$p=(z=function(a){var c;null==a&&(a=b);return(c=n["$has_key?"](a))===
b||c.$$is_boolean&&1!=c?b:n["$[]="](""+a+"_1",n["$[]"](a))},z.$$s=g,z),e).call(w);return(e=d["$zero?"]())===b||e.$$is_boolean&&1!=e?n["$[]="]("authors",""+n["$[]"]("authors")+", "+n["$[]"](D["$[]"]("author"))):n["$[]="]("authors",n["$[]"](D["$[]"]("author")))},k.$$s=m,k),g).call(l);return n});a.defs(h,"$parse_block_metadata_lines",function(a,c,d,f){var g;null==d&&(d=t([],{}));for(null==f&&(f=t([],{}));(g=this.$parse_block_metadata_line(a,c,d,f))!==b&&(!g.$$is_boolean||1==g);)a.$advance(),a.$skip_blank_lines();
return d});a.defs(h,"$parse_block_metadata_line",function(a,c,d,g){var e,h,l,k=b,m=b,n=b,m=k=b;null==g&&(g=t([],{}));if((e=a["$has_more_lines?"]())===b||e.$$is_boolean&&1!=e)return!1;k=a.$peek_line();if((e=(h=m=k["$start_with?"]("//"),!1!==h&&h!==b?n=f.get("CommentBlockRx").$match(k):h))!==b&&(!e.$$is_boolean||1==e))k=n["$[]"](0),a.$read_lines_until(t(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:k,skip_processing:!0}));
else if((e=(h=!1!==m&&m!==b)?f.get("CommentLineRx")["$=~"](k):m)===b||e.$$is_boolean&&1!=e)if((e=(h=(l=g["$[]"]("text")["$!"](),!1!==l&&l!==b?k["$start_with?"](":"):l),!1!==h&&h!==b?n=f.get("AttributeEntryRx").$match(k):h))!==b&&(!e.$$is_boolean||1==e))this.$process_attribute_entry(a,c,d,n);else if((e=(h=m=(l=k["$start_with?"]("["),!1!==l&&l!==b?k["$end_with?"]("]"):l),!1!==h&&h!==b?n=f.get("BlockAnchorRx").$match(k):h))===b||e.$$is_boolean&&1!=e)if((e=(h=!1!==m&&m!==b)?n=f.get("BlockAttributeListRx").$match(k):
m)===b||e.$$is_boolean&&1!=e){if((e=(h=g["$[]"]("text")["$!"](),!1!==h&&h!==b?n=f.get("BlockTitleRx").$match(k):h))===b||e.$$is_boolean&&1!=e)return!1;d["$[]="]("title",n["$[]"](1))}else c.$document().$parse_attributes(n["$[]"](1),[],t(["sub_input","into"],{sub_input:!0,into:d}));else if((e=n["$[]"](1)["$nil_or_empty?"]())===b||e.$$is_boolean&&1!=e)if(d["$[]="]("id",n["$[]"](1)),(e=n["$[]"](2)["$nil?"]())===b||e.$$is_boolean&&1!=e)d["$[]="]("reftext",n["$[]"](2));return!0});a.defs(h,"$process_attribute_entries",
function(a,c,d){var f;null==d&&(d=b);for(a.$skip_comment_lines();(f=this.$process_attribute_entry(a,c,d))!==b&&(!f.$$is_boolean||1==f);)a.$advance(),a.$skip_comment_lines()});a.defs(h,"$process_attribute_entry",function(a,c,d,g){var e,h,l=b,k=b,m=b,n=b,p=b,q=b;null==d&&(d=b);null==g&&(g=b);!1!==(e=g)&&e!==b?e:g=(h=a["$has_more_lines?"]())===b||h.$$is_boolean&&1!=h?b:f.get("AttributeEntryRx").$match(a.$peek_line());if(!1!==g&&g!==b){l=g["$[]"](1);if(((e=(k=!1!==(h=g["$[]"](2))&&h!==b?h:"")["$empty?"]())===
b||e.$$is_boolean&&1!=e)&&(e=!1!==(h=k["$end_with?"](m=f.get("LINE_CONTINUATION")))&&h!==b?h:k["$end_with?"](m=f.get("LINE_CONTINUATION_LEGACY")))!==b&&(!e.$$is_boolean||1==e))for(k=k.$chop().$rstrip();(h=a.$advance())!==b&&(!h.$$is_boolean||1==h)&&((h=(n=a.$peek_line().$strip())["$empty?"]())===b||h.$$is_boolean&&1!=h)&&((h=p=n["$end_with?"](m))===b||h.$$is_boolean&&1!=h||(n=n.$chop().$rstrip()),q=(h=k["$end_with?"](f.get("LINE_BREAK")))===b||h.$$is_boolean&&1!=h?" ":f.get("EOL"),k=""+k+q+n,!1!==
p&&p!==b););this.$store_attribute(l,k,!1!==c&&c!==b?c.$document():b,d);return!0}return!1});a.defs(h,"$store_attribute",function(a,c,d,g){var e,h=b,h=b;null==d&&(d=b);null==g&&(g=b);(e=a["$end_with?"]("!"))===b||e.$$is_boolean&&1!=e?(e=a["$start_with?"]("!"))===b||e.$$is_boolean&&1!=e||(c=b,a=a["$[]"](r(1,-1,!1))):(c=b,a=a.$chop());a=this.$sanitize_attribute_name(a);h=!0;!1!==d&&d!==b&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&!1!==c&&c!==b&&(h=c.$chr(),"+"["$==="](h)?c=q(d.$attr("leveloffset",
0).$to_i(),(!1!==(e=c["$[]"](r(1,-1,!1)))&&e!==b?e:0).$to_i()).$to_s():"-"["$==="](h)&&(c=k(d.$attr("leveloffset",0).$to_i(),(!1!==(e=c["$[]"](r(1,-1,!1)))&&e!==b?e:0).$to_i()).$to_s())),h=!1!==c&&c!==b?d.$set_attribute(a,c):d.$delete_attribute(a));(e=!1!==h&&h!==b?g:h)===b||e.$$is_boolean&&1!=e||(!1!==c&&c!==b&&(c=d.$attributes()["$[]"](a)),f.get("Document").$$scope.get("AttributeEntry").$new(a,c).$save_to(g));return[a,c]});a.defs(h,"$resolve_list_marker",function(a,c,d,f,e){var g;null==d&&(d=0);
null==f&&(f=!1);null==e&&(e=b);return(g=a["$=="]("olist")?c["$start_with?"](".")["$!"]():a["$=="]("olist"))===b||g.$$is_boolean&&1!=g?a["$=="]("colist")?"<1>":c:this.$resolve_ordered_list_marker(c,d,f,e)});a.defs(h,"$resolve_ordered_list_marker",function(a,c,d,e){var g,h,l,k=b,m=b,n=b,k=b;null==c&&(c=0);null==d&&(d=!1);null==e&&(e=b);k=(g=(h=f.get("ORDERED_LIST_STYLES")).$detect,g.$$p=(l=function(c){null==c&&(c=b);return f.get("OrderedListMarkerRxMap")["$[]"](c)["$=~"](a)},l.$$s=this,l),g).call(h);
m=n=b;"arabic"["$==="](k)?(!1!==d&&d!==b&&(m=q(c,1),n=a.$to_i()),a="1."):"loweralpha"["$==="](k)?(!1!==d&&d!==b&&(m=q("a"["$[]"](0).$ord(),c).$chr(),n=a.$chomp(".")),a="a."):"upperalpha"["$==="](k)?(!1!==d&&d!==b&&(m=q("A"["$[]"](0).$ord(),c).$chr(),n=a.$chomp(".")),a="A."):"lowerroman"["$==="](k)?(!1!==d&&d!==b&&(m=q(c,1),n=this.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](k)&&(!1!==d&&d!==b&&(m=q(c,1),n=this.$roman_numeral_to_int(a.$chomp(")"))),a="I)");(g=!1!==d&&d!==b?m["$!="](n):
d)===b||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: WARNING: "+e.$line_info()+": list item index: expected "+m+", got "+n);return a});a.defs(h,"$is_sibling_list_item?",function(c,d,e){var g,h=b,l=b,k=b;(g=e["$is_a?"](a.get("Regexp")))===b||g.$$is_boolean&&1!=g?(h=f.get("ListRxMap")["$[]"](d),l=e):(h=e,l=!1);return(g=k=h.$match(c))===b||g.$$is_boolean&&1!=g?!1:!1!==l&&l!==b?l["$=="](this.$resolve_list_marker(d,k["$[]"](1))):!0});a.defs(h,"$next_table",function(c,d,e){var g,h,l,k,m,n=b,p=b,t=b,u=
b,w=b,z=b,D=b,C=b,x=b,y=b,N=b,D=b,n=f.get("Table").$new(d,e);(g=e["$has_key?"]("title"))===b||g.$$is_boolean&&1!=g||(g=[e.$delete("title")],h=n,h["$title="].apply(h,g),g[g.length-1],n.$assign_caption(e.$delete("caption")));(g=(h=e["$key?"]("cols"),!1!==h&&h!==b?(p=this.$parse_col_specs(e["$[]"]("cols")))["$empty?"]()["$!"]():h))===b||g.$$is_boolean&&1!=g?t=!1:(n.$create_columns(p),t=!0);u=c.$skip_blank_lines();w=f.get("Table").$$scope.get("ParserContext").$new(c,n,e);for(z=-1;(h=c["$has_more_lines?"]())!==
b&&(!h.$$is_boolean||1==h);){z=q(z,1);D=c.$read_line();(h=(l=(k=(m=u["$=="](0)?z["$zero?"]():u["$=="](0),!1!==m&&m!==b?e["$has_key?"]("options")["$!"]():m),!1!==k&&k!==b?(C=c.$peek_line())["$nil?"]()["$!"]():k),!1!==l&&l!==b?C["$empty?"]():l))===b||h.$$is_boolean&&1!=h||(h=[!0],l=n,l["$has_header_option="].apply(l,h),h[h.length-1],n.$set_option("header"));w.$format()["$=="]("psv")&&((h=w["$starts_with_delimiter?"](D))===b||h.$$is_boolean&&1!=h?(h=a.to_ary(this.$parse_cell_spec(D,"start",w.$delimiter())),
x=null==h[0]?b:h[0],D=null==h[1]?b:h[1],(h=x["$nil?"]()["$!"]())===b||h.$$is_boolean&&1!=h||w.$close_open_cell(x)):(D=D["$[]"](r(1,-1,!1)),w.$close_open_cell()));for(y=!1;(l=!1!==(k=y["$!"]())&&k!==b?k:D["$empty?"]()["$!"]())!==b&&(!l.$$is_boolean||1==l);)if(y=!0,(l=N=w.$match_delimiter(D))===b||l.$$is_boolean&&1!=l)l=[""+w.$buffer()+D+f.get("EOL")],k=w,k["$buffer="].apply(k,l),l[l.length-1],w.$format()["$=="]("csv")&&(l=[""+w.$buffer().$rstrip()+" "],k=w,k["$buffer="].apply(k,l),l[l.length-1]),D=
"",(l=!1!==(k=w.$format()["$=="]("psv"))&&k!==b?k:(m=w.$format()["$=="]("csv"))?w["$buffer_has_unclosed_quotes?"]():w.$format()["$=="]("csv"))===b||l.$$is_boolean&&1!=l?w.$close_cell(!0):w.$keep_cell_open();else{if(w.$format()["$=="]("csv")){if((l=w["$buffer_has_unclosed_quotes?"](N.$pre_match()))!==b&&(!l.$$is_boolean||1==l)){D=w.$skip_matched_delimiter(N);continue}}else if((l=N.$pre_match()["$end_with?"]("\\"))!==b&&(!l.$$is_boolean||1==l)){if((l=(D=w.$skip_matched_delimiter(N,!0))["$empty?"]())!==
b&&(!l.$$is_boolean||1==l)){l=[""+w.$buffer()+f.get("EOL")];k=w;k["$buffer="].apply(k,l);l[l.length-1];w.$keep_cell_open();break}continue}w.$format()["$=="]("psv")?(l=a.to_ary(this.$parse_cell_spec(N.$pre_match(),"end")),x=null==l[0]?b:l[0],D=null==l[1]?b:l[1],w.$push_cell_spec(x),l=[""+w.$buffer()+D]):l=[""+w.$buffer()+N.$pre_match()];k=w;k["$buffer="].apply(k,l);l[l.length-1];(D=N.$post_match())["$=="]("")&&(y=!1);w.$close_cell()}if((h=w["$cell_open?"]())===b||h.$$is_boolean&&1!=h)u=c.$skip_blank_lines();
if((h=c["$has_more_lines?"]())===b||h.$$is_boolean&&1!=h)(h=w["$cell_open?"]())===b||h.$$is_boolean&&1!=h||w.$close_cell(!0)}((g=!1!==(h=(l="colcount",k=n.$attributes(),!1!==(m=k["$[]"](l))&&m!==b?m:k["$[]="](l,n.$columns().$size()))["$=="](0))&&h!==b?h:t)===b||g.$$is_boolean&&1!=g)&&n.$assign_col_widths();n.$partition_header_footer(e);return n});a.defs(h,"$parse_col_specs",function(c){var d,g,e,h,l,k=b;(d=c["$include?"](" "))===b||d.$$is_boolean&&1!=d||(c=c.$tr(" ",""));if(c["$=="](c.$to_i().$to_s()))return(d=
(g=a.get("Array")).$new,d.$$p=(e=function(){return t(["width"],{width:1})},e.$$s=this,e),d).call(g,c.$to_i());k=[];(d=(h=c.$split(",",-1)).$each,d.$$p=(l=function(c){var d=l.$$s||this,g,e,h,m=b,n=b,p=b,q=b;null==c&&(c=b);if(c["$=="](""))return k["$<<"](t(["width"],{width:1}));if((g=m=f.get("ColumnSpecRx").$match(c))===b||g.$$is_boolean&&1!=g)return b;n=t([],{});if((g=m["$[]"](2))!==b&&(!g.$$is_boolean||1==g)){g=a.to_ary(m["$[]"](2).$split("."));p=null==g[0]?b:g[0];q=null==g[1]?b:g[1];if((g=(e=p["$nil_or_empty?"]()["$!"](),
!1!==e&&e!==b?f.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](p):e))!==b&&(!g.$$is_boolean||1==g))n["$[]="]("halign",f.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](p));if((g=(e=q["$nil_or_empty?"]()["$!"](),!1!==e&&e!==b?f.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](q):e))!==b&&(!g.$$is_boolean||1==g))n["$[]="]("valign",f.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](q))}n["$[]="]("width",(g=m["$[]"](3))===b||g.$$is_boolean&&1!=g?1:m["$[]"](3).$to_i());
if((g=(e=m["$[]"](4),!1!==e&&e!==b?f.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](m["$[]"](4)):e))!==b&&(!g.$$is_boolean||1==g))n["$[]="]("style",f.get("Table").$$scope.get("TEXT_STYLES")["$[]"](m["$[]"](4)));return(g=m["$[]"](1))===b||g.$$is_boolean&&1!=g?k["$<<"](n):(g=(e=1).$upto,g.$$p=(h=function(){return k["$<<"](n.$dup())},h.$$s=d,h),g).call(e,m["$[]"](1).$to_i())},l.$$s=this,l),d).call(h);return k});a.defs(h,"$parse_cell_spec",function(c,d,g){var e,h,l=b,k=b,m=b,n=m=l=b,p=b;null==d&&
(d="start");null==g&&(g=b);l=b;k="";m=d;if("start"["$==="](m)){if((e=c["$include?"](g))===b||e.$$is_boolean&&1!=e)return[b,c];e=a.to_ary(c.$split(g,2));l=null==e[0]?b:e[0];k=null==e[1]?b:e[1];if((e=l=f.get("CellSpecStartRx").$match(l))===b||e.$$is_boolean&&1!=e)return[b,c];if((e=l["$[]"](0)["$empty?"]())!==b&&(!e.$$is_boolean||1==e))return[t([],{}),k]}else if("end"["$==="](m)){if((e=l=f.get("CellSpecEndRx").$match(c))===b||e.$$is_boolean&&1!=e)return[t([],{}),c];if((e=l["$[]"](0).$lstrip()["$empty?"]())!==
b&&(!e.$$is_boolean||1==e))return[t([],{}),c.$rstrip()];k=l.$pre_match()}m=t([],{});if((e=l["$[]"](1))!==b&&(!e.$$is_boolean||1==e))if(e=a.to_ary(l["$[]"](1).$split(".")),n=null==e[0]?b:e[0],p=null==e[1]?b:e[1],n=(e=n["$nil_or_empty?"]())===b||e.$$is_boolean&&1!=e?n.$to_i():1,p=(e=p["$nil_or_empty?"]())===b||e.$$is_boolean&&1!=e?p.$to_i():1,l["$[]"](2)["$=="]("+")){if(!n["$=="](1))m["$[]="]("colspan",n);if(!p["$=="](1))m["$[]="]("rowspan",p)}else if(l["$[]"](2)["$=="]("*")&&!n["$=="](1))m["$[]="]("repeatcol",
n);if((e=l["$[]"](3))!==b&&(!e.$$is_boolean||1==e)){e=a.to_ary(l["$[]"](3).$split("."));n=null==e[0]?b:e[0];p=null==e[1]?b:e[1];if((e=(h=n["$nil_or_empty?"]()["$!"](),!1!==h&&h!==b?f.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](n):h))!==b&&(!e.$$is_boolean||1==e))m["$[]="]("halign",f.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](n));if((e=(h=p["$nil_or_empty?"]()["$!"](),!1!==h&&h!==b?f.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](p):h))!==b&&(!e.$$is_boolean||
1==e))m["$[]="]("valign",f.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](p))}if((e=(h=l["$[]"](4),!1!==h&&h!==b?f.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](l["$[]"](4)):h))!==b&&(!e.$$is_boolean||1==e))m["$[]="]("style",f.get("Table").$$scope.get("TEXT_STYLES")["$[]"](l["$[]"](4)));return[m,k]});a.defs(h,"$parse_style_attribute",function(a,c){var d,e,g,h,l,k,n,p=b,r=b,u=b,w=b,z=b,D=b,C=r=g=b;null==c&&(c=b);p=a["$[]"]("style");r=a["$[]"](1);if((d=(e=(g=!1!==r&&r!==b)?r["$include?"](" ")["$!"]():
r,!1!==e&&e!==b?f.get("Compliance").$shorthand_property_syntax():e))===b||d.$$is_boolean&&1!=d)return a["$[]="]("style",r),[r,p];u="style";w=[];z=t([],{});D=(d=(e=this).$lambda,d.$$p=(h=function(){var a=h.$$s||this,d,f,e=b;return(d=w["$empty?"]())===b||d.$$is_boolean&&1!=d?(e=u,"role"["$==="](e)||"option"["$==="](e)?(d=u,a=z,!1!==(f=a["$[]"](d))&&f!==b?f:a["$[]="](d,[]),z["$[]"](u).$push(w.$join())):("id"["$==="](e)&&((d=z["$has_key?"]("id"))===b||d.$$is_boolean&&1!=d||a.$warn("asciidoctor: WARNING:"+
((d=c["$nil?"]())===b||d.$$is_boolean&&1!=d?" "+c.$prev_line_info()+":":b)+" multiple ids detected in style attribute")),z["$[]="](u,w.$join())),w=[]):(d=u["$!="]("style"))===b||d.$$is_boolean&&1!=d?b:a.$warn("asciidoctor: WARNING:"+((d=c["$nil?"]())===b||d.$$is_boolean&&1!=d?" "+c.$prev_line_info()+":":b)+" invalid empty "+u+" detected in style attribute")},h.$$s=this,h),d).call(e);(d=(g=r).$each_char,d.$$p=(l=function(a){var c,d,f,e=b;null==a&&(a=b);if((c=!1!==(d=!1!==(f=a["$=="]("."))&&f!==b?f:
a["$=="]("#"))&&d!==b?d:a["$=="]("%"))===b||c.$$is_boolean&&1!=c)return w.$push(a);D.$call();e=a;return"."["$==="](e)?u="role":"#"["$==="](e)?u="id":"%"["$==="](e)?u="option":b},l.$$s=this,l),d).call(g);if(u["$=="]("style"))g=a["$[]="]("style",r);else{D.$call();g=(d=z["$has_key?"]("style"))===b||d.$$is_boolean&&1!=d?b:a["$[]="]("style",z["$[]"]("style"));if((d=z["$has_key?"]("id"))!==b&&(!d.$$is_boolean||1==d))a["$[]="]("id",z["$[]"]("id"));if((d=z["$has_key?"]("role"))!==b&&(!d.$$is_boolean||1==
d))a["$[]="]("role",m(z["$[]"]("role")," "));if((d=z["$has_key?"]("option"))!==b&&(!d.$$is_boolean||1==d))if((d=(k=r=z["$[]"]("option")).$each,d.$$p=(n=function(c){null==c&&(c=b);return a["$[]="](""+c+"-option","")},n.$$s=this,n),d).call(k),(d=C=a["$[]"]("options"))===b||d.$$is_boolean&&1!=d)a["$[]="]("options",m(r,","));else a["$[]="]("options",m(q(r,C.$split(",")),","))}return[g,p]});a.defs(h,"$adjust_indentation!",function(a,c,d){var e,g,h,n,t,u,w,z=b,D=b,C=b;null==c&&(c=0);null==d&&(d=0);if((e=
a["$empty?"]())!==b&&(!e.$$is_boolean||1==e))return b;(e=(g=p(d=d.$to_i(),0))?a.$join()["$include?"](f.get("TAB")):p(d=d.$to_i(),0))===b||e.$$is_boolean&&1!=e||(z=m(" ",d),(e=(g=a)["$map!"],e.$$p=(h=function(a){var c=h.$$s||this,e,g,n,p,r,t=b;null==a&&(a=b);if((e=a["$empty?"]())!==b&&(!e.$$is_boolean||1==e))return a;(e=a["$start_with?"](f.get("TAB")))===b||e.$$is_boolean&&1!=e||(e=(g=a)["$sub!"],e.$$p=(n=function(a){null==a&&(a=b);return m(z,a.$length())},n.$$s=c,n),e).call(g,f.get("TabIndentRx"));
if((e=a["$include?"](f.get("TAB")))===b||e.$$is_boolean&&1!=e)return a;t=0;return(e=(p=a)["$gsub!"],e.$$p=(r=function(){var a=b,c=b;null==l["~"]&&(l["~"]=b);if((a=q(l["~"].$begin(0),t))["$%"](d)["$=="](0))return t=q(t,k(d,1)),z;(c=k(d,a["$%"](d)))["$=="](1)||(t=q(t,k(c,1)));return m(" ",c)},r.$$s=c,r),e).call(p,f.get("TabRx"))},h.$$s=this,h),e).call(g));if((e=(g=!1!==c&&c!==b)?p(c=c.$to_i(),-1):c)===b||e.$$is_boolean&&1!=e)return b;D=b;(e=(g=a).$each,e.$$p=(n=function(a){var c,d=b;null==a&&(a=b);
return(c=a["$empty?"]())===b||c.$$is_boolean&&1!=c?(d=k(a.$length(),a.$lstrip().$length()))["$=="](0)?(D=b,B.$v=b,B):(c=!1!==D&&D!==b?p(d,D):D)===b||c.$$is_boolean&&1!=c?D=d:b:b},n.$$s=this,n),e).call(g);c["$=="](0)?!1!==D&&D!==b&&(e=a["$map!"],e.$$p=(t=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())===b||c.$$is_boolean&&1!=c?a["$[]"](r(D,-1,!1)):a},t.$$s=this,t),e).call(a):(C=m(" ",c),!1!==D&&D!==b?(e=a["$map!"],e.$$p=(u=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())===b||c.$$is_boolean&&
1!=c?q(C,a["$[]"](r(D,-1,!1))):a},u.$$s=this,u),e).call(a):(e=a["$map!"],e.$$p=(w=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())===b||c.$$is_boolean&&1!=c?q(C,a):a},w.$$s=this,w),e).call(a));return b});a.defs(h,"$sanitize_attribute_name",function(a){return a.$gsub(f.get("InvalidAttributeNameCharsRx"),"").$downcase()});return(a.defs(h,"$roman_numeral_to_int",function(a){var d,f,e,g=b,h=b;a=a.$downcase();g=t(["i","v","x"],{i:1,v:5,x:10});h=0;(d=(f=r(0,k(a.$length(),1),!1)).$each,d.$$p=(e=
function(d){var f,e=b;null==d&&(d=b);e=g["$[]"](a["$[]"](r(d,d,!1)));return(f=c(q(d,1),a.$length())?p(g["$[]"](a["$[]"](r(q(d,1),q(d,1),!1))),e):c(q(d,1),a.$length()))===b||f.$$is_boolean&&1!=f?h=q(h,e):h=k(h,e)},e.$$s=this,e),d).call(f);return h}),b)&&"roman_numeral_to_int"})(y(g,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/path_resolver"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var p=a.nil,m=a.module,e=a.klass,k=a.hash2,d=a.range;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $uri_prefix $<< $+ $chomp".split(" "));
return function(c){(function(b,$super){function c(){}var m=c=e(b,$super,"PathResolver",c),t=m.$$proto,n=m.$$scope;t.file_separator=t._partition_path_web=t._partition_path_sys=t.working_dir=p;a.cdecl(n,"DOT",".");a.cdecl(n,"DOT_DOT","..");a.cdecl(n,"DOT_SLASH","./");a.cdecl(n,"SLASH","/");a.cdecl(n,"BACKSLASH","\\");a.cdecl(n,"DOUBLE_SLASH","//");a.cdecl(n,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);m.$attr_accessor("file_separator");m.$attr_accessor("working_dir");a.defn(m,"$initialize",function(b,c){var d;
null==b&&(b=p);null==c&&(c=p);this.file_separator=!1!==b&&b!==p?b:!1!==(d=a.get("File").$$scope.get("ALT_SEPARATOR"))&&d!==p?d:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==c&&c!==p?(d=this["$is_root?"](c))===p||d.$$is_boolean&&1!=d?a.get("File").$expand_path(c):c:a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=k([],{});return this._partition_path_web=k([],{})});a.defn(m,"$is_root?",function(b){var c,d,e;return(c=b["$start_with?"](n.get("SLASH")))===p||c.$$is_boolean&&
1!=c?(c=this.file_separator["$=="](n.get("BACKSLASH"))?n.get("WindowsRootRx")["$=~"](b):this.file_separator["$=="](n.get("BACKSLASH")))===p||c.$$is_boolean&&1!=c?(c=(d=(e=a.get("RUBY_ENGINE_OPAL"),!1!==e&&e!==p?a.get("JAVASCRIPT_PLATFORM")["$=="]("browser"):e),!1!==d&&d!==p?b["$start_with?"]("file:///"):d))===p||c.$$is_boolean&&1!=c?!1:!0:!0:!0});a.defn(m,"$is_unc?",function(a){return a["$start_with?"](n.get("DOUBLE_SLASH"))});a.defn(m,"$is_web_root?",function(a){return a["$start_with?"](n.get("SLASH"))});
a.defn(m,"$posixfy",function(a){var b;return(b=a["$nil_or_empty?"]())===p||b.$$is_boolean&&1!=b?(b=a["$include?"](n.get("BACKSLASH")))===p||b.$$is_boolean&&1!=b?a:a.$tr(n.get("BACKSLASH"),n.get("SLASH")):""});a.defn(m,"$expand_path",function(b){var c=p,d=p;b=a.to_ary(this.$partition_path(b));c=null==b[0]?p:b[0];d=null==b[1]?p:b[1];return this.$join_path(c,d)});a.defn(m,"$partition_path",function(a,b){var c,e=p,k=e=p,m=p;null==b&&(b=!1);if((c=e=!1!==b&&b!==p?this._partition_path_web["$[]"](a):this._partition_path_sys["$[]"](a))!==
p&&(!c.$$is_boolean||1==c))return e;e=this.$posixfy(a);k=!1!==b&&b!==p?(c=this["$is_web_root?"](e))===p||c.$$is_boolean&&1!=c?(c=e["$start_with?"](n.get("DOT_SLASH")))===p||c.$$is_boolean&&1!=c?p:n.get("DOT_SLASH"):n.get("SLASH"):(c=this["$is_root?"](e))===p||c.$$is_boolean&&1!=c?(c=e["$start_with?"](n.get("DOT_SLASH")))===p||c.$$is_boolean&&1!=c?p:n.get("DOT_SLASH"):(c=this["$is_unc?"](e))===p||c.$$is_boolean&&1!=c?(c=e["$start_with?"](n.get("SLASH")))===p||c.$$is_boolean&&1!=c?e["$[]"](d(0,e.$index(n.get("SLASH")),
!1)):n.get("SLASH"):n.get("DOUBLE_SLASH");m=e.$split(n.get("SLASH"));k["$=="](n.get("DOUBLE_SLASH"))?m=m["$[]"](d(2,-1,!1)):!1!==k&&k!==p&&m.$shift();m.$delete(n.get("DOT"));return(!1!==b&&b!==p?this._partition_path_web:this._partition_path_sys)["$[]="](a,[m,k,e])});a.defn(m,"$join_path",function(a,b){null==b&&(b=p);return!1!==b&&b!==p?""+b+q(a,n.get("SLASH")):q(a,n.get("SLASH"))});a.defn(m,"$system_path",function(b,c,d,e){var m,q,h,f=p,t=p,z=p,D=p,x=p,v=x=z=p,y=p;null==d&&(d=p);null==e&&(e=k([],
{}));!1!==d&&d!==p&&(((m=this["$is_root?"](d))===p||m.$$is_boolean&&1!=m)&&this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+d),d=this.$posixfy(d));(m=b["$nil_or_empty?"]())===p||m.$$is_boolean&&1!=m?(m=a.to_ary(this.$partition_path(b)),f=null==m[0]?p:m[0],t=null==m[1]?p:m[1]):f=[];if((m=f["$empty?"]())!==p&&(!m.$$is_boolean||1==m))if((m=c["$nil_or_empty?"]())===p||m.$$is_boolean&&1!=m){if((m=this["$is_root?"](c))===p||m.$$is_boolean&&1!=m)return this.$system_path(c,d,d,e);if(!1===
d||d===p)return this.$expand_path(c)}else return!1!==d&&d!==p?d:this.working_dir;if(!((m=(q=!1!==t&&t!==p)?t["$!="](n.get("DOT_SLASH")):t)===p||m.$$is_boolean&&1!=m||(z=this.$join_path(f,t),(m=!1!==(q=d["$!"]())&&q!==p?q:z["$start_with?"](d))===p||m.$$is_boolean&&1!=m)))return z;c=(m=c["$nil_or_empty?"]())===p||m.$$is_boolean&&1!=m?(m=this["$is_root?"](c))===p||m.$$is_boolean&&1!=m?this.$system_path(c,d,d,e):this.$posixfy(c):!1!==d&&d!==p?d:this.working_dir;d["$=="](c)?(m=a.to_ary(this.$partition_path(d)),
D=null==m[0]?p:m[0],x=null==m[1]?p:m[1],z=D.$dup()):(!1!==d&&d!==p?(((m=c["$start_with?"](d))===p||m.$$is_boolean&&1!=m)&&this.$raise(a.get("SecurityError"),""+(!1!==(m=e["$[]"]("target_name"))&&m!==p?m:"Start path")+" "+c+" is outside of jail: "+d+" (disallowed in safe mode)"),m=a.to_ary(this.$partition_path(c)),z=null==m[0]?p:m[0],x=null==m[1]?p:m[1],m=a.to_ary(this.$partition_path(d)),D=null==m[0]?p:m[0]):(m=a.to_ary(this.$partition_path(c)),z=null==m[0]?p:m[0]),x=null==m[1]?p:m[1]);v=z.$dup();
y=!1;(m=(q=f).$each,m.$$p=(h=function(c){var f=h.$$s||this,l;null==c&&(c=p);if(c["$=="](n.get("DOT_DOT"))){if(!1!==d&&d!==p){c=v.$length();var k=D.$length();if("number"===typeof c&&"number"===typeof k?c>k:c["$>"](k))return v.$pop();if((l=(!1!==p&&p!==p?p:e.$fetch("recover",!0))["$!"]())===p||l.$$is_boolean&&1!=l){if((l=y["$!"]())===p||l.$$is_boolean&&1!=l)return p;f.$warn("asciidoctor: WARNING: "+(!1!==(l=e["$[]"]("target_name"))&&l!==p?l:"path")+" has illegal reference to ancestor of jail, auto-recovering");
return y=!0}return f.$raise(a.get("SecurityError"),""+(!1!==(l=e["$[]"]("target_name"))&&l!==p?l:"path")+" "+b+" refers to location outside jail: "+d+" (disallowed in safe mode)")}return v.$pop()}return v.$push(c)},h.$$s=this,h),m).call(q);return this.$join_path(v,x)});a.defn(m,"$web_path",function(b,c){var e,k,m,q=p,h=p,f=p,t=p;null==c&&(c=p);b=this.$posixfy(b);c=this.$posixfy(c);q=p;if((e=!1!==(k=c["$nil_or_empty?"]())&&k!==p?k:this["$is_web_root?"](b))===p||e.$$is_boolean&&1!=e)b=""+c+n.get("SLASH")+
b,(e=q=n.get("Helpers").$uri_prefix(b))===p||e.$$is_boolean&&1!=e||(b=b["$[]"](d(q.$length(),-1,!1)));e=a.to_ary(this.$partition_path(b,!0));h=null==e[0]?p:e[0];f=null==e[1]?p:e[1];t=[];(e=(k=h).$each,e.$$p=(m=function(a){var b;null==a&&(a=p);return a["$=="](n.get("DOT_DOT"))?(b=t["$empty?"]())===p||b.$$is_boolean&&1!=b?t["$[]"](-1)["$=="](n.get("DOT_DOT"))?t["$<<"](a):t.$pop():(b=!1!==f&&f!==p?f["$!="](n.get("DOT_SLASH")):f)===p||b.$$is_boolean&&1!=b?t["$<<"](a):p:t["$<<"](a)},m.$$s=this,m),e).call(k);
return!1!==q&&q!==p?""+q+this.$join_path(t,f):this.$join_path(t,f)});return(a.defn(m,"$relative_path",function(a,b){var c,e,k=p;if((c=(e=this["$is_root?"](a),!1!==e&&e!==p?this["$is_root?"](b):e))===p||c.$$is_boolean&&1!=c)return a;c=b.$chomp(this.file_separator).$length();k="number"===typeof c?c+1:c["$+"](1);return a["$[]"](d(k,-1,!1))}),p)&&"relative_path"})(m(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/reader"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}a.dynamic_require_severity="ignore";var d=a.nil,c=a.breaker,b=
a.slice,B=a.module,y=a.klass,x=a.hash2,t=a.range;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $is_a? $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $=== $detect $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(n){n=B(n,"Asciidoctor").$$scope;(function(b,$super){function g(){}var k=g=y(b,$super,"Reader",g),n=k.$$proto,C=k.$$scope,h;n.file=n.dir=n.lines=n.process_lines=n.look_ahead=n.eof=n.unescape_next_line=n.lineno=n.path=n.source_lines=d;(function(b,$super){function c(){}var e=c=y(b,$super,"Cursor",c);e.$attr_accessor("file");e.$attr_accessor("dir");e.$attr_accessor("path");e.$attr_accessor("lineno");a.defn(e,"$initialize",function(a,b,c,f){null==b&&(b=d);null==c&&(c=d);null==f&&(f=d);
this.file=a;this.dir=b;this.path=c;return this.lineno=f});a.defn(e,"$line_info",function(){return""+this.$path()+": line "+this.$lineno()});return a.alias(e,"to_s","line_info")})(C.base,null);k.$attr_reader("file");k.$attr_reader("dir");k.$attr_reader("path");k.$attr_reader("lineno");k.$attr_reader("source_lines");k.$attr_accessor("process_lines");a.defn(k,"$initialize",function(b,c,e){var g;null==b&&(b=d);null==c&&(c=d);null==e&&(e=x(["normalize"],{normalize:!1}));if((g=c["$!"]())===d||g.$$is_boolean&&
1!=g)if((g=c["$is_a?"](a.get("String")))===d||g.$$is_boolean&&1!=g){this.file=c.$file();this.dir=c.$dir();this.path=!1!==(g=c.$path())&&g!==d?g:"<stdin>";if((g=this.file)!==d&&(!g.$$is_boolean||1==g)){if((g=this.dir)===d||g.$$is_boolean&&1!=g)this.dir=a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=d);if((g=c.$path())===d||g.$$is_boolean&&1!=g)this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(g=c.$lineno())&&g!==d?g:1}else this.file=c,g=a.to_ary(a.get("File").$split(this.file)),
this.dir=null==g[0]?d:g[0],this.path=null==g[1]?d:g[1],this.lineno=1;else this.file=this.dir=d,this.path="<stdin>",this.lineno=1;this.lines=!1!==b&&b!==d?this.$prepare_lines(b,e):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1});a.defn(k,"$prepare_lines",function(b,c){var e;null==c&&(c=x([],{}));return(e=b["$is_a?"](a.get("String")))===d||e.$$is_boolean&&1!=e?(e=c["$[]"]("normalize"))===d||e.$$is_boolean&&
1!=e?b.$dup():C.get("Helpers").$normalize_lines_array(b):(e=c["$[]"]("normalize"))===d||e.$$is_boolean&&1!=e?b.$split(C.get("EOL")):C.get("Helpers").$normalize_lines_from_string(b)});a.defn(k,"$process_line",function(a){var b;(b=this.process_lines)===d||b.$$is_boolean&&1!=b||(this.look_ahead=q(this.look_ahead,1));return a});a.defn(k,"$has_more_lines?",function(){var a;return(!1!==(a=this.eof)&&a!==d?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()});a.defn(k,"$next_line_empty?",function(){return this.$peek_line()["$nil_or_empty?"]()});
a.defn(k,"$peek_line",function(a){var b,c,e=d;null==a&&(a=!1);if((b=!1!==(c=a)&&c!==d?c:p(this.look_ahead,0))===d||b.$$is_boolean&&1!=b){if((b=!1!==(c=this.eof)&&c!==d?c:this.lines["$empty?"]())===d||b.$$is_boolean&&1!=b)return(b=(e=this.$process_line(this.lines["$[]"](0)))["$!"]())===d||b.$$is_boolean&&1!=b?e:this.$peek_line();this.eof=!0;this.look_ahead=0;return d}return(b=this.unescape_next_line)===d||b.$$is_boolean&&1!=b?this.lines["$[]"](0):this.lines["$[]"](0)["$[]"](t(1,-1,!1))});a.defn(k,
"$peek_lines",function(a,b){var e,g,h,k,m,n=d,p=d;null==a&&(a=1);null==b&&(b=!0);n=this.look_ahead;p=[];(e=(g=a).$times,e.$$p=(h=function(){var a,f=d;return(a=f=(h.$$s||this).$read_line(b))===d||a.$$is_boolean&&1!=a?(c.$v=d,c):p["$<<"](f)},h.$$s=this,h),e).call(g);if((e=p["$empty?"]())===d||e.$$is_boolean&&1!=e)(e=(k=p).$reverse_each,e.$$p=(m=function(a){var b=m.$$s||this;null==a&&(a=d);return b.$unshift(a)},m.$$s=this,m),e).call(k),!1!==b&&b!==d&&(this.look_ahead=n);return p});a.defn(k,"$read_line",
function(a){var b,c,e;null==a&&(a=!1);return(b=!1!==(c=!1!==(e=a)&&e!==d?e:p(this.look_ahead,0))&&c!==d?c:this["$has_more_lines?"]())===d||b.$$is_boolean&&1!=b?d:this.$shift()});a.defn(k,"$read_lines",function(){for(var a,b=d,b=[];(a=this["$has_more_lines?"]())!==d&&(!a.$$is_boolean||1==a);)b["$<<"](this.$shift());return b});a.alias(k,"readlines","read_lines");a.defn(k,"$read",function(){return m(this.$read_lines(),C.get("EOL"))});a.defn(k,"$advance",function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()});
a.defn(k,"$unshift_line",function(a){this.$unshift(a);return d});a.alias(k,"restore_line","unshift_line");a.defn(k,"$unshift_lines",function(a){var b,c;(b=a.$reverse_each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=d);return b.$unshift(a)},c.$$s=this,c),b).call(a);return d});a.alias(k,"restore_lines","unshift_lines");a.defn(k,"$replace_next_line",function(a){this.$advance();this.$unshift(a);return d});a.alias(k,"replace_line","replace_next_line");a.defn(k,"$skip_blank_lines",function(){var a,
b,c=d,e=d;if((a=this["$eof?"]())!==d&&(!a.$$is_boolean||1==a))return 0;for(c=0;!((b=e=this.$peek_line())===d||b.$$is_boolean&&1!=b||(b=e["$empty?"]())===d||b.$$is_boolean&&1!=b);)this.$advance(),c=q(c,1);return c});a.defn(k,"$skip_comment_lines",function(b){var c,e,g=d,h=d,k=d,m=d,n=d;null==b&&(b=x([],{}));if((c=this["$eof?"]())!==d&&(!c.$$is_boolean||1==c))return[];g=[];for(h=b["$[]"]("include_blank_lines");(e=k=this.$peek_line())!==d&&(!e.$$is_boolean||1==e);)if((e=(b=!1!==h&&h!==d)?k["$empty?"]():
h)===d||e.$$is_boolean&&1!=e)if((e=(b=m=k["$start_with?"]("//"),!1!==b&&b!==d?n=C.get("CommentBlockRx").$match(k):b))===d||e.$$is_boolean&&1!=e)if((b=!1!==m&&m!==d?C.get("CommentLineRx")["$=~"](k):m)===d||b.$$is_boolean&&1!=b)break;else g["$<<"](this.$shift());else g["$<<"](this.$shift()),(e=g).$push.apply(e,a.to_a(this.$read_lines_until(x(["terminator","read_last_line","skip_processing"],{terminator:n["$[]"](0),read_last_line:!0,skip_processing:!0}))));else g["$<<"](this.$shift());return g});a.defn(k,
"$skip_line_comments",function(){var a,b,c=d,e=d;if((a=this["$eof?"]())!==d&&(!a.$$is_boolean||1==a))return[];for(c=[];!((b=e=this.$peek_line())===d||b.$$is_boolean&&1!=b||(b=C.get("CommentLineRx")["$=~"](e))===d||b.$$is_boolean&&1!=b);)c["$<<"](this.$shift());return c});a.defn(k,"$terminate",function(){this.lineno=q(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return d});a.defn(k,"$eof?",function(){return this["$has_more_lines?"]()["$!"]()});a.alias(k,"empty?",
"eof?");a.defn(k,"$read_lines_until",h=function(b){var g,k,m,n,p,q=h.$$p||d,r=d,t=d,u=d,A=d,y=d,H=d,B=d,I=d,S=d,T=d;null==b&&(b=x([],{}));h.$$p=null;r=[];(g=b["$[]"]("skip_first_line"))===d||g.$$is_boolean&&1!=g||this.$advance();(g=(k=this.process_lines,!1!==k&&k!==d?b["$[]"]("skip_processing"):k))===d||g.$$is_boolean&&1!=g?t=!1:(this.process_lines=!1,t=!0);(g=u=b["$[]"]("terminator"))===d||g.$$is_boolean&&1!=g?(A=b["$[]"]("break_on_blank_lines"),y=b["$[]"]("break_on_list_continuation")):y=A=!1;H=
b["$[]"]("skip_line_comments");for(S=I=B=!1;(k=(m=S["$!"](),!1!==m&&m!==d?T=this.$read_line():m))!==d&&(!k.$$is_boolean||1==k);)if(S=function(){for(;(m=!0)!==d&&(!m.$$is_boolean||1==m);)return((m=(n=!1!==u&&u!==d)?T["$=="](u):u)===d||m.$$is_boolean&&1!=m)&&((m=(n=!1!==A&&A!==d)?T["$empty?"]():A)===d||m.$$is_boolean&&1!=m)?(m=(n=(p=!1!==y&&y!==d)?B:y,!1!==n&&n!==d?T["$=="](C.get("LIST_CONTINUATION")):n))===d||m.$$is_boolean&&1!=m?(m=(n=q!==d)?(p=a.yield1(q,T))===c?c.$v:p:q!==d)===d||m.$$is_boolean&&
1!=m?!1:!0:(b["$[]="]("preserve_last_line",!0),!0):!0;return d}(),!1!==S&&S!==d)(k=b["$[]"]("read_last_line"))===d||k.$$is_boolean&&1!=k||(r["$<<"](T),B=!0),(k=b["$[]"]("preserve_last_line"))===d||k.$$is_boolean&&1!=k||(this.$unshift(T),I=!0);else if((k=(m=(n=!1!==H&&H!==d)?T["$start_with?"]("//"):H,!1!==m&&m!==d?C.get("CommentLineRx")["$=~"](T):m))===d||k.$$is_boolean&&1!=k)r["$<<"](T),B=!0;!1!==t&&t!==d&&(this.process_lines=!0,(g=(k=!1!==I&&I!==d)?u["$!"]():I)===d||g.$$is_boolean&&1!=g||(this.look_ahead=
e(this.look_ahead,1)));return r});a.defn(k,"$shift",function(){this.lineno=q(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=e(this.look_ahead,1));return this.lines.$shift()});a.defn(k,"$unshift",function(a){this.lineno=e(this.lineno,1);this.look_ahead=q(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)});a.defn(k,"$cursor",function(){return C.get("Cursor").$new(this.file,this.dir,this.path,this.lineno)});a.defn(k,"$line_info",function(){return""+this.path+": line "+this.lineno});
a.alias(k,"next_line_info","line_info");a.defn(k,"$prev_line_info",function(){return""+this.path+": line "+e(this.lineno,1)});a.defn(k,"$lines",function(){return this.lines.$dup()});a.defn(k,"$string",function(){return m(this.lines,C.get("EOL"))});a.defn(k,"$source",function(){return m(this.source_lines,C.get("EOL"))});return(a.defn(k,"$to_s",function(){return this.$line_info()}),d)&&"to_s"})(n.base,null);(function(n,$super){function g(){}var u=g=y(n,$super,"PreprocessorReader",g),A=u.$$proto,C=u.$$scope,
h,f,w,z;A.document=A.lineno=A.process_lines=A.look_ahead=A.skipping=A.include_stack=A.conditional_stack=A.path=A.include_processor_extensions=A.maxdepth=A.dir=A.lines=A.file=A.includes=A.unescape_next_line=d;u.$attr_reader("include_stack");u.$attr_reader("includes");a.defn(u,"$initialize",h=function(b,c,f){var e,g,k=d;null==c&&(c=d);null==f&&(f=d);h.$$p=null;this.document=b;a.find_super_dispatcher(this,"initialize",h,null).apply(this,[c,f,x(["normalize"],{normalize:!0})]);k=b.$attributes().$fetch("max-include-depth",
64).$to_i();if("number"===typeof k?0>k:k["$<"](0))k=0;this.maxdepth=x(["abs","rel"],{abs:k,rel:k});this.include_stack=[];this.includes=(e=b.$references(),!1!==(g=e["$[]"]("includes"))&&g!==d?g:e["$[]="]("includes",[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=d});a.defn(u,"$prepare_lines",f=function(c,e){var g=b.call(arguments,0),h,k,n,p=f.$$p,r=d,t=d,u=d,w=d;null==e&&(e=x([],{}));f.$$p=null;r=a.find_super_dispatcher(this,"prepare_lines",f,p).apply(this,
g);if(!((h=(k=this.document,!1!==k&&k!==d?this.document.$attributes()["$has_key?"]("skip-front-matter"):k))===d||h.$$is_boolean&&1!=h||(h=t=this["$skip_front_matter!"](r))===d||h.$$is_boolean&&1!=h))this.document.$attributes()["$[]="]("front-matter",m(t,C.get("EOL")));if((h=e.$fetch("condense",!0))!==d&&(!h.$$is_boolean||1==h)){for(;(k=(n=u=r["$[]"](0),!1!==n&&n!==d?u["$empty?"]():n))!==d&&(!k.$$is_boolean||1==k);)k=r.$shift(),!1!==k&&k!==d?this.lineno=q(this.lineno,1):k;for(;(k=(n=w=r["$[]"](-1),
!1!==n&&n!==d?w["$empty?"]():n))!==d&&(!k.$$is_boolean||1==k);)r.$pop()}if((h=e["$[]"]("indent"))!==d&&(!h.$$is_boolean||1==h))C.get("Parser")["$adjust_indentation!"](r,e["$[]"]("indent"),this.document.$attr("tabsize"));return r});a.defn(u,"$process_line",function(b){var c,f,e,g,h=d,k=d;if((c=this.process_lines)===d||c.$$is_boolean&&1!=c)return b;if((c=b["$empty?"]())!==d&&(!c.$$is_boolean||1==c))return this.look_ahead=q(this.look_ahead,1),"";if((c=(f=(e=b["$end_with?"]("]"),!1!==e&&e!==d?b["$start_with?"]("[")["$!"]():
e),!1!==f&&f!==d?b["$include?"]("::"):f))===d||c.$$is_boolean&&1!=c){if((c=this.skipping)===d||c.$$is_boolean&&1!=c)return this.look_ahead=q(this.look_ahead,1),b;this.$advance();return d}if((c=(f=b["$include?"]("if"),!1!==f&&f!==d?h=C.get("ConditionalDirectiveRx").$match(b):f))===d||c.$$is_boolean&&1!=c){if((c=this.skipping)===d||c.$$is_boolean&&1!=c)return(c=(e=!1!==(g=k=b["$start_with?"]("\\include::"))&&g!==d?g:b["$start_with?"]("include::"),!1!==e&&e!==d?h=C.get("IncludeDirectiveRx").$match(b):
e))===d||c.$$is_boolean&&1!=c?(this.look_ahead=q(this.look_ahead,1),b):!1!==k&&k!==d?(this.unescape_next_line=!0,this.look_ahead=q(this.look_ahead,1),b["$[]"](t(1,-1,!1))):(c=this.$preprocess_include(h["$[]"](1),h["$[]"](2).$strip()))===d||c.$$is_boolean&&1!=c?(this.look_ahead=q(this.look_ahead,1),b):d;this.$advance();return d}if((c=b["$start_with?"]("\\"))===d||c.$$is_boolean&&1!=c){if((c=(f=this).$preprocess_conditional_inclusion.apply(f,a.to_a(h.$captures())))===d||c.$$is_boolean&&1!=c)return this.look_ahead=
q(this.look_ahead,1),b;this.$advance();return d}this.unescape_next_line=!0;this.look_ahead=q(this.look_ahead,1);return b["$[]"](t(1,-1,!1))});a.defn(u,"$peek_line",w=function(c){var f=b.call(arguments,0),e,g=w.$$p,h=d;null==c&&(c=!1);w.$$p=null;return(e=h=a.find_super_dispatcher(this,"peek_line",w,g).apply(this,f))===d||e.$$is_boolean&&1!=e?(e=this.include_stack["$empty?"]())===d||e.$$is_boolean&&1!=e?(this.$pop_include(),this.$peek_line(c)):d:h});a.defn(u,"$preprocess_conditional_inclusion",function(a,
b,c,f){var e,g,h,k,m,n,q,r,t,u,w=d,z=w=d,A=d,y=A=z=w=d,z=d;if((e=!1!==(g=(h=!1!==(k=a["$=="]("ifdef"))&&k!==d?k:a["$=="]("ifndef"),!1!==h&&h!==d?b["$empty?"]():h))&&g!==d?g:(h=a["$=="]("endif"))?f:a["$=="]("endif"))!==d&&(!e.$$is_boolean||1==e))return!1;b=b.$downcase();if(a["$=="]("endif"))return w=this.conditional_stack.$size(),p(w,0)?(w=this.conditional_stack["$[]"](-1),(e=!1!==(g=b["$empty?"]())&&g!==d?g:b["$=="](w["$[]"]("target")))===d||e.$$is_boolean&&1!=e?this.$warn("asciidoctor: ERROR: "+
this.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+w["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(e=this.conditional_stack["$empty?"]())===d||e.$$is_boolean&&1!=e?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+b+"[]"),!0;z=!1;if((e=this.skipping)===d||e.$$is_boolean&&1!=e)if(A=a,"ifdef"["$==="](A))A=c,d["$==="](A)?z=this.document.$attributes()["$has_key?"](b)["$!"]():
","["$==="](A)?z=(e=(g=b.$split(",")).$detect,e.$$p=(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$has_key?"](a)},m.$$s=this,m),e).call(g)["$!"]():"+"["$==="](A)&&(z=(e=(h=b.$split("+")).$detect,e.$$p=(n=function(a){var b=n.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$has_key?"](a)["$!"]()},n.$$s=this,n),e).call(h));else if("ifndef"["$==="](A))A=c,d["$==="](A)?z=this.document.$attributes()["$has_key?"](b):
","["$==="](A)?z=(e=(k=b.$split(",")).$detect,e.$$p=(q=function(a){var b=q.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$has_key?"](a)["$!"]()},q.$$s=this,q),e).call(k)["$!"]():"+"["$==="](A)&&(z=(e=(r=b.$split("+")).$detect,e.$$p=(t=function(a){var b=t.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$has_key?"](a)},t.$$s=this,t),e).call(r));else if("ifeval"["$==="](A)){if((e=!1!==(u=b["$empty?"]()["$!"]())&&
u!==d?u:(w=C.get("EvalExpressionRx").$match(f.$strip()))["$!"]())!==d&&(!e.$$is_boolean||1==e))return!1;z=this.$resolve_expr_val(w["$[]"](1));A=this.$resolve_expr_val(w["$[]"](3));z=(y=w["$[]"](2))["$=="]("!=")?z.$send("==",A):z.$send(y.$to_sym(),A)["$!"]()}if((e=!1!==(u=a["$=="]("ifeval"))&&u!==d?u:f["$!"]())!==d&&(!e.$$is_boolean||1==e))!1!==z&&z!==d&&(this.skipping=!0),this.conditional_stack["$<<"](x(["target","skip","skipping"],{target:b,skip:z,skipping:this.skipping}));else if((e=!1!==(u=this.skipping)&&
u!==d?u:z)===d||e.$$is_boolean&&1!=e)z=this.$peek_line(!0),this.$replace_next_line(f.$rstrip()),this.$unshift(z);return!0});a.defn(u,"$preprocess_include",function(b,f){var g,h,n,r,t,u,w,z,A,y=d,B=d,T=d,ba=d,K=d,M=d,P=d,X=d,Y=d,Q=d,ea=d,U=d,F=d,fa=d,G=d,V=d;if((g=(y=this.document.$sub_attributes(b,x(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===d||g.$$is_boolean&&1!=g){if((g=(h=this["$include_processors?"](),!1!==h&&h!==d?B=(n=(r=this.include_processor_extensions).$find,
n.$$p=(t=function(a){null==a&&(a=d);return a.$instance()["$handles?"](y)},t.$$s=this,t),n).call(r):h))===d||g.$$is_boolean&&1!=g){if(k(this.document.$safe(),C.get("SafeMode").$$scope.get("SECURE")))return this.$replace_next_line("link:"+y+"[]"),!0;if((g=(h=p(T=this.maxdepth["$[]"]("abs"),0))?k(this.include_stack.$size(),T):p(T=this.maxdepth["$[]"]("abs"),0))===d||g.$$is_boolean&&1!=g){if(p(T,0)){if((g=a.get("RUBY_ENGINE_OPAL"))===d||g.$$is_boolean&&1!=g)if((g=C.get("Helpers")["$uriish?"](y))===d||
g.$$is_boolean&&1!=g){ba="file";K=this.document.$normalize_system_path(y,this.dir,d,x(["target_name"],{target_name:"include file"}));if((g=a.get("File")["$file?"](K))===d||g.$$is_boolean&&1!=g)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+K),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+y+"["+f+"]"),!0;M=C.get("PathResolver").$new().$relative_path(K,this.document.$base_dir())}else{if((g=this.document.$attributes()["$has_key?"]("allow-uri-read"))===
d||g.$$is_boolean&&1!=g)return this.$replace_next_line("link:"+y+"[]"),!0;ba="uri";K=M=y;if((g=this.document.$attributes()["$has_key?"]("cache-uri"))===d||g.$$is_boolean&&1!=g)(g=a.get("RUBY_ENGINE_OPAL")["$!"]())===d||g.$$is_boolean&&1!=g||a.get("OpenURI");else{var la;try{la=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":d}catch(ja){if(ja.$$class===a.NameError)la=d;else throw ja;}((g=la)===d||g.$$is_boolean&&1!=g)&&C.get("Helpers").$require_library("open-uri/cached","open-uri-cached")}}else ba=
"file",K=M=(g=this.include_stack["$empty?"]())===d||g.$$is_boolean&&1!=g?a.get("File").$join(this.dir,y):a.get("Dir").$pwd()["$=="](this.document.$base_dir())?y:a.get("File").$join(this.dir,y);X=P=d;Y=x([],{});(g=f["$empty?"]()["$!"]())===d||g.$$is_boolean&&1!=g||(Y=C.get("AttributeList").$new(f).$parse(),(g=Y["$has_key?"]("lines"))===d||g.$$is_boolean&&1!=g?(g=Y["$has_key?"]("tag"))===d||g.$$is_boolean&&1!=g?(g=Y["$has_key?"]("tags"))===d||g.$$is_boolean&&1!=g||(X=Y["$[]"]("tags").$split(C.get("DataDelimiterRx")).$to_set()):
X=[Y["$[]"]("tag")].$to_set():(P=[],(g=(h=Y["$[]"]("lines").$split(C.get("DataDelimiterRx"))).$each,g.$$p=(u=function(b){var c,f,e,g=d,h=d;null==b&&(b=d);if((c=b["$include?"](".."))===d||c.$$is_boolean&&1!=c)return P["$<<"](b.$to_i());c=a.to_ary((f=(e=b.$split("..")).$map,f.$$p="to_i".$to_proc(),f).call(e));g=null==c[0]?d:c[0];h=null==c[1]?d:c[1];return h["$=="](-1)?(P["$<<"](g),P["$<<"](1/0)):P.$concat(a.get("Range").$new(g,h).$to_a())},u.$$s=this,u),g).call(h),P=P.$sort().$uniq()));if(!1!==P&&P!==
d){if((g=P["$empty?"]())===d||g.$$is_boolean&&1!=g){Q=[];U=ea=0;try{(g=(n=this).$open,g.$$p=(w=function(b){var f=w.$$s||this,e,g,h;null==b&&(b=d);return(e=(g=b).$each_line,e.$$p=(h=function(f){var e,g,h=d;null==f&&(f=d);U=q(U,1);h=P["$[]"](0);if((e=(g=h["$is_a?"](a.get("Float")),!1!==g&&g!==d?h["$infinite?"]():g))===d||e.$$is_boolean&&1!=e)return b.$lineno()["$=="](h)&&(Q.$push(f),ea["$=="](0)&&(ea=U),P.$shift()),(e=P["$empty?"]())===d||e.$$is_boolean&&1!=e?d:(c.$v=d,c);Q.$push(f);return ea["$=="](0)?
ea=U:d},h.$$s=f,h),e).call(g)},w.$$s=this,w),g).call(n,K,"r")}catch(ja){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+ba+" not readable: "+K),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+y+"["+f+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}this.$advance();this.$push_include(Q,K,M,ea,Y)}}else if(!1!==X&&X!==d){if((g=X["$empty?"]())===d||g.$$is_boolean&&1!=g){Q=[];U=ea=0;F=d;fa=a.get("Set").$new();try{(g=this.$open,g.$$p=(z=function(b){var f=
z.$$s||this,e,g,h;null==b&&(b=d);return(e=(g=b).$each_line,e.$$p=(h=function(b){var f=h.$$s||this,e,g,k,m=d;null==b&&(b=d);U=q(U,1);(e=C.get("FORCE_ENCODING"))===d||e.$$is_boolean&&1!=e||b.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));b=b.$rstrip();m=b.$chomp("--\x3e").$rstrip();return!1!==F&&F!==d?(e=m["$end_with?"]("end::"+F+"[]"))===d||e.$$is_boolean&&1!=e?(((e=(g=m["$end_with?"]("[]"),!1!==g&&g!==d?C.get("TagDirectiveRx")["$=~"](m):g))===d||e.$$is_boolean&&1!=e)&&Q.$push(b),ea["$=="](0)?
ea=U:d):F=d:(e=(g=m["$end_with?"]("[]"),!1!==g&&g!==d?C.get("TagDirectiveRx")["$=~"](m):g))===d||e.$$is_boolean&&1!=e?d:(e=(g=X).$each,e.$$p=(k=function(a){var b;null==a&&(a=d);if((b=m["$end_with?"]("tag::"+a+"[]"))===d||b.$$is_boolean&&1!=b)return d;F=a;fa["$<<"](a);return c.$v=d,c},k.$$s=f,k),e).call(g)},h.$$s=f,h),e).call(g)},z.$$s=this,z),g).call(this,K,"r")}catch(ja){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+ba+" not readable: "+K),this.$replace_next_line("Unresolved directive in "+
this.path+" - include::"+y+"["+f+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}((g=(G=e(X.$to_a(),fa.$to_a()))["$empty?"]())===d||g.$$is_boolean&&1!=g)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+(p(G.$size(),1)?"s":d)+" '"+m(G,",")+"' not found in include "+ba+": "+K);this.$advance();this.$push_include(Q,K,M,ea,Y)}}else try{V=(g=this.$open,g.$$p=(A=function(a){null==a&&(a=d);return a.$read()},A.$$s=this,A),g).call(this,K,"r"),this.$advance(),this.$push_include(V,K,M,
1,Y)}catch(ja){try{this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+ba+" not readable: "+K),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+y+"["+f+"]")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return!0}return!1}this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded");return!1}this.$advance();B.$process_method()["$[]"](this.document,this,y,C.get("AttributeList").$new(f).$parse());
return!0}this.$advance();this.document.$attributes().$fetch("attribute-missing",C.get("Compliance").$attribute_missing())["$=="]("skip")&&this.$unshift("Unresolved directive in "+this.path+" - include::"+b+"["+f+"]");return!0});a.defn(u,"$push_include",function(b,c,f,g,h){var k,m=d,n=d;null==c&&(c=d);null==f&&(f=d);null==g&&(g=1);null==h&&(h=x([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==c&&c!==d?(this.file=c,this.dir=
C.get("File").$dirname(c),this.process_lines=C.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(c))):(this.file=d,this.dir=".",this.process_lines=!0);!1!==f&&f!==d?(this.includes["$<<"](C.get("Helpers").$rootname(f)),c=f):c="<stdin>";this.path=c;this.lineno=g;if((k=h["$has_key?"]("depth"))!==d&&(!k.$$is_boolean||1==k)){m=h["$[]"]("depth").$to_i();if("number"===typeof m?0>=m:m["$<="](0))m=1;this.maxdepth=x(["abs","rel"],{abs:q(e(this.include_stack.$size(),1),m),rel:m})}(k=(this.lines=this.$prepare_lines(b,
x(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:h["$[]"]("indent")})))["$empty?"]())===d||k.$$is_boolean&&1!=k?((k=h["$has_key?"]("leveloffset"))===d||k.$$is_boolean&&1!=k||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+h["$[]"]("leveloffset")),this.lines.$push(""),(k=n=this.document.$attr("leveloffset"))===d||k.$$is_boolean&&1!=k?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+n),this.lineno=e(this.lineno,2)),this.eof=!1,this.look_ahead=0):
this.$pop_include();return d});a.defn(u,"$pop_include",function(){var b;p(this.include_stack.$size(),0)&&(b=a.to_ary(this.include_stack.$pop()),this.lines=null==b[0]?d:b[0],this.file=null==b[1]?d:b[1],this.dir=null==b[2]?d:b[2],this.path=null==b[3]?d:b[3],this.lineno=null==b[4]?d:b[4],this.maxdepth=null==b[5]?d:b[5],this.process_lines=null==b[6]?d:b[6],this.eof=this.lines["$empty?"](),this.look_ahead=0);return d});a.defn(u,"$include_depth",function(){return this.include_stack.$size()});a.defn(u,"$exceeded_max_depth?",
function(){var a,b=d;return(a=p(b=this.maxdepth["$[]"]("abs"),0)?k(this.include_stack.$size(),b):p(this.maxdepth["$[]"]("abs"),0))===d||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")});a.defn(u,"$shift",z=function(){var c=b.call(arguments,0),f,e=z.$$p;z.$$p=null;if((f=this.unescape_next_line)===d||f.$$is_boolean&&1!=f)return a.find_super_dispatcher(this,"shift",z,e).apply(this,c);this.unescape_next_line=!1;return a.find_super_dispatcher(this,"shift",z,e).apply(this,c)["$[]"](t(1,-1,!1))});a.defn(u,
"$skip_front_matter!",function(b,c){var f,e,g,h=d,k=d;null==c&&(c=!0);h=d;if(b["$[]"](0)["$=="]("---")){k=b.$dup();h=[];b.$shift();!1!==c&&c!==d&&(this.lineno=q(this.lineno,1));for(;(e=(g=b["$empty?"]()["$!"](),!1!==g&&g!==d?b["$[]"](0)["$!="]("---"):g))!==d&&(!e.$$is_boolean||1==e);)h.$push(b.$shift()),!1!==c&&c!==d&&(this.lineno=q(this.lineno,1));(f=b["$empty?"]())===d||f.$$is_boolean&&1!=f?(b.$shift(),!1!==c&&c!==d&&(this.lineno=q(this.lineno,1))):((f=b).$unshift.apply(f,a.to_a(k)),!1!==c&&c!==
d&&(this.lineno=0),h=d)}return h});a.defn(u,"$resolve_expr_val",function(a){var b,c,f,e=d;(b=!1!==(c=(f=a["$start_with?"]('"'),!1!==f&&f!==d?a["$end_with?"]('"'):f))&&c!==d?c:(f=a["$start_with?"]("'"),!1!==f&&f!==d?a["$end_with?"]("'"):f))===d||b.$$is_boolean&&1!=b?e=!1:(e=!0,a=a["$[]"](t(1,-1,!0)));(b=a["$include?"]("{"))===d||b.$$is_boolean&&1!=b||(a=this.document.$sub_attributes(a,x(["attribute_missing"],{attribute_missing:"drop"})));return!1!==e&&e!==d?a:(b=a["$empty?"]())===d||b.$$is_boolean&&
1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===d||b.$$is_boolean&&1!=b?(b=a["$include?"]("."))===d||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":d});a.defn(u,"$include_processors?",function(){var a,b;return(a=this.include_processor_extensions["$nil?"]())===d||a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(b=this.document["$extensions?"](),!1!==b&&b!==d?this.document.$extensions()["$include_processors?"]():b))===d||a.$$is_boolean&&1!=a?this.include_processor_extensions=
!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()});return(a.defn(u,"$to_s",function(){var a,b,c;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+(a=(b=this.include_stack).$map,a.$$p=(c=function(a){null==a&&(a=d);return a.$to_s()},c.$$s=this,c),a).call(b).$join(", ")+"]}>"}),d)&&"to_s"})(n.base,n.get("Reader"))}(a.base)};
Opal.modules["asciidoctor/section"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="ignore";var m=a.nil,e=a.slice,k=a.module,d=a.klass,c=a.hash2,b=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));
return function(B){B=k(B,"Asciidoctor").$$scope;(function(k,$super){function t(){}var n=t=d(k,$super,"Section",t),r=n.$$proto,l=n.$$scope,g,u,A;r.level=r.document=r.parent=r.number=r.title=r.numbered=r.blocks=m;n.$attr_accessor("index");n.$attr_accessor("number");n.$attr_accessor("sectname");n.$attr_accessor("special");n.$attr_accessor("numbered");a.defn(n,"$initialize",g=function(b,d,f,e){null==b&&(b=m);null==d&&(d=m);null==f&&(f=!0);null==e&&(e=c([],{}));g.$$p=null;a.find_super_dispatcher(this,
"initialize",g,null).apply(this,[b,"section",e]);this.level=!1!==d&&d!==m?d:!1!==b&&b!==m?q(b.$level(),1):1;this.numbered=(d=!1!==f&&f!==m)?p(this.level,0):f;this.special=(d=!1!==b&&b!==m?b.$context()["$=="]("section"):b,!1!==d&&d!==m?b.$special():d);this.index=0;return this.number=1});a.alias(n,"name","title");a.defn(n,"$generate_id",function(){var a,c,d=m,e=m,g=m,k=e=m;if((a=this.document.$attributes()["$has_key?"]("sectids"))===m||a.$$is_boolean&&1!=a)return m;d=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&
a!==m?a:"_";e=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==m?a:"_";g=""+e+this.$title().$downcase().$gsub(l.get("InvalidSectionIdCharsRx"),d).$tr_s(d,d).$chomp(d);if((a=(c=e["$empty?"](),!1!==c&&c!==m?g["$start_with?"](d):c))!==m&&(!a.$$is_boolean||1==a))for(g=g["$[]"](b(1,-1,!1));(c=g["$start_with?"](d))!==m&&(!c.$$is_boolean||1==c);)g=g["$[]"](b(1,-1,!1));e=g;for(k=l.get("Compliance").$unique_id_start_index();(c=this.document.$references()["$[]"]("ids")["$has_key?"](e))!==m&&(!c.$$is_boolean||
1==c);)e=""+g+d+k,k=q(k,1);return e});a.defn(n,"$sectnum",function(a,b){var c,d,e,g;null==a&&(a=".");null==b&&(b=m);!1!==(c=b)&&c!==m?c:b=b["$=="](!1)?"":a;return(c=(d=(e=(g=this.level,!1!==g&&g!==m?p(this.level,1):g),!1!==e&&e!==m?this.parent:e),!1!==d&&d!==m?this.parent.$context()["$=="]("section"):d))===m||c.$$is_boolean&&1!=c?""+this.number+b:""+this.parent.$sectnum(a)+this.number+b});a.defn(n,"$<<",u=function(b){var c=e.call(arguments,0),d=u.$$p;u.$$p=null;b.$context()["$=="]("section")&&this.$assign_index(b);
return a.find_super_dispatcher(this,"<<",u,d).apply(this,c)});return(a.defn(n,"$to_s",A=function(){var b=e.call(arguments,0),c,d=A.$$p,g=m;A.$$p=null;if((c=this.title["$!="](m))===m||c.$$is_boolean&&1!=c)return a.find_super_dispatcher(this,"to_s",A,d).apply(this,b);g=(c=this.numbered)===m||c.$$is_boolean&&1!=c?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+g.$inspect()+", blocks: "+this.blocks.$size()+"}>"}),m)&&"to_s"})(B.base,
B.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/stylesheets"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,p=a.module,m=a.klass,e=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(k){(function(d,$super){function b(){}var k=b=m(d,$super,"Stylesheets",b),p=k.$$proto,x=k.$$scope;p.primary_stylesheet_data=
p.coderay_stylesheet_data=p.pygments_stylesheet_data=q;a.cdecl(x,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(x,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(x,"STYLESHEETS_DATA_PATH",a.get("File").$join(x.get("DATA_PATH"),"stylesheets"));k.__instance__=k.$new();a.defs(k,"$instance",function(){null==this.__instance__&&(this.__instance__=q);return this.__instance__});a.defn(k,"$primary_stylesheet_name",function(){return x.get("DEFAULT_STYLESHEET_NAME")});a.defn(k,"$primary_stylesheet_data",function(){var b;
return!1!==(b=this.primary_stylesheet_data)&&b!==q?b:this.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(x.get("STYLESHEETS_DATA_PATH"),"asciidoctor-default.css")).$chomp()});a.defn(k,"$embed_primary_stylesheet",function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"});a.defn(k,"$write_primary_stylesheet",function(b){var d,e,l;return(d=(e=a.get("File")).$open,d.$$p=(l=function(a){var b=l.$$s||this;null==a&&(a=q);return a.$write(b.$primary_stylesheet_data())},l.$$s=
this,l),d).call(e,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")});a.defn(k,"$coderay_stylesheet_name",function(){return"coderay-asciidoctor.css"});a.defn(k,"$coderay_stylesheet_data",function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&b!==q?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(x.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()});a.defn(k,"$embed_coderay_stylesheet",function(){return"<style>\n"+this.$coderay_stylesheet_data()+
"\n</style>"});a.defn(k,"$write_coderay_stylesheet",function(b){var d,e,l;return(d=(e=a.get("File")).$open,d.$$p=(l=function(a){var b=l.$$s||this;null==a&&(a=q);return a.$write(b.$coderay_stylesheet_data())},l.$$s=this,l),d).call(e,a.get("File").$join(b,this.$coderay_stylesheet_name()),"w")});a.defn(k,"$pygments_stylesheet_name",function(a){var b;null==a&&(a=q);return"pygments-"+(!1!==(b=a)&&b!==q?b:x.get("DEFAULT_PYGMENTS_STYLE"))+".css"});a.defn(k,"$pygments_stylesheet_data",function(a){var b;return(b=
this.$load_pygments())===q||b.$$is_boolean&&1!=b?"/* Pygments styles disabled. Pygments is not available. */":!1!==(b=this.pygments_stylesheet_data)&&b!==q?b:this.pygments_stylesheet_data=e([],{})});a.defn(k,"$embed_pygments_stylesheet",function(a){null==a&&(a=q);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"});a.defn(k,"$write_pygments_stylesheet",function(b,d){var e,l,g;null==d&&(d=q);return(e=(l=a.get("File")).$open,e.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=q);return a.$write(b.$pygments_stylesheet_data(d))},
g.$$s=this,g),e).call(l,a.get("File").$join(b,this.$pygments_stylesheet_name(d)),"w")});return(a.defn(k,"$load_pygments",function(){var b;return(b=null==a.Object.$$scope.Pygments?q:"constant")===q||b.$$is_boolean&&1!=b?x.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():!0}),q)&&"load_pygments"})(p(k,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/table"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var d=a.nil,c=a.slice,b=a.module,
B=a.klass,y=a.hash2,x=a.range;a.add_stubs("$attr_accessor $new $key? $[] $abs $to_i $== $!= $> $[]= $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_col_widths $** $assign_width $- $shift $style= $head= $foot= $pop $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cell_spec $cell_open? $close_cell $advance $take_cell_spec $fetch $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_col_visits".split(" "));
return function(t){t=b(t,"Asciidoctor").$$scope;(function(b,$super){function c(){}var g=c=B(b,$super,"Table",c),t=g.$$proto,A=g.$$scope,C;t.attributes=t.document=t.has_header_option=t.rows=t.columns=d;(function(b,$super){function c(){}var d=c=B(b,$super,"Rows",c);d.$attr_accessor("head","foot","body");a.defn(d,"$initialize",function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c});return a.alias(d,"[]","send")})(A.base,null);a.cdecl(A,"DEFAULT_DATA_FORMAT",
"psv");a.cdecl(A,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(A,"DEFAULT_DELIMITERS",y(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(A,"TEXT_STYLES",y("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(A,"ALIGNMENTS",y(["h","v"],{h:y(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:y(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));g.$attr_accessor("columns");g.$attr_accessor("rows");g.$attr_accessor("has_header_option");
a.defn(g,"$initialize",C=function(b,c){var e,g,l,k=d,n=d;C.$$p=null;a.find_super_dispatcher(this,"initialize",C,null).apply(this,[b,"table"]);this.rows=A.get("Rows").$new();this.columns=[];this.has_header_option=c["$key?"]("header-option");k=c["$[]"]("width");n=k.$to_i().$abs();(e=!1!==(g=(l=n["$=="](0))?k["$!="]("0"):n["$=="](0))&&g!==d?g:q(n,100))===d||e.$$is_boolean&&1!=e||(n=100);this.attributes["$[]="]("tablepcwidth",n);return(e=this.document.$attributes()["$key?"]("pagewidth"))===d||e.$$is_boolean&&
1!=e?d:(e="tableabswidth",g=this.attributes,!1!==(l=g["$[]"](e))&&l!==d?l:g["$[]="](e,p(m(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()))});a.defn(g,"$header_row?",function(){var a;return a=this.has_header_option,!1!==a&&a!==d?this.rows.$body()["$empty?"]():a});a.defn(g,"$create_columns",function(a){var b,c,g=d,l=d,g=[],l=0;(b=a.$each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=d);l=e(l,a["$[]"]("width"));return g["$<<"](A.get("Column").$new(b,
g.$size(),a))},c.$$s=this,c),b).call(a);if((b=(this.columns=g)["$empty?"]())===d||b.$$is_boolean&&1!=b)this.attributes["$[]="]("colcount",g.$size()),this.$assign_col_widths(l["$=="](0)?d:l);return d});a.defn(g,"$assign_col_widths",function(a){var b,c,g,l,n,q=d,t=d,u=d;null==a&&(a=d);q=10["$**"](4);t=u=0;!1!==a&&a!==d?(b=(c=this.columns).$each,b.$$p=(g=function(b){null==b&&(b=d);return t=e(t,u=b.$assign_width(d,a,q))},g.$$s=this,g),b).call(c):(u=m(m(p(100,q),this.columns.$size()).$to_i(),q),u.$to_i()["$=="](u)&&
(u=u.$to_i()),(b=(l=this.columns).$each,b.$$p=(n=function(a){null==a&&(a=d);return t=e(t,a.$assign_width(u))},n.$$s=this,n),b).call(l));t["$=="](100)||this.columns["$[]"](-1).$assign_width(m(p(e(k(100,t),u),q).$round(),q));return d});return(a.defn(g,"$partition_header_footer",function(a){var b,c,e,g=d,l=d;this.attributes["$[]="]("rowcount",this.rows.$body().$size());g=this.rows.$body().$size();(b=(c=q(g,0))?this.has_header_option:q(g,0))===d||b.$$is_boolean&&1!=b||(l=this.rows.$body().$shift(),g=
k(g,1),(b=(c=l).$each,b.$$p=(e=function(a){var b,c;null==a&&(a=d);return b=[d],c=a,c["$style="].apply(c,b),b[b.length-1]},e.$$s=this,e),b).call(c),b=[[l]],c=this.rows,c["$head="].apply(c,b),b[b.length-1]);(b=(c=q(g,0))?a["$key?"]("footer-option"):q(g,0))===d||b.$$is_boolean&&1!=b||(b=[[this.rows.$body().$pop()]],c=this.rows,c["$foot="].apply(c,b),b[b.length-1]);return d}),d)&&"partition_header_footer"})(t.base,t.get("AbstractBlock"));(function(b,$super){function c(){}var g=c=B(b,$super,"Column",c),
k;g.$$proto.attributes=d;g.$attr_accessor("style");a.defn(g,"$initialize",k=function(b,c,g){var f;null==g&&(g=y([],{}));k.$$p=null;a.find_super_dispatcher(this,"initialize",k,null).apply(this,[b,"column"]);this.style=g["$[]"]("style");g["$[]="]("colnumber",e(c,1));b="width";c=g;!1!==(f=c["$[]"](b))&&f!==d?f:c["$[]="](b,1);b="halign";c=g;!1!==(f=c["$[]"](b))&&f!==d?f:c["$[]="](b,"left");b="valign";c=g;!1!==(f=c["$[]"](b))&&f!==d?f:c["$[]="](b,"top");return this.$update_attributes(g)});a.alias(g,"table",
"parent");return(a.defn(g,"$assign_width",function(a,b,c){var f;null==b&&(b=d);null==c&&(c=1E4);!1!==b&&b!==d&&(a=m(p(p(m(this.attributes["$[]"]("width").$to_f(),b),100),c).$to_i(),c),a.$to_i()["$=="](a)&&(a=a.$to_i()));this.attributes["$[]="]("colpcwidth",a);if((f=this.$parent().$attributes()["$key?"]("tableabswidth"))!==d&&(!f.$$is_boolean||1==f))this.attributes["$[]="]("colabswidth",p(m(a,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return a}),d)&&"assign_width"})(t.get("Table"),
t.get("AbstractNode"));(function(b,$super){function e(){}var g=e=B(b,$super,"Cell",e),k=g.$$proto,m=g.$$scope,p,h;k.style=k.document=k.text=k.inner_document=k.colspan=k.rowspan=k.attributes=d;g.$attr_accessor("style");g.$attr_accessor("colspan");g.$attr_accessor("rowspan");a.alias(g,"column","parent");g.$attr_reader("inner_document");a.defn(g,"$initialize",p=function(b,c,e,g){var h,l=d,k=d,n=d,q=d;null==e&&(e=y([],{}));null==g&&(g=d);p.$$p=null;a.find_super_dispatcher(this,"initialize",p,null).apply(this,
[b,"cell"]);this.text=c;this.rowspan=this.colspan=this.style=d;!1!==b&&b!==d&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));!1!==e&&e!==d&&(this.colspan=e.$delete("colspan"),this.rowspan=e.$delete("rowspan"),(h=e["$key?"]("style"))===d||h.$$is_boolean&&1!=h||(this.style=e["$[]"]("style")),this.$update_attributes(e));if((h=(c=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))===d||h.$$is_boolean&&1!=h)return d;
l=this.document.$attributes().$delete("doctitle");k=this.text.$split(m.get("EOL"));if((h=!1!==(c=k["$empty?"]())&&c!==d?c:k["$[]"](0)["$include?"]("::")["$!"]())===d||h.$$is_boolean&&1!=h)n=k["$[]"](0),q=m.get("PreprocessorReader").$new(this.document,n).$readlines(),(h=q["$!="](n))===d||h.$$is_boolean&&1!=h||(k.$shift(),(h=k).$unshift.apply(h,a.to_a(q)));this.inner_document=m.get("Document").$new(k,y(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:g}));return(c=l["$nil?"]())===
d||c.$$is_boolean&&1!=c?this.document.$attributes()["$[]="]("doctitle",l):d});a.defn(g,"$text",function(){return this.$apply_normal_subs(this.text).$strip()});a.defn(g,"$content",function(){var a,b,c;return this.style["$=="]("asciidoc")?this.inner_document.$convert():(a=(b=this.$text().$split(m.get("BlankLineRx"))).$map,a.$$p=(c=function(a){var b=c.$$s||this,f,e;null==b.style&&(b.style=d);null==a&&(a=d);return(f=!1!==(e=b.style["$!"]())&&e!==d?e:b.style["$=="]("header"))===d||f.$$is_boolean&&1!=f?
m.get("Inline").$new(b.$parent(),"quoted",a,y(["type"],{type:b.style})).$convert():a},c.$$s=this,c),a).call(b)});return(a.defn(g,"$to_s",h=function(){var b=c.call(arguments,0),e,g=h.$$p;h.$$p=null;return""+a.find_super_dispatcher(this,"to_s",h,g).apply(this,b).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(e=this.colspan)&&e!==d?e:1)+", rowspan: "+(!1!==(e=this.rowspan)&&e!==d?e:1)+", attributes: "+this.attributes+"]"}),d)&&"to_s"})(t.get("Table"),t.get("AbstractNode"));(function(b,$super){function c(){}
var g=c=B(b,$super,"ParserContext",c),m=g.$$proto,p=g.$$scope;m.format=m.delimiter=m.delimiter_re=m.buffer=m.cell_specs=m.cell_open=m.last_cursor=m.table=m.current_row=m.col_count=m.col_visits=m.active_rowspans=m.linenum=d;g.$attr_accessor("table");g.$attr_accessor("format");g.$attr_reader("col_count");g.$attr_accessor("buffer");g.$attr_reader("delimiter");g.$attr_reader("delimiter_re");a.defn(g,"$initialize",function(a,b,c){var e,g;null==c&&(c=y([],{}));this.reader=a;this.table=b;this.last_cursor=
a.$cursor();(e=this.format=c["$[]"]("format"))===d||e.$$is_boolean&&1!=e?this.format=p.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):((e=p.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))===d||e.$$is_boolean&&1!=e)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(e=(g=this.format["$=="]("psv")?c["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==g&&g!==d?b.$document()["$nested?"]():g))===d||e.$$is_boolean&&1!=e?!1!==(e=c["$[]"]("separator"))&&e!==d?
e:p.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format):"!";this.delimiter_re=new RegExp(""+p.get("Regexp").$escape(this.delimiter));this.col_count=(e=b.$columns()["$empty?"]())===d||e.$$is_boolean&&1!=e?b.$columns().$size():-1;this.buffer="";this.cell_specs=[];this.cell_open=!1;this.active_rowspans=[0];this.col_visits=0;this.current_row=[];return this.linenum=-1});a.defn(g,"$starts_with_delimiter?",function(a){return a["$start_with?"](this.delimiter)});a.defn(g,"$match_delimiter",
function(a){return this.delimiter_re.$match(a)});a.defn(g,"$skip_matched_delimiter",function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(!1!==b&&b!==d?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()});a.defn(g,"$buffer_has_unclosed_quotes?",function(a){var b,c,e=d;null==a&&(a=d);e=(""+this.buffer+a).$strip();return b=(c=e["$start_with?"]('"'),!1!==c&&c!==d?e["$start_with?"]('""')["$!"]():c),!1!==b&&b!==d?e["$end_with?"]('"')["$!"]():b});a.defn(g,"$buffer_quoted?",
function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==d?this.buffer["$start_with?"]('""')["$!"]():a});a.defn(g,"$take_cell_spec",function(){return this.cell_specs.$shift()});a.defn(g,"$push_cell_spec",function(a){var b;null==a&&(a=y([],{}));this.cell_specs["$<<"](!1!==(b=a)&&b!==d?b:y([],{}));return d});a.defn(g,"$keep_cell_open",function(){this.cell_open=!0;return d});a.defn(g,"$mark_cell_closed",function(){this.cell_open=!1;return d});a.defn(g,
"$cell_open?",function(){return this.cell_open});a.defn(g,"$cell_closed?",function(){return this.cell_open["$!"]()});a.defn(g,"$close_open_cell",function(a){var b;null==a&&(a=y([],{}));this.$push_cell_spec(a);(b=this["$cell_open?"]())===d||b.$$is_boolean&&1!=b||this.$close_cell(!0);this.$advance();return d});a.defn(g,"$close_cell",function(b){try{var c,f,g,l=d,m=d,n=d;null==b&&(b=!1);l=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(m=this.$take_cell_spec(),!1!==m&&m!==d?(n=m.$fetch("repeatcol",
1),m.$delete("repeatcol")):(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),m=y([],{}),n=1)):(m=d,n=1,!this.format["$=="]("csv")||(c=(f=l["$empty?"]()["$!"](),!1!==f&&f!==d?l["$include?"]('"'):f))===d||c.$$is_boolean&&1!=c||((c=(f=l["$start_with?"]('"'),!1!==f&&f!==d?l["$end_with?"]('"'):f))===d||c.$$is_boolean&&1!=c||(l=l["$[]"](x(1,-1,!0)).$strip()),l=l.$tr_s('"','"')));(c=(f=1).$upto,c.$$p=(g=function(c){var f=g.$$s||
this,h,t,u,y,x,H,B=d,I=d,S=d,B=d;null==f.col_count&&(f.col_count=d);null==f.table&&(f.table=d);null==f.current_row&&(f.current_row=d);null==f.last_cursor&&(f.last_cursor=d);null==f.reader&&(f.reader=d);null==f.col_visits&&(f.col_visits=d);null==f.linenum&&(f.linenum=d);null==c&&(c=d);if(f.col_count["$=="](-1))f.table.$columns()["$<<"](B=p.get("Table").$$scope.get("Column").$new(f.table,k(e(f.table.$columns().$size(),c),1))),(h=(t=(u=!1!==m&&m!==d)?m["$key?"]("colspan"):m,!1!==t&&t!==d?q(I=k(m["$[]"]("colspan").$to_i(),
1),0):t))===d||h.$$is_boolean&&1!=h||(S=f.table.$columns().$size(),(h=(t=I).$times,h.$$p=(y=function(a){var b=y.$$s||this;null==b.table&&(b.table=d);null==a&&(a=d);return b.table.$columns()["$<<"](p.get("Table").$$scope.get("Column").$new(b.table,e(S,a)))},y.$$s=f,y),h).call(t));else if((h=B=f.table.$columns()["$[]"](f.current_row.$size()))===d||h.$$is_boolean&&1!=h)f.$warn("asciidoctor: ERROR: "+f.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(d);
B=p.get("Table").$$scope.get("Cell").$new(B,l,m,f.last_cursor);f.last_cursor=f.reader.$cursor();((h=!1!==(u=B.$rowspan()["$!"]())&&u!==d?u:B.$rowspan()["$=="](1))===d||h.$$is_boolean&&1!=h)&&f.$activate_rowspan(B.$rowspan(),!1!==(h=B.$colspan())&&h!==d?h:1);f.col_visits=e(f.col_visits,!1!==(h=B.$colspan())&&h!==d?h:1);f.current_row["$<<"](B);return(h=(u=f["$end_of_row?"](),!1!==u&&u!==d?!1!==(x=!1!==(H=f.col_count["$!="](-1))&&H!==d?H:q(f.linenum,0))&&x!==d?x:(H=!1!==b&&b!==d)?c["$=="](n):b:u))===
d||h.$$is_boolean&&1!=h?d:f.$close_row()},g.$$s=this,g),c).call(f,n);this.cell_open=!1;return d}catch(t){if(t===a.returner)return t.$v;throw t;}});a.defn(g,"$close_row",function(){var a,b;this.table.$rows().$body()["$<<"](this.current_row);this.col_count["$=="](-1)&&(this.col_count=this.col_visits);this.col_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(b=a["$[]"](0))&&b!==d?b:a["$[]="](0,0);return d});a.defn(g,"$activate_rowspan",function(a,b){var c,g,l;(c=
(g=(1).$upto(k(a,1))).$each,c.$$p=(l=function(a){var c=l.$$s||this,f;null==c.active_rowspans&&(c.active_rowspans=d);null==a&&(a=d);return c.active_rowspans["$[]="](a,e(!1!==(f=c.active_rowspans["$[]"](a))&&f!==d?f:0,b))},l.$$s=this,l),c).call(g);return d});a.defn(g,"$end_of_row?",function(){var a;return!1!==(a=this.col_count["$=="](-1))&&a!==d?a:this.$effective_col_visits()["$=="](this.col_count)});a.defn(g,"$effective_col_visits",function(){return e(this.col_visits,this.active_rowspans["$[]"](0))});
return(a.defn(g,"$advance",function(){return this.linenum=e(this.linenum,1)}),d)&&"advance"})(t.get("Table"),null)}(a.base)};
(function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var e,k=a.top,d=a.nil,c=a.gvars,b=a.module,B=a.hash2,y=a.range,x=a.hash;null==c[":"]&&(c[":"]=d);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace= $stack_trace $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
((e=null!=a.RUBY_ENGINE)===d||e.$$is_boolean&&1!=e)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",q(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",q(a.get("RUBY_VERSION"),"2"));k.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&k.$require("asciidoctor/opal_ext");c[":"].$unshift(a.get("File").$dirname("asciidoctor"));(function(c){c=
b(c,"Asciidoctor");var e=c.$$scope,k,l,g,u=d,A=d;a.cdecl(e,"RUBY_ENGINE",a.get("RUBY_ENGINE"));(function(c){c=b(c,"SafeMode").$$scope;a.cdecl(c,"UNSAFE",0);a.cdecl(c,"SAFE",1);a.cdecl(c,"SERVER",10);a.cdecl(c,"SECURE",20)})(e.base);(function(c){c=b(c,"Compliance");c.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(c));a.defs(c,"$define",function(b,c){null==this.keys&&(this.keys=d);this.$instance_variable_set("@"+b,c);a.get_singleton_class(this).$send("attr_accessor",
b);this.keys["$<<"](b);return d});c.$define("block_terminates_paragraph",!0);c.$define("strict_verbatim_paragraphs",!0);c.$define("underline_style_section_titles",!0);c.$define("unwrap_standalone_preamble",!0);c.$define("attribute_missing","skip");c.$define("attribute_undefined","drop-line");c.$define("shorthand_property_syntax",!0);c.$define("unique_id_start_index",2);c.$define("markdown_syntax",!0)})(e.base);a.cdecl(e,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
a.cdecl(e,"LIB_PATH",a.get("File").$join(e.get("ROOT_PATH"),"lib"));a.cdecl(e,"DATA_PATH",a.get("File").$join(e.get("ROOT_PATH"),"data"));try{a.cdecl(e,"USER_HOME",a.get("Dir").$home())}catch(C){try{a.cdecl(e,"USER_HOME",!1!==(k=a.get("ENV")["$[]"]("HOME"))&&k!==d?k:a.get("Dir").$pwd())}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.cdecl(e,"COERCE_ENCODING",(k=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==k&&k!==d?a.get("RUBY_MIN_VERSION_1_9"):k));a.cdecl(e,"FORCE_ENCODING",(k=e.get("COERCE_ENCODING"),
!1!==k&&k!==d?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):k));a.cdecl(e,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.cdecl(e,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(e,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(e,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(e,"SUPPORTS_GSUB_RESULT_HASH",(k=a.get("RUBY_MIN_VERSION_1_9"),!1!==k&&k!==d?a.get("RUBY_ENGINE_OPAL")["$!"]():k));a.cdecl(e,
"EOL","\n");a.cdecl(e,"NULL","\x00");a.cdecl(e,"TAB","\t");a.cdecl(e,"DEFAULT_DOCTYPE","article");a.cdecl(e,"DEFAULT_BACKEND","html5");a.cdecl(e,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(e,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(e,"BACKEND_ALIASES",B(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(e,"DEFAULT_PAGE_WIDTHS",B(["docbook"],{docbook:425}));a.cdecl(e,"DEFAULT_EXTENSIONS",B(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",
pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(e,"ASCIIDOC_EXTENSIONS",B([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(e,"SECTION_LEVELS",B(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(e,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(e,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.cdecl(e,
"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(e,"DELIMITED_BLOCKS",B('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],____:["quote",
["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(e,"DELIMITED_BLOCK_LEADERS",(k=(l=e.get("DELIMITED_BLOCKS").$keys()).$map,k.$$p=(g=function(a){null==a&&(a=d);return a["$[]"](y(0,1,!1))},g.$$s=c,
g),k).call(l).$to_set());a.cdecl(e,"LAYOUT_BREAK_LINES",B(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(e,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(e,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(e,"ORDERED_LIST_KEYWORDS",B(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.cdecl(e,
"LIST_CONTINUATION","+");a.cdecl(e,"LINE_BREAK"," +");a.cdecl(e,"LINE_CONTINUATION"," \\");a.cdecl(e,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(e,"BLOCK_MATH_DELIMITERS",B(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(e,"INLINE_MATH_DELIMITERS",B(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(e,"FLEXIBLE_ATTRIBUTES",["sectnums"]);e.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(e,"CC_ALPHA","a-zA-Z"),a.cdecl(e,"CG_ALPHA","[a-zA-Z]"),
a.cdecl(e,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(e,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(e,"CG_BLANK","[ \\t]"),a.cdecl(e,"CC_EOL","(?=\\n|$)"),a.cdecl(e,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(e,"CC_ALL","[\\s\\S]"),a.cdecl(e,"CC_WORD","a-zA-Z0-9_"),a.cdecl(e,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(e,"AuthorInfoLineRx",new RegExp("^("+e.get("CG_WORD")+"["+e.get("CC_WORD")+"\\-'.]*)(?: +("+e.get("CG_WORD")+"["+e.get("CC_WORD")+"\\-'.]*))?(?: +("+e.get("CG_WORD")+"["+e.get("CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(e,
"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(e,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(e,"ManpageNamePurposeRx",new RegExp("^(.*?)"+e.get("CG_BLANK")+"+-"+e.get("CG_BLANK")+"+(.*)$"));a.cdecl(e,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(e,"EvalExpressionRx",new RegExp("^(\\S.*?)"+e.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+e.get("CG_BLANK")+"*(\\S.*)$"));a.cdecl(e,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);
a.cdecl(e,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(e,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+e.get("CG_BLANK")+"+(.*))?$"));a.cdecl(e,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(e,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(e,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(e,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+e.get("CC_ALPHA")+":_]["+e.get("CC_WORD")+":.-]*)(?:,"+e.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(e,
"BlockAttributeListRx",new RegExp("^\\[(|"+e.get("CG_BLANK")+"*["+e.get("CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.cdecl(e,"BlockAttributeLineRx",new RegExp("^\\[(|"+e.get("CG_BLANK")+"*["+e.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+e.get("CC_ALPHA")+":_]["+e.get("CC_WORD")+":.-]*(?:,"+e.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(e,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(e,"AdmonitionParagraphRx",new RegExp("^("+p(e.get("ADMONITION_STYLES").$to_a(),"|")+"):"+e.get("CG_BLANK")));a.cdecl(e,"LiteralParagraphRx",
new RegExp("^("+e.get("CG_BLANK")+"+.*)$"));a.cdecl(e,"CommentBlockRx",/^\/{4,}$/);a.cdecl(e,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(e,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+e.get("CG_BLANK")+"+(\\S.*?)(?:"+e.get("CG_BLANK")+"+\\1)?$"));a.cdecl(e,"SetextSectionTitleRx",new RegExp("^((?=.*"+e.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(e,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(e,"InlineSectionAnchorRx",new RegExp("^(.*?)"+e.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+e.get("CC_ALPHA")+":_]["+
e.get("CC_WORD")+":.-]*)(?:,"+e.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(e,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+e.get("CC_WORD")+"]+?"));a.cdecl(e,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(e,"AnyListRx",new RegExp("^(?:<?\\d+>"+e.get("CG_BLANK")+"+"+e.get("CG_GRAPH")+"|"+e.get("CG_BLANK")+"*(?:-|(?:\\*|\\.|\\u2022){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+e.get("CG_BLANK")+"+"+e.get("CG_GRAPH")+"|"+e.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:"+
e.get("CG_BLANK")+"+"+e.get("CG_GRAPH")+"|$))"));a.cdecl(e,"UnorderedListRx",new RegExp("^"+e.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+e.get("CG_BLANK")+"+(.*)$"));a.cdecl(e,"OrderedListRx",new RegExp("^"+e.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+e.get("CG_BLANK")+"+(.*)$"));a.cdecl(e,"OrderedListMarkerRxMap",B(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));
a.cdecl(e,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+e.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+e.get("CG_BLANK")+"+(.*))?$"));a.cdecl(e,"DefinitionListSiblingRx",B(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+e.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+e.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+e.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+e.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+e.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+e.get("CG_BLANK")+"+(.*))?$"),
";;":new RegExp("^(?!\\/\\/)"+e.get("CG_BLANK")+"*(.*)(;;)(?:"+e.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(e,"CalloutListRx",new RegExp("^<?(\\d+)>"+e.get("CG_BLANK")+"+(.*)"));a.cdecl(e,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(e,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(e,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+e.get("CC_EOL")+")"));a.cdecl(e,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+
e.get("CC_EOL")+")"));a.cdecl(e,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+e.get("CC_EOL")+")");a.cdecl(e,"ListRxMap",B(["ulist","olist","dlist","colist"],{ulist:e.get("UnorderedListRx"),olist:e.get("OrderedListRx"),dlist:e.get("DefinitionListRx"),colist:e.get("CalloutListRx")}));a.cdecl(e,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(e,"CellSpecStartRx",new RegExp("^"+e.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));
a.cdecl(e,"CellSpecEndRx",new RegExp(""+e.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(e,"GenericBlockMacroRx",new RegExp("^("+e.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(e,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(e,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(e,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+e.get("CC_ALPHA")+":_]["+e.get("CC_WORD")+
":.-]*)(?:,"+e.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(e,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+e.get("CC_WORD")+":]["+e.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(e,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+e.get("CG_WORD")+"["+e.get("CC_WORD")+".%+-]*@"+e.get("CG_ALNUM")+"["+e.get("CC_ALNUM")+".-]*\\."+e.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(e,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+e.get("CC_ALL")+"*?[^\\\\])\\]"));
a.cdecl(e,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(e,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+e.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+e.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(e,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(e,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+e.get("CG_BLANK")+"*[^\\1])"));a.cdecl(e,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);
a.cdecl(e,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(e,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+e.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(e,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+e.get("CG_WORD")+"|"+e.get("CG_WORD")+".*?\\S)\\["+e.get("CG_BLANK")+"*(.+?)?\\]"));a.cdecl(e,"MenuInlineRx",new RegExp('\\\\?"('+e.get("CG_WORD")+'[^"]*?'+e.get("CG_BLANK")+"*&gt;"+e.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(e,"PassInlineRx",
x(!1,["+","`",new RegExp("(^|[^"+e.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+e.get("CC_ALL")+"*?\\S)\\4)(?!"+e.get("CG_WORD")+")")],!0,["`",d,new RegExp("(^|[^`"+e.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+e.get("CC_ALL")+"*?\\S)\\4)(?![`"+e.get("CC_WORD")+"])")]));a.cdecl(e,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+e.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+e.get("CC_ALL")+"*?[^\\\\])\\])"));
a.cdecl(e,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+e.get("CC_WORD")+'":.\\/]'+e.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+e.get("CC_WORD")+'":.\\/]'+e.get("CC_ALL")+"*?)\\[("+e.get("CC_ALL")+"*?)\\])"));e.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(e,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(e,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(e,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(e,"BlankLineRx",new RegExp("^"+e.get("CG_BLANK")+"*\\n"));a.cdecl(e,"DataDelimiterRx",
/,|;/);a.cdecl(e,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(e,"DoubleQuotedMultiRx",new RegExp('^("|)('+e.get("CC_ALL")+"*)\\1$"));a.cdecl(e,"TrailingDigitsRx",/\d+$/);a.cdecl(e,"EscapedSpaceRx",new RegExp("\\\\("+e.get("CG_BLANK")+")"));a.cdecl(e,"SpaceDelimiterRx",new RegExp("([^\\\\])"+e.get("CG_BLANK")+"+"));a.cdecl(e,"SubModifierSniffRx",/[+-]/);a.cdecl(e,"UnicodeCharScanRx",function(){e.get("RUBY_ENGINE")["$=="]("opal");return d}());a.cdecl(e,"UriSniffRx",new RegExp("^"+e.get("CG_ALPHA")+"["+
e.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(e,"UriTerminator",/[);:]$/);a.cdecl(e,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(e,"INTRINSIC_ATTRIBUTES",B("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));u=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+e.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+e.get("CC_ALL")+"*?\\S)\\*(?!"+e.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+
';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+e.get("CC_ALL")+'*?\\S)`"(?!'+e.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+e.get("CC_ALL")+"*?\\S)`'(?!"+e.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+e.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+e.get("CC_ALL")+"*?\\S)`(?!["+e.get("CC_WORD")+"\"'`])")],
["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+e.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+e.get("CC_ALL")+"*?\\S)_(?!"+e.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+e.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+e.get("CC_ALL")+"*?\\S)#(?!"+e.get("CG_WORD")+")")],["superscript",
"unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];A=u.$dup();A["$[]="](2,["double","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+e.get("CC_ALL")+"*?\\S)''(?!"+e.get("CG_WORD")+")")]);A["$[]="](3,["single","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+e.get("CC_ALL")+"*?\\S)'(?!"+e.get("CG_WORD")+")")]);A["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+
e.get("CC_ALL")+"+?)\\+\\+")]);A["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+e.get("CC_ALL")+"*?\\S)\\+(?!"+e.get("CG_WORD")+")")]);A.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+e.get("CC_ALL")+"*?\\S)'(?!"+e.get("CG_WORD")+")")]);a.cdecl(e,"QUOTE_SUBS",x(!1,u,!0,A));A=u=d;a.cdecl(e,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,
"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+e.get("CG_WORD")+")\\\\?--(?="+e.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+e.get("CG_ALNUM")+")\\\\?'(?="+e.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,
"","bounding"]]);(function(b){var c=b.$$scope;a.defn(b,"$load",function(b,e){var g,l,k,m,p,n,q,r,t,u=this,y=d,A=d,x=d,C=d,T=d,ba=d,K=d,M=d,P=d,X=d,Y=d,Q=d,ea=d,U=d;null==e&&(e=B([],{}));try{e=e.$dup();(g=y=e["$[]"]("timings"))===d||g.$$is_boolean&&1!=g||y.$start("read");A=e["$[]="]("attributes",function(){if((g=(x=e["$[]"]("attributes"))["$!"]())===d||g.$$is_boolean&&1!=g){if((g=!1!==(l=a.get("Hash")["$==="](x))&&l!==d?l:(k=a.get("RUBY_ENGINE_JRUBY"),!1!==k&&k!==d?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](x):
k))===d||g.$$is_boolean&&1!=g){if((g=a.get("Array")["$==="](x))===d||g.$$is_boolean&&1!=g){if((g=a.get("String")["$==="](x))===d||g.$$is_boolean&&1!=g){if((g=(n=x["$respond_to?"]("keys"),!1!==n&&n!==d?x["$respond_to?"]("[]"):n))===d||g.$$is_boolean&&1!=g)return u.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+x.$class().$ancestors());T=x;x=B([],{});(g=(n=T.$keys()).$each,g.$$p=(q=function(a){null==a&&(a=d);return x["$[]="](a,T["$[]"](a))},q.$$s=u,q),g).call(n);return x}C="\\1";
x=x.$gsub(c.get("SpaceDelimiterRx"),""+C+c.get("NULL")).$gsub(c.get("EscapedSpaceRx"),C);return(g=(k=x.$split(c.get("NULL"))).$inject,g.$$p=(p=function(b,c){var e,f=d,g=d;null==b&&(b=d);null==c&&(c=d);e=a.to_ary(c.$split("=",2));f=null==e[0]?d:e[0];g=null==e[1]?d:e[1];b["$[]="](f,!1!==(e=g)&&e!==d?e:"");return b},p.$$s=u,p),g).call(k,B([],{}))}return(g=(l=x).$inject,g.$$p=(m=function(b,c){var e,f=d,g=d;null==b&&(b=d);null==c&&(c=d);e=a.to_ary(c.$split("=",2));f=null==e[0]?d:e[0];g=null==e[1]?d:e[1];
b["$[]="](f,!1!==(e=g)&&e!==d?e:"");return b},m.$$s=u,m),g).call(l,B([],{}))}return x.$dup()}return B([],{})}());ba=d;if((g=a.get("File")["$==="](b))===d||g.$$is_boolean&&1!=g)if((g=b["$respond_to?"]("readlines"))===d||g.$$is_boolean&&1!=g)(g=a.get("String")["$==="](b))===d||g.$$is_boolean&&1!=g?(g=a.get("Array")["$==="](b))===d||g.$$is_boolean&&1!=g?u.$raise(a.get("ArgumentError"),"unsupported input type: "+b.$class()):ba=b.$dup():ba=b.$lines().$entries();else{try{b.$rewind()}catch(F){try{d}finally{a.gvars["!"]=
a.exceptions.pop()||a.nil}}ba=b.$readlines()}else K=a.get("File").$expand_path(b.$path()),M=b.$mtime(),ba=b.$readlines(),A["$[]="]("docfile",K),A["$[]="]("docdir",a.get("File").$dirname(K)),A["$[]="]("docname",c.get("Helpers").$basename(K,!0)),P=(g="docdate",r=A,!1!==(t=r["$[]"](g))&&t!==d?t:r["$[]="](g,M.$strftime("%Y-%m-%d"))),X=(g="doctime",r=A,!1!==(t=r["$[]"](g))&&t!==d?t:r["$[]="](g,M.$strftime("%H:%M:%S %Z"))),A["$[]="]("docdatetime",""+P+" "+X);!1!==y&&y!==d&&(y.$record("read"),y.$start("parse"));
Y=e["$[]"]("parse")["$=="](!1)?c.get("Document").$new(ba,e):c.get("Document").$new(ba,e).$parse();!1!==y&&y!==d&&y.$record("parse");return Y}catch(F){Q=F;try{try{ea="asciidoctor: FAILED: "+(!1!==(g=A["$[]"]("docfile"))&&g!==d?g:"<stdin>")+": Failed to load AsciiDoc document",(g=Q["$respond_to?"]("exception"))===d||g.$$is_boolean&&1!=g?(U=Q.$class().$new(ea,Q),g=[Q.$stack_trace()],r=U,r["$stack_trace="].apply(r,g),g[g.length-1]):(U=Q.$exception(""+ea+" - "+Q.$message()),U.$set_backtrace(Q.$backtrace()))}catch(fa){try{U=
Q}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return u.$raise(U)}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(b,"$load_file",function(b,c){null==c&&(c=B([],{}));return this.$load(a.get("File").$new(!1!==b&&b!==d?b:""),c)});a.defn(b,"$convert",function(b,e){var g,l,k,p,n,r,t,u=d,x=d,y=d,A=d,C=d,I=d,S=d,T=d,ba=d,K=d,M=C=d,P=u=u=T=I=d,X=I=x=d,Y=u=S=A=d,Q=y=d;null==e&&(e=B([],{}));e=e.$dup();e.$delete("parse");u=e.$delete("to_file");x=e.$delete("to_dir");y=!1!==(g=e.$delete("mkdirs"))&&
g!==d?g:!1;A=e["$[]"]("timings");C=u;if((!0)["$==="](C)||d["$==="](C))I=(g=x["$!"](),!1!==g&&g!==d?a.get("File")["$==="](b):g),S=!1,T=x,u=d;else if((!1)["$==="](C))T=S=I=!1,u=d;else{if("/dev/null"["$==="](C))return this.$load(b,e);I=!1;S=u["$respond_to?"]("write");T=!1!==S&&S!==d?!1:u}if(((g=e["$key?"]("header_footer"))===d||g.$$is_boolean&&1!=g)&&(g=!1!==(l=I)&&l!==d?l:T)!==d&&(!g.$$is_boolean||1==g))e["$[]="]("header_footer",!0);if(!1!==I&&I!==d)ba=a.get("File").$expand_path(b.$path()),e["$[]="]("to_dir",
K=a.get("File").$dirname(ba));else if(!1!==T&&T!==d)if(!1!==x&&x!==d)if(!1!==u&&u!==d)e["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(x,u))));else e["$[]="]("to_dir",a.get("File").$expand_path(x));else{if(!1!==u&&u!==d)e["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(u)))}else e["$[]="]("to_dir",d);C=this.$load(b,e);if(!1!==I&&I!==d)M=a.get("File").$join(K,""+C.$attributes()["$[]"]("docname")+C.$outfilesuffix()),M["$=="](ba)&&this.$raise(a.get("IOError"),
"input file and output file cannot be the same: "+M);else if(!1!==T&&T!==d){if(I=(g=e["$has_key?"]("base_dir"))===d||g.$$is_boolean&&1!=g?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(e["$[]"]("base_dir")),T=q(C.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?I:d,!1!==x&&x!==d?(K=C.$normalize_system_path(x,I,T,B(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==u&&u!==d?(M=C.$normalize_system_path(u,K,d,B(["target_name","recover"],{target_name:"to_dir",
recover:!1})),K=a.get("File").$dirname(M)):M=a.get("File").$join(K,""+C.$attributes()["$[]"]("docname")+C.$outfilesuffix())):!1!==u&&u!==d&&(M=C.$normalize_system_path(u,I,T,B(["target_name","recover"],{target_name:"to_dir",recover:!1})),K=a.get("File").$dirname(M)),(g=a.get("File")["$directory?"](K))===d||g.$$is_boolean&&1!=g)!1!==y&&y!==d?a.get("FileUtils").$mkdir_p(K):this.$raise(a.get("IOError"),"target directory does not exist: "+x)}else M=u,K=d;!1!==A&&A!==d&&A.$start("convert");u=(g=(l=!1!==
M&&M!==d)?S["$!"]():M)===d||g.$$is_boolean&&1!=g?B([],{}):B(["outfile","outdir"],{outfile:M,outdir:K});u=C.$convert(u);!1!==A&&A!==d&&A.$record("convert");return!1!==M&&M!==d?(!1!==A&&A!==d&&A.$start("write"),C.$write(u,M),!1!==A&&A!==d&&A.$record("write"),(g=(l=(k=(p=(n=(r=S["$!"](),!1!==r&&r!==d?m(C.$safe(),c.get("SafeMode").$$scope.get("SECURE")):r),!1!==n&&n!==d?C["$attr?"]("linkcss"):n),!1!==p&&p!==d?C["$attr?"]("copycss"):p),!1!==k&&k!==d?C["$attr?"]("basebackend-html"):k),!1!==l&&l!==d?(k=
P=C.$attr("stylesdir"),!1!==k&&k!==d?c.get("Helpers")["$uriish?"](P):k)["$!"]():l))===d||g.$$is_boolean&&1!=g||(I=x=!1,(g=X=C.$attr("stylesheet"))===d||g.$$is_boolean&&1!=g||((g=c.get("DEFAULT_STYLESHEET_KEYS")["$include?"](X))===d||g.$$is_boolean&&1!=g?(g=c.get("Helpers")["$uriish?"](X)["$!"]())===d||g.$$is_boolean&&1!=g||(I=!0):x=!0),A=(g=C["$attr?"]("source-highlighter","coderay"),!1!==g&&g!==d?C.$attr("coderay-css","class")["$=="]("class"):g),S=(g=C["$attr?"]("source-highlighter","pygments"),
!1!==g&&g!==d?C.$attr("pygments-css","class")["$=="]("class"):g),(g=!1!==(l=!1!==(k=!1!==(p=x)&&p!==d?p:I)&&k!==d?k:A)&&l!==d?l:S)===d||g.$$is_boolean&&1!=g||(u=C.$normalize_system_path(P,K,q(C.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?K:d),!1!==y&&y!==d&&c.get("Helpers").$mkdir_p(u),!1!==x&&x!==d?c.get("Stylesheets").$instance().$write_primary_stylesheet(u):!1!==I&&I!==d&&(Y=(g=(Y=C.$attr("copycss"))["$empty?"]())===d||g.$$is_boolean&&1!=g?C.$normalize_system_path(Y):C.$normalize_system_path(X),
y=C.$normalize_system_path(X,u,q(C.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?K:d),((g=!1!==(l=Y["$=="](y))&&l!==d?l:(Q=C.$read_asset(Y))["$nil?"]())===d||g.$$is_boolean&&1!=g)&&(g=(l=a.get("File")).$open,g.$$p=(t=function(a){null==a&&(a=d);return a.$write(Q)},t.$$s=this,t),g).call(l,y,"w")),!1!==A&&A!==d?c.get("Stylesheets").$instance().$write_coderay_stylesheet(u):!1!==S&&S!==d&&c.get("Stylesheets").$instance().$write_pygments_stylesheet(u,C.$attr("pygments-style")))),C):u});a.alias(b,"render",
"convert");a.defn(b,"$convert_file",function(b,c){null==c&&(c=B([],{}));return this.$convert(a.get("File").$new(!1!==b&&b!==d?b:""),c)});return a.alias(b,"render_file","convert_file")})(a.get_singleton_class(c));e.get("RUBY_ENGINE")["$=="]("opal")&&(c.$require("asciidoctor/version"),c.$require("asciidoctor/timings"))})(a.base);k.$require("asciidoctor/core_ext");k.$require("asciidoctor/helpers");k.$require("asciidoctor/substitutors");k.$require("asciidoctor/abstract_node");k.$require("asciidoctor/abstract_block");
k.$require("asciidoctor/attribute_list");k.$require("asciidoctor/block");k.$require("asciidoctor/callouts");k.$require("asciidoctor/converter");(e=a.get("RUBY_ENGINE_OPAL"))===d||e.$$is_boolean&&1!=e||k.$require("asciidoctor/converter/html5");k.$require("asciidoctor/document");k.$require("asciidoctor/inline");k.$require("asciidoctor/list");k.$require("asciidoctor/parser");k.$require("asciidoctor/path_resolver");k.$require("asciidoctor/reader");k.$require("asciidoctor/section");k.$require("asciidoctor/stylesheets");
return k.$require("asciidoctor/table")})(Opal);(function(a){a.dynamic_require_severity="ignore";return a.nil})(Opal);
(function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var e=a.nil,k=a.breaker,d=a.slice,c=a.module,b=a.klass,B=a.hash2,y=a.range,x=a.hash;a.add_stubs("$[]= $config $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $new $create_block $is_a? $has_more_lines? $next_block $<< $each $define_method $send $insert $dup $call $attr_accessor $[] $option $=== $to_set $flatten $resolve_regexp $== $attr $method $register $arity $instance_exec $to_proc $activate $+ $values $groups $add_document_processor $! $find $select $add_syntax_processor $to_sym $include? $private $tr $to_s $join $map $upcase $chr $split $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $class_for_name $< $update_config $unshift $as_symbol $name= $pop $size $> $- $fill $-@ $next_auto_id $generate_name $length $empty? $const_defined?".split(" "));return function(t){(function(n){n=
c(n,"Extensions");var r=n.$$scope;(function(c,$super){function k(){}var m=k=b(c,$super,"Processor",k),p=m.$$scope,h,f,n;m.$$proto.config=e;(function(b){a.defn(b,"$config",function(){var a;null==this.config&&(this.config=e);return!1!==(a=this.config)&&a!==e?a:this.config=B([],{})});a.defn(b,"$option",function(a,b){return this.$config()["$[]="](a,b)});a.defn(b,"$use_dsl",function(){var a;return(a=this.$name()["$nil_or_empty?"]())===e||a.$$is_boolean&&1!=a?(a=this.$constants().$grep("DSL"))===e||a.$$is_boolean&&
1!=a?e:this.$extend(this.$const_get("DSL")):(a=this.$constants().$grep("DSL"))===e||a.$$is_boolean&&1!=a?e:this.$include(this.$const_get("DSL"))});a.alias(b,"extend_dsl","use_dsl");return a.alias(b,"include_dsl","use_dsl")})(a.get_singleton_class(m));m.$attr_reader("config");a.defn(m,"$initialize",function(a){null==a&&(a=B([],{}));return this.config=this.$class().$config().$merge(a)});a.defn(m,"$update_config",function(a){return this.config.$update(a)});a.defn(m,"$process",function(){var b=arguments.length-
0;0>b&&(b=0);for(var c=Array(b),d=0;d<b;d++)c[d]=arguments[d+0];return this.$raise(a.get("NotImplementedError"))});a.defn(m,"$create_block",function(a,b,c,d,e){null==e&&(e=B([],{}));return p.get("Block").$new(a,b,B(["source","attributes"],{source:c,attributes:d}).$merge(e))});a.defn(m,"$create_image_block",function(a,b,c){null==c&&(c=B([],{}));return this.$create_block(a,"image",e,b,c)});a.defn(m,"$create_inline",function(a,b,c,d){null==d&&(d=B([],{}));return p.get("Inline").$new(a,b,c,d)});a.defn(m,
"$parse_content",function(a,b,c){var d,f,h=e,l=e;null==c&&(c=B([],{}));for(h=(d=b["$is_a?"](p.get("Reader")))===e||d.$$is_boolean&&1!=d?p.get("Reader").$new(b):b;(f=h["$has_more_lines?"]())!==e&&(!f.$$is_boolean||1==f);)if(l=p.get("Parser").$next_block(h,a,c),!1!==l&&l!==e)a["$<<"](l);return e});return(h=(f=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block",
"create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,h.$$p=(n=function(b,c,f){var h=n.$$s||this,l,k;null==b&&(b=e);null==c&&(c=e);null==f&&(f=e);return(l=h.$define_method,l.$$p=(k=function(b){var e=k.$$s||this,h;b=d.call(arguments,0);return(h=e).$send.apply(h,[c].concat(a.to_a(b.$dup().$insert(1,f))))},k.$$s=h,k),l).call(h,b)},n.$$s=m,n),h).call(f)})(r.base,null);(function(b){b=c(b,"ProcessorDsl");var d;a.defn(b,"$option",function(a,
b){return this.$config()["$[]="](a,b)});a.defn(b,"$process",d=function(){var b,c=d.$$p||e;null==this.process_block&&(this.process_block=e);var l=arguments.length-0;0>l&&(l=0);for(var h=Array(l),f=0;f<l;f++)h[f]=arguments[f+0];d.$$p=null;return c!==e?this.process_block=c:(b=this.process_block)===e||b.$$is_boolean&&1!=b?this.$raise(a.get("NotImplementedError")):(b=this.process_block).$call.apply(b,a.to_a(h))});a.defn(b,"$process_block_given?",function(){var a;return(a=this.process_block,null!=a&&a!==
e)?"instance-variable":e})})(r.base);(function(c,$super){function d(){}var k=d=b(c,$super,"Preprocessor",d);return(a.defn(k,"$process",function(b,c){return this.$raise(a.get("NotImplementedError"))}),e)&&"process"})(r.base,r.get("Processor"));a.casgn(r.get("Preprocessor"),"DSL",r.get("ProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"Treeprocessor",d);return(a.defn(k,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),e)&&"process"})(r.base,r.get("Processor"));
a.casgn(r.get("Treeprocessor"),"DSL",r.get("ProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"Postprocessor",d);return(a.defn(k,"$process",function(b,c){return this.$raise(a.get("NotImplementedError"))}),e)&&"process"})(r.base,r.get("Processor"));a.casgn(r.get("Postprocessor"),"DSL",r.get("ProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"IncludeProcessor",d);a.defn(k,"$process",function(b,c,d,e){return this.$raise(a.get("NotImplementedError"))});return(a.defn(k,
"$handles?",function(a){return!0}),e)&&"handles?"})(r.base,r.get("Processor"));a.casgn(r.get("IncludeProcessor"),"DSL",r.get("ProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"DocinfoProcessor",d),m;k.$$proto.config=e;k.$attr_accessor("location");a.defn(k,"$initialize",m=function(b){var c,d;null==b&&(b=B([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[b]);return c=this.config,!1!==(d=c["$[]"]("location"))&&d!==e?d:c["$[]="]("location","head")});
return(a.defn(k,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),e)&&"process"})(r.base,r.get("Processor"));(function(b){b=c(b,"DocinfoProcessorDsl");b.$include(b.$$scope.get("ProcessorDsl"));a.defn(b,"$at_location",function(a){return this.$option("location",a)})})(r.base);a.casgn(r.get("DocinfoProcessor"),"DSL",r.get("DocinfoProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"BlockProcessor",d),m;k.$$proto.config=e;k.$attr_accessor("name");a.defn(k,"$initialize",
m=function(b,c){var d,l,k,p=e;null==b&&(b=e);null==c&&(c=B([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[c]);this.name=!1!==(d=b)&&d!==e?d:this.config["$[]"]("name");p=this.config["$[]"]("contexts");if(a.get("NilClass")["$==="](p))d="contexts",l=this.config,!1!==(k=l["$[]"](d))&&k!==e?k:l["$[]="](d,["open","paragraph"].$to_set());else if(a.get("Symbol")["$==="](p))this.config["$[]="]("contexts",[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",
this.config["$[]"]("contexts").$to_set());return d="content_model",l=this.config,!1!==(k=l["$[]"](d))&&k!==e?k:l["$[]="](d,"compound")});return(a.defn(k,"$process",function(b,c,d){return this.$raise(a.get("NotImplementedError"))}),e)&&"process"})(r.base,r.get("Processor"));(function(b){b=c(b,"BlockProcessorDsl");var d=b.$$scope;b.$include(d.get("ProcessorDsl"));a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](d.get("Processor")))===e||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=
a});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$contexts",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];return this.$option("contexts",b.$flatten())});a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=arguments.length-0;0>a&&
(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];return this.$option("pos_attrs",b.$flatten())});a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(r.base);a.casgn(r.get("BlockProcessor"),"DSL",r.get("BlockProcessorDsl"));(function(c,$super){function d(){}
var k=d=b(c,$super,"MacroProcessor",d),m;k.$$proto.config=e;k.$attr_accessor("name");a.defn(k,"$initialize",m=function(b,c){var d,l,k;null==b&&(b=e);null==c&&(c=B([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[c]);this.name=!1!==(d=b)&&d!==e?d:this.config["$[]"]("name");return d="content_model",l=this.config,!1!==(k=l["$[]"](d))&&k!==e?k:l["$[]="](d,"attributes")});return(a.defn(k,"$process",function(b,c,d){return this.$raise(a.get("NotImplementedError"))}),e)&&"process"})(r.base,
r.get("Processor"));(function(b){b=c(b,"MacroProcessorDsl");var d=b.$$scope;b.$include(d.get("ProcessorDsl"));a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](d.get("Processor")))===e||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=a});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=arguments.length-
0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];return this.$option("pos_attrs",b.$flatten())});a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(r.base);(function(a,$super){function c(){}c=b(a,$super,"BlockMacroProcessor",c);return e})(r.base,
r.get("MacroProcessor"));a.casgn(r.get("BlockMacroProcessor"),"DSL",r.get("MacroProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"InlineMacroProcessor",d),m=k.$$proto;m.config=m.name=e;a.defn(k,"$regexp",function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==e?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))});return(a.defn(k,"$resolve_regexp",function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):
new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")}),e)&&"resolve_regexp"})(r.base,r.get("MacroProcessor"));(function(b){b=c(b,"InlineMacroProcessorDsl");b.$include(b.$$scope.get("MacroProcessorDsl"));a.defn(b,"$using_format",function(a){return this.$option("format",a)});a.defn(b,"$match",function(a){return this.$option("regexp",a)})})(r.base);a.casgn(r.get("InlineMacroProcessor"),"DSL",r.get("InlineMacroProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"Extension",d);
k.$attr("kind");k.$attr("config");k.$attr("instance");return(a.defn(k,"$initialize",function(a,b,c){this.kind=a;this.instance=b;return this.config=c}),e)&&"initialize"})(r.base,null);(function(c,$super){function d(){}var k=d=b(c,$super,"ProcessorExtension",d),m;k.$attr("process_method");return(a.defn(k,"$initialize",m=function(b,c,d){var k;null==d&&(d=e);m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[b,c,c.$config()]);return this.process_method=!1!==(k=d)&&k!==e?k:c.$method("process")}),
e)&&"initialize"})(r.base,r.get("Extension"));(function(c,$super){function d(){}var k=d=b(c,$super,"Group",d);(function(b){var c=b.$$scope;return(a.defn(b,"$register",function(a){null==a&&(a=e);return c.get("Extensions").$register(a,this)}),e)&&"register"})(a.get_singleton_class(k));return(a.defn(k,"$activate",function(b){return this.$raise(a.get("NotImplementedError"))}),e)&&"activate"})(r.base,null);(function(c,$super){function d(){}var n=d=b(c,$super,"Registry",d),r=n.$$proto,h=n.$$scope,f,t,x,
D,N,v,L,J,O,R;r.groups=r.preprocessor_extensions=r.treeprocessor_extensions=r.postprocessor_extensions=r.include_processor_extensions=r.docinfo_processor_extensions=r.block_extensions=r.block_macro_extensions=r.inline_macro_extensions=e;n.$attr_reader("document");n.$attr_reader("groups");a.defn(n,"$initialize",function(a){null==a&&(a=B([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.treeprocessor_extensions=
this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=e});a.defn(n,"$activate",function(b){var c,d,f;this.document=b;(c=(d=q(h.get("Extensions").$groups().$values(),this.groups.$values())).$each,c.$$p=(f=function(b){var c=f.$$s||this,d,h=e;null==b&&(b=e);h=b;a.get("Proc")["$==="](h)?(h=b.$arity(),b=0["$==="](h)||-1["$==="](h)?(d=c.$instance_exec,d.$$p=b.$to_proc(),d).call(c):1["$==="](h)?b.$call(c):e):b=a.get("Class")["$==="](h)?b.$new().$activate(c):b.$activate(c);
return b},f.$$s=this,f),c).call(d);return this});a.defn(n,"$preprocessor",f=function(){var a,b=f.$$p||e,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+0];f.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"preprocessor",d)});a.defn(n,"$preprocessors?",function(){return this.preprocessor_extensions["$!"]()["$!"]()});a.defn(n,"$preprocessors",function(){return this.preprocessor_extensions});a.defn(n,"$treeprocessor",t=function(){var a,b=
t.$$p||e,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+0];t.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"treeprocessor",d)});a.defn(n,"$treeprocessors?",function(){return this.treeprocessor_extensions["$!"]()["$!"]()});a.defn(n,"$treeprocessors",function(){return this.treeprocessor_extensions});a.defn(n,"$postprocessor",x=function(){var a,b=x.$$p||e,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+
0];x.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"postprocessor",d)});a.defn(n,"$postprocessors?",function(){return this.postprocessor_extensions["$!"]()["$!"]()});a.defn(n,"$postprocessors",function(){return this.postprocessor_extensions});a.defn(n,"$include_processor",D=function(){var a,b=D.$$p||e,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+0];D.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"include_processor",
d)});a.defn(n,"$include_processors?",function(){return this.include_processor_extensions["$!"]()["$!"]()});a.defn(n,"$include_processors",function(){return this.include_processor_extensions});a.defn(n,"$docinfo_processor",N=function(){var a,b=N.$$p||e,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+0];N.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"docinfo_processor",d)});a.defn(n,"$docinfo_processors?",function(a){var b,c,d;null==
a&&(a=e);return(b=this.docinfo_processor_extensions)===e||b.$$is_boolean&&1!=b?!1:!1!==a&&a!==e?(b=(c=this.docinfo_processor_extensions).$find,b.$$p=(d=function(b){null==b&&(b=e);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d),b).call(c):!0});a.defn(n,"$docinfo_processors",function(a){var b,c,d;null==a&&(a=e);return(b=this.docinfo_processor_extensions)===e||b.$$is_boolean&&1!=b?e:!1!==a&&a!==e?(b=(c=this.docinfo_processor_extensions).$select,b.$$p=(d=function(b){null==b&&(b=e);return b.$config()["$[]"]("location")["$=="](a)},
d.$$s=this,d),b).call(c):this.docinfo_processor_extensions});a.defn(n,"$block",v=function(){var a,b=v.$$p||e,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+0];v.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block",d)});a.defn(n,"$blocks?",function(){return this.block_extensions["$!"]()["$!"]()});a.defn(n,"$registered_for_block?",function(a,b){var c,d=e;return(c=d=this.block_extensions["$[]"](a.$to_sym()))===e||c.$$is_boolean&&1!=c?!1:
(c=d.$config()["$[]"]("contexts")["$include?"](b))===e||c.$$is_boolean&&1!=c?!1:d});a.defn(n,"$find_block_extension",function(a){return this.block_extensions["$[]"](a.$to_sym())});a.defn(n,"$block_macro",L=function(){var a,b=L.$$p||e,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+0];L.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block_macro",d)});a.defn(n,"$block_macros?",function(){return this.block_macro_extensions["$!"]()["$!"]()});
a.defn(n,"$registered_for_block_macro?",function(a){var b,c=e;return(b=c=this.block_macro_extensions["$[]"](a.$to_sym()))===e||b.$$is_boolean&&1!=b?!1:c});a.defn(n,"$find_block_macro_extension",function(a){return this.block_macro_extensions["$[]"](a.$to_sym())});a.defn(n,"$inline_macro",J=function(){var a,b=J.$$p||e,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+0];J.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"inline_macro",d)});a.defn(n,
"$inline_macros?",function(){return this.inline_macro_extensions["$!"]()["$!"]()});a.defn(n,"$registered_for_inline_macro?",function(a){var b,c=e;return(b=c=this.inline_macro_extensions["$[]"](a.$to_sym()))===e||b.$$is_boolean&&1!=b?!1:c});a.defn(n,"$find_inline_macro_extension",function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())});a.defn(n,"$inline_macros",function(){return this.inline_macro_extensions.$values()});n.$private();a.defn(n,"$add_document_processor",O=function(b,c){var d,
f,k,l,m,n,q=this,r=O.$$p||e,t=e,u=e,w=e,v=e,x=u=e,z=e,A=e,C=e;O.$$p=null;t=b.$to_s().$tr("_"," ");u=(d=(f=t.$split(" ")).$map,d.$$p=(k=function(a){null==a&&(a=e);return""+a.$chr().$upcase()+a["$[]"](y(1,-1,!1))},k.$$s=q,k),d).call(f).$join().$to_sym();w=h.get("Extensions").$const_get(u);v=(d=null==a.Object.$$scope.AsciidoctorJ?e:"constant")===e||d.$$is_boolean&&1!=d?e:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(u);u=!1!==(d=q.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&
d!==e?d:q.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);x=function(){if(r!==e)return z=q.$resolve_args(c,1),A=w.$new(z),(d=w.$constants().$grep("DSL"))===e||d.$$is_boolean&&1!=d||A.$extend(w.$const_get("DSL")),(d=(l=A).$instance_exec,d.$$p=r.$to_proc(),d).call(l),A.$freeze(),((d=A["$process_block_given?"]())===e||d.$$is_boolean&&1!=d)&&q.$raise(a.get("ArgumentError").$new("No block specified to process "+t+" extension at "+r.$source_location())),h.get("ProcessorExtension").$new(b,A);
d=a.to_ary(q.$resolve_args(c,2));A=null==d[0]?e:d[0];z=null==d[1]?e:d[1];if((d=!1!==(m=A["$is_a?"](a.get("Class")))&&m!==e?m:(n=A["$is_a?"](a.get("String")),!1!==n&&n!==e?A=h.get("Extensions").$class_for_name(A):n))===e||d.$$is_boolean&&1!=d){if((d=!1!==(m=A["$is_a?"](w))&&m!==e?m:(n=!1!==v&&v!==e)?A["$is_a?"](v):v)===e||d.$$is_boolean&&1!=d)return q.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+t+" extension: "+c));A.$update_config(z);A.$freeze();return h.get("ProcessorExtension").$new(b,
A)}((d=!1!==(m=p(A,w))&&m!==e?m:(n=!1!==v&&v!==e)?p(A,v):v)===e||d.$$is_boolean&&1!=d)&&q.$raise(a.get("ArgumentError").$new("Invalid type for "+t+" extension: "+A));C=A.$new(z);C.$freeze();return h.get("ProcessorExtension").$new(b,C)}();return x.$config()["$[]"]("position")["$=="](">>")?u.$unshift(x):u["$<<"](x)});a.defn(n,"$add_syntax_processor",R=function(b,c){var d,f,l,m,n,q,r=R.$$p||e,t=e,u=e,w=e,v=u=e,x=w=e,A=e,z=e,u=e;R.$$p=null;t=b.$to_s().$tr("_"," ");u=(d=(f=t.$split(" ")).$map,d.$$p=(l=
function(a){null==a&&(a=e);return""+a.$chr().$upcase()+a["$[]"](y(1,-1,!1))},l.$$s=this,l),d).call(f).$join();w=(""+u+"Processor").$to_sym();u=h.get("Extensions").$const_get(w);v=(d=null==a.Object.$$scope.AsciidoctorJ?e:"constant")===e||d.$$is_boolean&&1!=d?e:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(w);w=!1!==(d=this.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&d!==e?d:this.$instance_variable_set(("@"+b+"_extensions").$to_sym(),B([],{}));if(r!==e){d=a.to_ary(this.$resolve_args(c,
2));x=null==d[0]?e:d[0];A=null==d[1]?e:d[1];z=u.$new(this.$as_symbol(x),A);(d=u.$constants().$grep("DSL"))===e||d.$$is_boolean&&1!=d||z.$extend(u.$const_get("DSL"));if(r.$arity()["$=="](1)){if(a.yield1(r,z)===k)return k.$v}else(d=(m=z).$instance_exec,d.$$p=r.$to_proc(),d).call(m);((d=x=this.$as_symbol(z.$name()))===e||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+t+" extension at "+r.$source_location()));((d=z["$process_block_given?"]())===e||d.$$is_boolean&&
1!=d)&&this.$raise(a.get("NoMethodError").$new("No block specified to process "+t+" extension at "+r.$source_location()));z.$freeze();return w["$[]="](x,h.get("ProcessorExtension").$new(b,z))}d=a.to_ary(this.$resolve_args(c,3));z=null==d[0]?e:d[0];x=null==d[1]?e:d[1];A=null==d[2]?e:d[2];if((d=!1!==(n=z["$is_a?"](a.get("Class")))&&n!==e?n:(q=z["$is_a?"](a.get("String")),!1!==q&&q!==e?z=h.get("Extensions").$class_for_name(z):q))===e||d.$$is_boolean&&1!=d){if((d=!1!==(n=z["$is_a?"](u))&&n!==e?n:(q=!1!==
v&&v!==e)?z["$is_a?"](v):v)===e||d.$$is_boolean&&1!=d)return this.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+t+" extension: "+c));z.$update_config(A);((d=x=!1!==x&&x!==e?(n=[this.$as_symbol(x)],q=z,q["$name="].apply(q,n),n[n.length-1]):this.$as_symbol(z.$name()))===e||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+t+" extension: "+z));z.$freeze();return w["$[]="](x,h.get("ProcessorExtension").$new(b,z))}((d=!1!==(n=p(z,
u))&&n!==e?n:(q=!1!==v&&v!==e)?p(z,v):v)===e||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("Class specified for "+t+" extension does not inherit from "+u+": "+z));u=z.$new(this.$as_symbol(x),A);((d=x=this.$as_symbol(u.$name()))===e||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+t+" extension: "+z));z.$freeze();return w["$[]="](x,h.get("ProcessorExtension").$new(b,u))});a.defn(n,"$resolve_args",function(b,c){var d,f=e,h=e,k=e,f=(d=b["$[]"](-1)["$is_a?"](a.get("Hash")))===
e||d.$$is_boolean&&1!=d?B([],{}):b.$pop();if(c["$=="](1))return f;h=b.$size();d=k=m(m(c,1),h);("number"===typeof d?0<d:d["$>"](0))?b.$fill(e,h,k):p(k,0)&&b.$pop(k["$-@"]());b["$<<"](f);return b});return(a.defn(n,"$as_symbol",function(b){var c;return!1!==b&&b!==e?(c=b["$is_a?"](a.get("Symbol")))===e||c.$$is_boolean&&1!=c?b.$to_sym():b:e}),e)&&"as_symbol"})(r.base,null);(function(b){var c=b.$$scope,d,k;a.defn(b,"$generate_name",function(){return"extgrp"+this.$next_auto_id()});a.defn(b,"$next_auto_id",
function(){var a;null==this.auto_id&&(this.auto_id=e);!1!==(a=this.auto_id)&&a!==e?a:this.auto_id=-1;return this.auto_id=q(this.auto_id,1)});a.defn(b,"$groups",function(){var a;null==this.groups&&(this.groups=e);return!1!==(a=this.groups)&&a!==e?a:this.groups=B([],{})});a.defn(b,"$build_registry",d=function(a){var b,f=d.$$p||e;null==a&&(a=e);d.$$p=null;return f!==e?(!1!==(b=a)&&b!==e?b:a=this.$generate_name(),c.get("Registry").$new(x(a,f))):c.get("Registry").$new()});a.defn(b,"$register",k=function(){var b,
c=k.$$p||e,d=e,g=e,l=g=e,l=e,d=arguments.length-0;0>d&&(d=0);for(var m=Array(d),g=0;g<d;g++)m[g]=arguments[g+0];k.$$p=null;d=m.$length();c===e&&((b=(g=m.$pop())["$!"]())===e||b.$$is_boolean&&1!=b?(l=g,c=a.get("Class")["$==="](l)?g:a.get("String")["$==="](l)?this.$class_for_name(g):a.get("Symbol")["$==="](l)?this.$class_for_name(g.$to_s()):g):c=this.$raise(a.get("ArgumentError").$new("Extension group to register not specified")));g=c;l=!1!==(b=m.$pop())&&b!==e?b:this.$generate_name();((b=m["$empty?"]())===
e||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+d+" for 1..2)"));return this.$groups()["$[]="](l,g)});a.defn(b,"$unregister_all",function(){return this.groups=B([],{})});a.defn(b,"$resolve_class",function(b){var c;return(c=b["$is_a?"](a.get("Class")))===e||c.$$is_boolean&&1!=c?this.$class_for_name(b.$to_s()):b});return(a.defn(b,"$class_for_name",function(b){var c,d,g,k=e,k=a.get("Object");(c=(d=b.$split("::")).$each,c.$$p=(g=function(a){var c=g.$$s||
this,d;null==a&&(a=e);return(d=a["$empty?"]())===e||d.$$is_boolean&&1!=d?(d=k["$const_defined?"](a))===e||d.$$is_boolean&&1!=d?c.$raise("Could not resolve class for name: "+b):k=k.$const_get(a):e},g.$$s=this,g),c).call(d);return k}),e)&&"class_for_name"})(a.get_singleton_class(n))})(c(t,"Asciidoctor").$$scope.base)}(a.base)})(Opal);(function(a){a.dynamic_require_severity="ignore";return a.nil})(Opal);
